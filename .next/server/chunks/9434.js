"use strict";exports.id=9434,exports.ids=[9434],exports.modules={16204:(a,b,c)=>{function d(a,b="download",c){let e=window.URL.createObjectURL(new Blob([a])),f=document.createElement("a");f.href=e,f.setAttribute("download",`${b}.${c}`),document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(e)}c.d(b,{M:()=>e,R:()=>d});let e=a=>URL.createObjectURL(a)},44253:(a,b,c)=>{c.d(b,{I:()=>p});var d=c(21124),e=c(83266),f=c(20979),g=c(77570),h=c(72938),i=c(91714),j=c(69212),k=c(18217),l=c(64286),m=c(31041),n=c(3991),o=c.n(n);let p=a=>{let{children:b,fileData:c,actions:n=[],idx:p,...q}=a,{themeConfig:r}=(0,i.p)();return(0,d.jsxs)(j.z,{py:2,px:4,pr:"6px",rounded:r.radii.component,border:"1px solid",borderColor:"border.muted",gap:4,justify:"space-between",...q,children:[(0,d.jsx)(o(),{href:c?.fileUrl,target:"_blank",style:{width:"100%"},children:(0,d.jsxs)(j.z,{gap:4,children:[(0,d.jsxs)(k.o,{pos:"relative",children:[(0,d.jsx)(g.o,{flexShrink:0,mimeType:c?.fileMimeType}),void 0!==p&&(0,d.jsx)(l.j,{className:"ss",size:"16px",bg:"body",border:"1px solid",borderColor:"d1",pos:"absolute",left:"-6px",top:"-6px",children:(0,d.jsx)(h.P,{fontSize:"sm",children:`${p+1}`})})]}),(0,d.jsxs)(f.T,{flex:1,children:[(0,d.jsx)(h.P,{lineClamp:1,children:`${c?.fileName}`}),(0,d.jsx)(h.P,{fontSize:"sm",color:"fg.muted",children:`${c?.fileSize}`})]})]})}),(0,d.jsx)(j.z,{justify:"end",children:n.map(a=>(0,d.jsx)(e.t,{iconButton:!!a.icon,flexShrink:0,size:"xs",color:"fg.subtle",variant:"plain",colorPalette:"gray",onClick:a.onClick,disabled:!1,children:a.icon?(0,d.jsx)(m.I,{boxSize:"18px",children:a.icon}):a.label},a.type))}),b]})}},45450:(a,b,c)=>{c.d(b,{$:()=>h,q:()=>g});var d=c(39193),e=c.n(d),f=c(48936);let g=({maxSizeMB:a=50,allowedExtensions:b,min:c,max:d,checkZip:g=!1}={})=>f.gl().test("fileType","file required",a=>!Array.isArray(a)||0===a.length||a.every(a=>a instanceof File)).test("fileMin",`Minimum ${c} file(s) required`,a=>!(c&&Array.isArray(a))||a.length>=c).test("fileMax",`Maximum ${d} file(s) allowed`,a=>!(d&&Array.isArray(a))||a.length<=d).test("fileSize","file size too large",b=>{if(!Array.isArray(b)||0===b.length)return!0;if(a){let c=1024*a*1024;return b.every(a=>a.size<=c)}return!0}).test("fileExtension",`Supported extensions: ${b?.join(", ")||"all"}`,a=>!(a&&Array.isArray(a))||!b||0===b.length||a.every(a=>{if(!a?.name)return!1;let c=a.name.slice((a.name.lastIndexOf(".")-1>>>0)+2).toLowerCase();return b.includes(c)})).test("zipContents","ZIP file must contain at least one valid file",async a=>{if(!Array.isArray(a)||0===a.length)return!0;if(g){for(let c of a)if(c.name.endsWith(".zip"))try{let a=await e().loadAsync(c),d=Object.keys(a.files);if(0===d.length||!d.some(a=>{let c=a.split(".").pop()?.toLowerCase();return b?.includes(c||"")}))return!1}catch(a){return console.error("check zip error",a),!1}}return!0});function h({resolvedData:a,existingKey:b,deletedKey:c,newKey:d,message:e="At least one item is required"}){return f.gl().test("must-have-at-least-one-item",e,function(e,f){let{parent:g}=f,h=a?.[b]?.length||0,i=g?.[c]?.length||0;return h-i+(g?.[d]?.length||0)>0})}},77570:(a,b,c)=>{c.d(b,{o:()=>m});var d=c(21124),e=c(31041),f=c(36364),g=c(74710),h=c(33602),i=c(83052),j=c(43771),k=c(86446),l=c(5425);let m=(0,c(38301).forwardRef)(({name:a,mimeType:b,iconProps:c,...m},n)=>{let o=a?.toLowerCase().split(".").pop(),p=b?.toLowerCase(),q="current",r=f.A;switch(!0){case"application/pdf"===p||"pdf"===o:q="fg.error",r=g.A;break;case"application/msword"===p||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===p||["doc","docx"].includes(o):q="blue.500",r=h.A;break;case"application/vnd.ms-excel"===p||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===p||["xls","xlsx","csv"].includes(o):q="csv"===o?"green.600":"green.500",r="csv"===o?i.A:j.A;break;case p?.startsWith("image/")||["jpg","jpeg","png","gif","webp","svg"].includes(o):q="purple.500",r=k.A;break;case"application/zip"===p||"application/x-zip-compressed"===p||"zip"===o:q="orange.500",r=l.A}return(0,d.jsx)(e.I,{ref:n,color:`${q} !important`,...m,children:(0,d.jsx)(r,{stroke:1.5,...c})})});m.displayName="FileIcon"},98129:(a,b,c)=>{c.d(b,{z:()=>E,S:()=>D});var d=c(21124),e=c(83266),f=c(20979),g=c(56949),h=c(77570),i=c(72938),j=c(16082),k=c(27467),l=c(44253),m=c(14996),n=c(91714),o=c(98577),p=c(16204),q=c(17950),r=c(74405),s=c(18217),t=c(31041),u=c(66754),v=c(89277),w=c(57216),x=c(38301),y=c(21266);let z=(0,x.forwardRef)(function(a,b){let{children:c,inputProps:e,...f}=a;return(0,d.jsxs)(y.YM,{...f,children:[(0,d.jsx)(y.yD,{ref:b,...e}),c]})}),A=(0,x.forwardRef)(function(a,b){let{children:c,icon:e,label:f,description:g,showIcon:h=!0,showLabel:j=!0,showDescription:k=!0,disabled:l,imgInput:m,...n}=a;return(0,d.jsxs)(y.fT,{ref:b,cursor:"pointer",bg:"body",overflow:"auto",p:4*!m,...n,_hover:{bg:"gray.subtle"},children:[h&&(0,d.jsx)(t.I,{fontSize:"2xl",color:"fg.muted",opacity:l?.4:1,children:e||(0,d.jsx)(v.A,{})}),c,(j||k)&&(0,d.jsxs)(y.YO,{opacity:l?.4:1,mb:m?"28px":"",children:[j&&(0,d.jsx)(i.P,{children:f}),k&&g&&(0,d.jsx)(i.P,{color:"fg.muted",children:g||".* up to 5MB"})]})]})});y.MD,y.h_;let B=y.k,C=a=>{let{inputValue:b,onChange:c,existing:e,...g}=a;return(0,d.jsx)(f.T,{gap:2,...g,children:b?.map((a,f)=>{let g={fileName:a.name,fileMimeType:a.type,fileSize:(0,q.z3)(a.size),fileUrl:(0,p.M)(a)||""};return(0,d.jsx)(l.I,{idx:e.length+f,fileData:g,actions:[{type:"remove",icon:(0,d.jsx)(u.A,{}),onClick:()=>{let a=b.filter((a,b)=>b!==f);c?.(a.length>0?a:null)}}]},f)})})},D=a=>{let{fRef:b,children:c,onChange:l,inputValue:n,accept:p,acceptPlaceholder:u,invalid:w,placeholder:y,label:D,dropzone:E,maxFileSize:F=50,maxFiles:G=1,description:H,disabled:I,existing:J,showDropzoneIcon:K=!0,showDropzoneLabel:L=!0,showDropzoneDescription:M=!0,imgInput:N,...O}=a,{l:P}=(0,m.A)(),Q=(0,r.f)(),[R,S]=(0,x.useState)(1),T=(Array.isArray(J)?J:[]).length,U=n?.[0],V=1===G&&!(0,o.VP)(n),W=V?(0,d.jsx)(h.o,{name:U.name,mimeType:U.type,size:"2xl"}):void 0,X=V?U?.name:y||P.msg_file_input_dropzone,Y=V?(0,q.z3)(U?.size):H||`up to ${F} mB, max ${G||1} file${G>1?"s":""} ${u?`(${u})`:""}`,Z=Q.disabled||I||T>=G;return(0,x.useEffect)(()=>{Z&&(l?.(void 0),S(a=>a+1))},[Z]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(z,{ref:b,alignItems:"stretch",onFileChange:function(a){S(a=>a+1);let b=a.acceptedFiles||[];if(G&&T+b.length>G){let a=P.error_invalid_file.title,b=P.error_invalid_file.description;j.X.error({title:a,description:b,action:{label:"Close",onClick:()=>{}}}),S(a=>a+1);return}l?.(b.length>0?b:void 0)},onFileReject:()=>{j.X.error({title:P.error_invalid_file.title,description:P.error_invalid_file.description,action:{label:"Close",onClick:()=>{}}})},maxFileSize:1024*F*1024,maxFiles:G,gap:2,accept:p,disabled:Z,pos:"relative",...O,children:(0,d.jsxs)(d.Fragment,{children:[E&&V&&(0,d.jsx)(k.m,{content:"Reset",children:(0,d.jsx)(g.J,{pos:"absolute",top:"6px",right:"6px",size:"xs",variant:"plain",color:"fg.subtle",onClick:()=>{l?.(void 0),S(a=>a+1)}})}),E?(0,d.jsx)(A,{flex:1,icon:W,label:X,description:Y,border:"2px dashed",borderColor:w??Q?.invalid?"border.error":"border.muted",disabled:Z,cursor:Z?"disabled":"pointer",showIcon:K,showLabel:L,showDescription:M,imgInput:N,children:(0,d.jsx)(s.o,{mt:!N||(0,o.VP)(n)&&(0,o.VP)(J)?-4:7,children:c})}):(0,d.jsx)(B,{asChild:!0,borderColor:w?"fg.error":"",children:(0,d.jsxs)(e.t,{variant:"outline",borderColor:w??Q?.invalid?"border.error":"border.muted",children:[(0,d.jsx)(t.I,{scale:.8,children:(0,d.jsx)(v.A,{})})," ",D||"File upload"]})}),!V&&n&&!(0,o.VP)(n)&&(0,d.jsxs)(f.T,{gap:2,children:[(!(0,o.VP)(J)||!(0,o.VP)(n))&&(0,d.jsx)(i.P,{fontSize:"sm",color:"fg.subtle",children:`Total : ${(0,q.ZV)(n.length+J.length)}`}),(0,d.jsx)(C,{inputValue:n,onChange:l,setKey:S,existing:J})]})]})},`${R}`)})},E=a=>{let{existingFiles:b,onDeleteFile:c,onUndoDeleteFile:e,...g}=a,{l:h}=(0,m.A)(),{themeConfig:j}=(0,n.p)(),k=(0,r.f)().disabled,[p,q]=(0,x.useState)(b||[]),[s,t]=(0,x.useState)([]);return(0,d.jsxs)(f.T,{gap:3,children:[!(0,o.VP)(p)&&(0,d.jsx)(f.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:j.radii.container,children:(0,d.jsxs)(f.T,{gap:2,opacity:k?.5:1,cursor:k?"disabled":"auto",children:[(0,d.jsx)(i.P,{fontWeight:"medium",pl:1,children:h.uploaded_file}),p?.map((a,b)=>(0,d.jsx)(l.I,{idx:b,fileData:a,actions:[{type:"delete",icon:(0,d.jsx)(w.A,{stroke:1.5}),onClick:()=>{q(b=>b.filter(b=>b.id!==a.id)),t(b=>[...b,a]),c?.(a)}}]},b))]})}),!(0,o.VP)(s)&&(0,d.jsx)(f.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:j.radii.container,children:(0,d.jsxs)(f.T,{gap:2,opacity:k?.5:1,cursor:k?"disabled":"auto",children:[(0,d.jsx)(i.P,{fontWeight:"medium",pl:1,children:h.deleted_file}),s?.map((a,b)=>(0,d.jsx)(l.I,{fileData:a,actions:[{type:"undo_delete",label:"Undo",onClick:()=>{q(b=>[...b,a]),t(b=>b.filter(b=>b.id!==a.id)),e?.(a)}}]},b))]})}),(0,d.jsx)(D,{existing:p,...g})]})}}};