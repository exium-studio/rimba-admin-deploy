"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8902],{20243:(e,t,r)=>{r.d(t,{E:()=>o});var n=r(95155),l=r(93454),a=r(19971);let o=e=>{let{...t}=e,{themeConfig:r}=(0,l.p)();return(0,n.jsx)(a.EA,{rounded:r.radii.component,...t})}},22484:(e,t,r)=>{r.d(t,{O5:()=>a,c4:()=>l,gL:()=>o});var n=r(32309);function l(){return(0,n.c7)("__auth_token")||null}function a(e){(0,n.cT)("__auth_token",e)}function o(){let e=(0,n.c7)("__user_data");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse user data:",e),null}}},35189:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(12115),l=r(40773),a=r(93885),o=r(79310);let s=e=>{let{initialData:t,dummyData:r,payload:s,params:i,url:u,method:c,dependencies:d=[],conditions:_=!0,noRt:f=!1,initialPage:p=1,initialLimit:v=15,intialOffset:A=0,dataResource:h=!0,withLoadingBar:m=!0}=e,T=(0,o.z)(e=>e.setLoadingBar),[g,E]=(0,n.useState)(r||t),[k,x]=(0,n.useState)(!0),[R,C]=(0,n.useState)(!1),[y,w]=(0,n.useState)(p),[I,b]=(0,n.useState)(v),[P,j]=(0,n.useState)(A),[L,S]=(0,n.useState)(void 0),{rt:N}=(0,a.A)(),{req:U,response:B,loading:D,error:X,status:O}=(0,l.A)({id:u||"data-state",showLoadingToast:!1,showErrorToast:!0,showSuccessToast:!1}),q={limit:I,page:y,...s},z={limit:I,page:y,...i},W={url:u,method:c,data:q,params:h?z:null},M=(0,n.useRef)(null),F=(0,n.useRef)(null);function Q(){if(!u)return;F.current=u;let e=new AbortController;M.current=e;let t={...W,signal:e.signal};Promise.resolve().then(()=>{F.current===u&&U({config:t,onResolve:{onSuccess:e=>{var t,n,l,a,o,s,i;S(null==e||null==(n=e.data)||null==(t=n.data)?void 0:t.pagination),x(!1),r?E(r):E(h?Array.isArray(null==e||null==(l=e.data)?void 0:l.data)?null==e||null==(a=e.data)?void 0:a.data:null==e||null==(s=e.data)||null==(o=s.data)?void 0:o.data:null==e||null==(i=e.data)?void 0:i.data)},onError:()=>{x(!1)}}})})}return(0,n.useEffect)(()=>{if(!_||!u)return;let e=setTimeout(()=>{Q()},50);return()=>{clearTimeout(e),M.current&&M.current.abort()}},[_,u,y,I,...f?[]:[N],...d||[]]),(0,n.useEffect)(()=>{b(v)},[v]),(0,n.useEffect)(()=>{u||x(!1)},[u]),(0,n.useEffect)(()=>{m&&T(D)},[D]),{makeRequest:Q,onRetry:function(){x(!0),Q()},data:g,setData:E,initialLoading:k,setInitialLoading:x,loading:D,error:X,loadMore:function(){C(!0),U({config:{...W},onResolve:{onSuccess:e=>{var t,r,n;E(g?[...g,...null==e||null==(t=e.data)?void 0:t.data]:null==e||null==(r=e.data)?void 0:r.data),S(null==e||null==(n=e.data)?void 0:n.pagination),C(!1)}}})},loadingLoadMore:R,setLoadingLoadMore:C,pagination:L,page:y,setPage:w,limit:I,setLimit:b,offset:P,setOffset:j,response:B,status:O}}},40773:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(38126),l=r(64254),a=r(36780),o=r(95125),s=r(22484),i=r(95704);let u=o.A.create({baseURL:i.env.NEXT_PUBLIC_API_BASE_URL,headers:{Accept:"application/json"}});async function c(){try{let e=(await o.A.post("".concat(i.env.NEXT_PUBLIC_API_BASE_URL,"/auth/refresh"),{},{withCredentials:!0})).data.accessToken;return(0,s.O5)(e),e}catch(e){return null}}u.interceptors.request.use(e=>{let t=(0,s.c4)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),u.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){r._retry=!0;let e=await c();if(e)return r.headers.Authorization="Bearer ".concat(e),u(r)}return Promise.reject(e)});var d=r(20063),_=r(12115),f=r(95704);function p(e){let{id:t,showLoadingToast:r=!0,showSuccessToast:o=!0,showErrorToast:s=!0,loadingMessage:i,successMessage:c,errorMessage:p,signinPath:v="/"}=e,{l:A}=(0,a.A)(),h=(0,l.A)(e=>e.removeAuth),m=(0,d.useRouter)(),T=(0,_.useRef)(null),[g,E]=(0,_.useState)({loading:!1,status:null,error:null,response:null}),{loading:k,status:x,error:R,response:C}=g,y={title:(null==i?void 0:i.title)||A.loading_default.title,description:(null==i?void 0:i.description)||A.loading_default.description},w={title:(null==c?void 0:c.title)||A.success_default.title,description:(null==c?void 0:c.description)||A.success_default.description},I=(0,_.useCallback)(e=>{E(t=>({...t,...e}))},[]);return{req:(0,_.useCallback)(async e=>{var l,a,i;let{config:c,onResolve:d}=e;try{r&&n.X.loading({id:t,title:y.title,description:y.description,action:{label:"Close",onClick:()=>{}}}),I({loading:!0,error:null,status:null}),c.url="".concat(f.env.NEXT_PUBLIC_API_BASE_URL).concat(c.url),T.current&&T.current.abort();let e=new AbortController;T.current=e,c.signal=e.signal;let a=await u(c);return I({loading:!1,status:a.status,response:a}),[200,201,304].includes(a.status)&&(null==d||null==(l=d.onSuccess)||l.call(d,a),o?n.X.update(t,{type:"success",title:w.title,description:w.description,action:{label:"Close",onClick:()=>{}}}):n.X.dismiss(t)),a}catch(o){if("ERR_CANCELED"===o.code)return void I({loading:!1});let e=null==(a=o.response)?void 0:a.status;switch(I({loading:!1,error:!0,status:e,response:o.response}),e){case 401:case 403:h(),null==m||m.push(v);break;case 503:null==m||m.push("/maintenance")}let l=(e=>{var t,r,n;let l=null==(t=e.response)?void 0:t.status,a=null==(n=e.response)||null==(r=n.data)?void 0:r.case;if("ERR_NETWORK"===e.code)return A.error_network;if(l&&(null==p?void 0:p[l]))return a&&p[l][a]?p[l][a]:p[l].default||{title:A.error_default.title,description:A.error_default.description};switch(l){case 400:if("INVALID_CREDENTIALS"===a)return A.error_signin_wrong_credentials;return A.error_400_default;case 401:return A.error_401_default;case 403:return A.error_403_default;case 404:return A.error_404_default;case 422:switch(a){case"TARGET_REQUIRED":return A.error_422_target_required;case"MINIMUM_FILE_REQUIRED":return A.error_422_file_required;case"DUPLICATE_FILENAME":return A.error_422_duplicate_file_name;case"DUPLICATE_TITLE":return A.error_422_duplicate_kmis_topic_title;case"DUPLICATE_ANSWERS":return A.error_422_duplicate_kmis_quiz_option;case"DUPLICATE_QUESTION":return A.error_422_duplicate_question;default:return A.error_422_default}case 429:return A.error_429_default;case 500:return A.error_500_default;default:return A.error_default}})(o);throw s&&(r?n.X.update(t,{type:"error",...l,action:{label:"Close",onClick:()=>{}}}):n.X.create({type:"error",...l,action:{label:"Close",onClick:()=>{}}})),null==d||null==(i=d.onError)||i.call(d,o),o}},[t,r,o,s,y,w,v,p,A,m,I]),loading:k,status:x,error:R,response:C,setReqState:E}}},50588:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(95155),l=r(25535),a=r(52012),o=r(36780),s=r(92091),i=r(53360),u=r(58832);function c(e){let{title:t,description:r,icon:c,children:d,..._}=e,{l:f}=(0,o.A)();return(0,n.jsxs)(l.T,{w:"fit",m:"auto",align:"center",minH:a.Y6,justify:"center",gap:4,..._,children:[(0,n.jsx)(u.A,{icon:(0,n.jsx)(s.I,{mb:t?-2:0,children:c||(0,n.jsx)(i.A,{stroke:1.8})}),title:null!=t?t:f.alert_no_data.title,description:null!=r?r:f.alert_no_data.description,maxW:"300px"}),d]})}},58832:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(95155),l=r(58226),a=r(59964),o=r(92091),s=r(53360);let i=e=>{let{icon:t,title:r,description:i,children:u,...c}=e,d="string"==typeof r,_="string"==typeof i;return(0,n.jsxs)(a.T,{gap:1,p:4,...c,children:[(0,n.jsx)(o.I,{mb:2,color:"fg.subtle",boxSize:9,children:t||(0,n.jsx)(s.A,{stroke:1.8})}),d&&(0,n.jsx)(l.P,{textAlign:"center",fontWeight:"semibold",children:r}),!d&&r,_&&(0,n.jsx)(l.P,{maxW:"300px",textAlign:"center",color:"fg.subtle",children:i}),!_&&i,u]})}},64254:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(32309);let l=(0,r(25959).v)((e,t)=>({authToken:(0,n.c7)("__auth_token"),setAuthToken:t=>e(()=>({authToken:t})),verifiedAuthToken:null,setVerifiedAuthToken:t=>e(()=>((0,n.cT)("__auth_token",t||""),{verifiedAuthToken:t})),role:null,setRole:t=>e(()=>({role:t})),permissions:null,setPermissions:t=>e(()=>({permissions:t})),hasPermissions:e=>{var r;let n=null!=(r=t().permissions)?r:[];return e.every(e=>n.includes(e))},removeAuth:()=>{t().removeAuthToken(),t().removePermissions(),t().removeRole(),(0,n.Od)("__user_data"),t().setVerifiedAuthToken(null),t().setAuthToken(null)},removeAuthToken:()=>{(0,n.Od)("__auth_token"),e(()=>({authToken:null,verifiedAuthToken:null}))},removePermissions:()=>e(()=>({permissions:void 0})),removeRole:()=>e(()=>({role:void 0}))}))},65609:(e,t,r)=>{r.d(t,{L:()=>s,T:()=>i});var n=r(95155),l=r(25535),a=r(93454),o=r(12115);let s=(0,o.forwardRef)((e,t)=>{let{children:r,...a}=e;return(0,n.jsx)(l.T,{ref:t,flex:1,gap:4,p:[2,null,4],pt:"0 !important",overflow:"auto",...a,children:r})});s.displayName="PageContainer";let i=(0,o.forwardRef)((e,t)=>{let{children:r,...o}=e,{themeConfig:s}=(0,a.p)();return(0,n.jsx)(l.T,{ref:t,flex:1,bg:"body",rounded:s.radii.container,overflow:"auto",...o,children:r})});i.displayName="PageContent"},77141:(e,t,r)=>{r.d(t,{A:()=>_});var n=r(95155),l=r(46426),a=r(25535),o=r(58832),s=r(52012),i=r(36780),u=r(93454),c=r(92091),d=r(44748);function _(e){let{title:t,description:r,icon:_,onRetry:f,children:p,...v}=e,{themeConfig:A}=(0,u.p)(),{l:h}=(0,i.A)();return(0,n.jsxs)(a.T,{w:"fit",m:"auto",minH:s.Y6,justify:"center",...v,children:[(0,n.jsx)(o.A,{icon:(0,n.jsx)(c.I,{mb:t?-2:0,children:_||(0,n.jsx)(d.A,{stroke:1.8})}),title:null!=t?t:h.alert_retry.title,description:null!=r?r:h.alert_retry.description,maxW:"300px"}),(0,n.jsx)(l.t,{w:"120px",className:"clicky",variant:"outline",colorPalette:A.colorPalette,mx:"auto",onClick:f,children:h.retry}),p]})}},79310:(e,t,r)=>{r.d(t,{z:()=>n});let n=(0,r(25959).v)(e=>({loadingBar:!1,setLoadingBar:t=>e({loadingBar:t})}))},93885:(e,t,r)=>{r.d(t,{A:()=>n});let n=(0,r(25959).v)((e,t)=>({rt:!1,setRt:r=>{"function"==typeof r?e({rt:r(t().rt)}):e({rt:r})}}))}}]);