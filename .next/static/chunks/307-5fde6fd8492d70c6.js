"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{50851:(e,r,t)=>{t.d(r,{E:()=>n});var s=t(95155),l=t(25535),o=t(11698),a=t(15239),i=t(12115);let n=e=>{var r;let{src:t,alt:n,onError:d,objectFit:c,objectPos:p,imageProps:u,fluid:h,fallbackSrc:m,wide:x,...f}=e,j=null!=m?m:x?"".concat(o.CS,"/no-img-wide.svg"):"".concat(o.CS,"/no-img.svg"),[w,g]=(0,i.useState)(t||j);return(0,s.jsx)(l.T,{w:"auto",justify:"center",align:"center",pos:"relative",overflow:f.rounded?"clip":"",...f,children:(0,s.jsx)(a.default,{src:w,alt:n||"image",onError:e=>{w!==j&&g(j),d&&d(e)},style:{objectFit:null!=c?c:"cover",objectPosition:null!=p?p:"center",width:"100%",height:"100%"},fill:!h,width:h?0:void 0,height:h?0:void 0,quality:80,sizes:null!=(r=null==u?void 0:u.sizes)?r:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...u})})}},55010:(e,r,t)=>{t.d(r,{y:()=>u});var s=t(95155),l=t(25535),o=t(7579),a=t(66255),i=t(92091),n=t(26545),d=t(21258),c=t(12115),p=t(40814);let u=(0,c.forwardRef)((e,r)=>{let{name:t,onChange:u,inputValue:h,placeholder:m="••••••••",containerProps:x,invalid:f,flex:j,flexShrink:w,flexGrow:g,flexBasis:_,...v}=e,[b,S]=(0,c.useState)(!1);return(0,s.jsxs)(l.T,{w:(null==v?void 0:v.w)||"full",h:null==v?void 0:v.h,flex:j,flexShrink:w,flexGrow:g,flexBasis:_,position:"relative",display:"inline-flex",...x,children:[(0,s.jsx)(p.Y,{ref:r,name:t,placeholder:m,onChange:e=>{u&&u(e)},inputValue:h,type:b?"text":"password",pr:20,invalid:f,clearButtonProps:{right:9},...v}),(0,s.jsx)(o.o,{flexShrink:0,zIndex:2,position:"absolute",h:"full",right:1,top:0,children:(0,s.jsx)(a.K,{"aria-label":"clear input",onClick:()=>{S(e=>!e)},variant:"plain",size:"sm",color:"fg.subtle",children:(0,s.jsx)(i.I,{boxSize:5,children:b?(0,s.jsx)(n.A,{stroke:1.5}):(0,s.jsx)(d.A,{stroke:1.5})})})})]})});u.displayName="PasswordInput"},78393:(e,r,t)=>{t.d(r,{E:()=>A});var s=t(95155),l=t(25535),o=t(66825),a=t(36780),i=t(93454),n=t(3370),d=t(40773),c=t(32309),p=t(2431),u=t(62030),h=t(50857),m=t(41521),x=t(12115),f=t(35068),j=t(46426),w=t(95145),g=t(98886),_=t(84234),v=t(55010),b=t(40814),S=t(86021),P=t(96307);let y=e=>{let{setStep:r,setEmail:t}=e,{l:n}=(0,a.A)(),{themeConfig:c}=(0,i.p)(),{req:p,loading:u}=(0,d.A)({id:"forgot_password"}),h=(0,m.Wx)({validateOnChange:!1,initialValues:{email:""},validationSchema:f.Ik().shape({email:f.Yj().email().required(n.msg_required_form)}),onSubmit:e=>{let s=new FormData;s.append("email",e.email),p({config:{url:"/api/send-otp",method:"POST",data:s},onResolve:{onSuccess:()=>{r(2),t(e.email)}}})}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Ql,{children:(0,s.jsxs)(l.T,{children:[(0,s.jsx)("form",{id:"reset_password_step_1",onSubmit:h.handleSubmit,children:(0,s.jsx)(g.D,{label:"Email",invalid:!!h.errors.email,errorText:h.errors.email,mb:4,children:(0,s.jsx)(b.Y,{name:"email",onChange:e=>{h.setFieldValue("email",e)},inputValue:h.values.email,placeholder:"example@email.com"})})}),(0,s.jsx)(_.E,{children:n.msg_reset_password_step_1})]})}),(0,s.jsxs)(o.PK,{children:[(0,s.jsx)(S.A,{}),(0,s.jsxs)(j.t,{type:"submit",form:"reset_password_step_1",colorPalette:c.colorPalette,loading:u,children:[n.recieve," OTP"]})]})]})},C=e=>{let{email:r,setOtp:t,setStep:n}=e,{l:c}=(0,a.A)(),{themeConfig:h}=(0,i.p)(),{req:x,loading:w}=(0,d.A)({id:"forgot_password"}),v=(0,m.Wx)({validateOnChange:!1,initialValues:{email:r,otp:""},validationSchema:f.Ik().shape({email:f.Yj().email().required(c.msg_required_form),otp:f.Yj().required(c.msg_required_form)}),onSubmit:e=>{let r=new FormData;r.append("email",e.email),r.append("otp",e.otp),x({config:{url:"/api/verify-otp",method:"POST",data:r},onResolve:{onSuccess:()=>{t(e.otp),n(3)}}})}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Ql,{children:(0,s.jsxs)(l.T,{children:[(0,s.jsx)("form",{id:"reset_password_step_2",onSubmit:v.handleSubmit,children:(0,s.jsx)(g.D,{label:"OTP",invalid:!!v.errors.otp,errorText:v.errors.otp,mb:4,children:(0,s.jsxs)(u.Yv,{colorPalette:h.colorPalette,w:"full",size:"xl",onValueChange:e=>{null==v||v.setFieldValue("otp",e.value.join(""))},children:[(0,s.jsx)(u.OC,{}),(0,s.jsx)(u.Vu,{w:"full",children:Array.from({length:6},(e,r)=>(0,s.jsx)(u.Il,{index:r,flex:1,h:"60px",fontSize:"xl",fontWeight:"bold"},r))})]})})}),(0,s.jsx)(_.E,{color:"fg.subtle",children:"".concat(c.otp_sent_to," ").concat((0,p.vA)(r))}),(0,s.jsx)(_.E,{children:c.msg_reset_password_step_2})]})}),(0,s.jsxs)(o.PK,{children:[(0,s.jsx)(S.A,{}),(0,s.jsxs)(j.t,{type:"submit",form:"reset_password_step_2",colorPalette:h.colorPalette,loading:w,children:[c.verify," OTP"]})]})]})},k=e=>{let{email:r,otp:t}=e,{l:n}=(0,a.A)(),{themeConfig:p}=(0,i.p)(),{req:u,loading:h}=(0,d.A)({id:"forgot_password"}),x=(0,m.Wx)({validateOnChange:!1,initialValues:{email:r,otp:t,password:"",password_confirmation:""},validationSchema:f.Ik().shape({email:f.Yj().email().required(n.msg_required_form),otp:f.Yj().required(n.msg_required_form),password:f.Yj().required(n.msg_required_form),password_confirmation:f.Yj().required(n.msg_required_form).oneOf([f.KR("password"),""],n.msg_password_confirmation_not_match)}),onSubmit:e=>{let r=new FormData;r.append("email",e.email),r.append("otp",e.otp),r.append("password",e.password),r.append("passwordConfirmation",e.password_confirmation),u({config:{url:"/api/reset-password",method:"POST",data:r},onResolve:{onSuccess:()=>{(0,c.aX)()}}})}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Ql,{children:(0,s.jsxs)(l.T,{children:[(0,s.jsxs)("form",{id:"reset_password_step_3",onSubmit:x.handleSubmit,children:[(0,s.jsx)(g.D,{label:"Password",invalid:!!x.errors.password,errorText:x.errors.password,mb:4,children:(0,s.jsx)(v.y,{onChange:e=>{x.setFieldValue("password",e)},inputValue:x.values.password})}),(0,s.jsx)(g.D,{label:n.password_confirmation,invalid:!!x.errors.password_confirmation,errorText:x.errors.password_confirmation,mb:4,children:(0,s.jsx)(v.y,{onChange:e=>{x.setFieldValue("password_confirmation",e)},inputValue:x.values.password_confirmation})})]}),(0,s.jsx)(_.E,{children:n.msg_reset_password_step_3})]})}),(0,s.jsxs)(o.PK,{children:[(0,s.jsx)(S.A,{}),(0,s.jsx)(j.t,{type:"submit",form:"reset_password_step_3",colorPalette:p.colorPalette,loading:h,disabled:!(x.values.password&&x.values.password_confirmation),children:n.save})]})]})},A=e=>{let{children:r,...t}=e,{open:a,onOpen:i,onClose:d}=(0,h.j)();(0,n.A)((0,P.t6)("reset-password"),a,i,d);let[c,p]=(0,x.useState)(""),[u,m]=(0,x.useState)(""),[f,j]=(0,x.useState)(1),g={1:(0,s.jsx)(y,{setEmail:m,setStep:j}),2:(0,s.jsx)(C,{email:u,setOtp:p,setStep:j}),3:(0,s.jsx)(k,{email:u,otp:c})};return(0,x.useEffect)(()=>{a&&j(1)},[a]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.T,{onClick:i,w:"fit",...t,children:r}),(0,s.jsx)(o.i0,{open:a,lazyLoad:!0,size:"xs",children:(0,s.jsxs)(o.L7,{children:[(0,s.jsx)(o.$Z,{children:(0,s.jsx)(w.G,{title:"Reset Password"})}),g[f]]})})]})}},84234:(e,r,t)=>{t.d(r,{E:()=>o});var s=t(95155),l=t(58226);let o=e=>{let{children:r,...t}=e;return(0,s.jsx)(l.P,{fontSize:"sm",color:"fg.subtle",...t,children:r})}},85897:(e,r,t)=>{t.d(r,{e:()=>a});var s=t(95155),l=t(91980),o=t(12115);let a=(0,o.forwardRef)(function(e,r){let{name:t,src:o,srcSet:a,loading:n,icon:d,fallback:c,children:p,...u}=e;return(0,s.jsxs)(l.Cy,{ref:r,...u,children:[(0,s.jsx)(i,{name:t,icon:d,children:c}),(0,s.jsx)(l.BK,{src:o,srcSet:a,loading:n}),p]})}),i=(0,o.forwardRef)(function(e,r){let{name:t,icon:o,children:a,...i}=e;return(0,s.jsxs)(l.q5,{ref:r,...i,children:[a,null!=t&&null==a&&(0,s.jsx)(s.Fragment,{children:function(e){let r=e.trim().split(" "),t=null!=r[0]?r[0]:"",s=r.length>1?r[r.length-1]:"";return t&&s?"".concat(t.charAt(0)).concat(s.charAt(0)):t.charAt(0)}(t)}),null==t&&null==a&&(0,s.jsx)(l.hS,{asChild:!!o,children:o})]})})},86021:(e,r,t)=>{t.d(r,{A:()=>d});var s=t(95155),l=t(32309),o=t(92091),a=t(49294),i=t(20063),n=t(46426);let d=e=>{let{children:r,iconButton:t=!1,backPath:d,onBack:c,...p}=e,u=(0,i.useRouter)();function h(){d?u.push(d):(0,l.aX)(),null==c||c()}return(u.prefetch(d||""),t)?(0,s.jsx)(n.t,{iconButton:!0,variant:"ghost",rounded:"full",onClick:h,size:"xs",...p,children:(0,s.jsx)(o.I,{boxSize:5,children:(0,s.jsx)(a.A,{stroke:1.5})})}):(0,s.jsx)(n.t,{variant:"outline",onClick:h,...p,children:r||"Close"})}},87936:(e,r,t)=>{t.d(r,{T:()=>d});var s=t(95155),l=t(12115),o=t(50851),a=t(11698),i=t(76150);let n=[{src:"".concat(a.$Q,"/atrbpn-logo.png"),alt:"ATR BPN Logo"},{src:"".concat(a.$Q,"/unep-logo.png"),alt:"UNEP Logo"},{src:"".concat(a.$Q,"/gef-logo.png"),alt:"GEF Logo"}],d=e=>{let{compact:r,...t}=e,[a,d]=(0,l.useState)(0);if((0,l.useEffect)(()=>{if(!r)return;let e=setInterval(()=>{d(e=>(e+1)%n.length)},3e3);return()=>clearInterval(e)},[r]),r){let e=(null==t?void 0:t.h)||"30px";return(0,s.jsx)(i.z,{...t,position:"relative",justify:"center",align:"center",aspectRatio:1,h:e,w:"auto",overflow:"hidden",children:n.map((r,t)=>(0,s.jsx)(o.E,{src:r.src,alt:r.alt,w:"auto",h:e,aspectRatio:1,objectFit:"contain",style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",opacity:+(a===t),transition:"opacity 0.6s ease-in-out"}},r.alt))})}return(0,s.jsx)(i.z,{...t,children:n.map((e,r)=>(0,s.jsx)(o.E,{src:e.src,alt:e.alt,w:"auto",h:(null==t?void 0:t.h)||"30px",aspectRatio:1,objectFit:"contain",ml:0===r?"0":"6px"},e.alt))})}},88121:(e,r,t)=>{t.d(r,{c:()=>o});var s=t(95155),l=t(8898);let o=e=>{let{dir:r="horizontal",...t}=e;return"horizontal"===r?(0,s.jsx)(l.a,{w:"full",h:"1px",bg:"d2",...t}):(0,s.jsx)(l.a,{w:"1px",h:"full",bg:"d2",...t})}},88890:(e,r,t)=>{t.d(r,{k:()=>i});var s=t(95155),l=t(20063),o=t(12115),a=t(25535);let i=(0,o.forwardRef)((e,r)=>{let{children:t,to:i,external:n,...d}=e,c=(0,l.useRouter)();return(0,o.useEffect)(()=>{i&&!n&&c.prefetch(i)},[i,n,c]),(0,s.jsx)(a.T,{ref:r,cursor:"pointer",onClick:function(){i&&(n?window.open(i,"_blank","noopener,noreferrer"):c.push(i))},w:"fit",...d,children:t})});i.displayName="NavLink"},98886:(e,r,t)=>{t.d(r,{D:()=>i});var s=t(95155),l=t(36780),o=t(14200),a=t(54515);let i=(0,t(12115).forwardRef)(function(e,r){let{label:t,children:i,helperText:n,errorText:d,optionalText:c,optional:p,...u}=e,{l:h}=(0,l.A)();return(0,s.jsxs)(o.XO,{ref:r,gap:2,...u,children:[t&&(0,s.jsxs)(o.dh,{fontSize:"md",children:[t,p&&(0,s.jsx)(a.Ex,{colorScheme:"gray",color:"fg.muted",children:h.optional.toLocaleLowerCase()}),(0,s.jsx)(o.tR,{fallback:c})]}),i,n&&(0,s.jsx)(o.sp,{children:n}),d&&(0,s.jsx)(o.wp,{children:d})]})})}}]);