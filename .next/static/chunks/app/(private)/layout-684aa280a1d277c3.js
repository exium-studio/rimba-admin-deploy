(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8072],{7791:(e,t,l)=>{"use strict";l.d(t,{JU:()=>r,iw:()=>i,xD:()=>n});var s=l(56812);function n(e){let t=l=>{for(let s of l){if(s.path===e)return[s];if(s.subMenus){for(let e of s.subMenus)if(e.list){let l=t(e.list);if(l)return[s,...l]}}}return null};for(let e of s.v){let l=t(e.list);if(l)return l}for(let e of s.KS){let l=t(e.list);if(l)return l}return[]}function r(e){if(e)return"".concat("https://rimba.webgis.app/cms").concat(e.startsWith("/")?"":"/").concat(e)}function i(e){if(e)return"".concat("https://rimba.webgis.app/cms").concat(e.startsWith("/")?"":"/").concat(e)}},17772:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var s=l(32309),n=l(25959);let r="dateFormat",i=(0,n.v)(e=>({dateFormat:(()=>{try{let e=(0,s.c7)(r);if(e)return e;(0,s.cT)(r,"dmy")}catch(e){console.error("Failed to access dateFormat from localStorage:",e)}return"dmy"})(),setDateFormat:t=>e(e=>e.dateFormat!==t?((0,s.cT)(r,t),{dateFormat:t}):e)}))},26333:(e,t,l)=>{"use strict";l.d(t,{Wv:()=>d,hl:()=>c,yt:()=>a});var s=l(95155),n=l(87909),r=l(58579),i=l(12115);l(12175);var o=l(93454);let a=e=>{let{children:t,...l}=e;return(0,s.jsx)(n.yt,{autoFocus:!1,...l,children:t})},c=(0,i.forwardRef)(function(e,t){let{themeConfig:l}=(0,o.p)(),{portalled:i=!0,portalRef:a,...c}=e;return(0,s.jsx)(r.Z,{disabled:!i,container:a,children:(0,s.jsx)(n.Ug,{children:(0,s.jsx)(n.hl,{ref:t,p:0,bg:"body",border:"1px solid",borderColor:"d1",rounded:l.radii.container,shadow:"none",className:"ss",...c})})})});n.eO,n.ui,n.Nq,n.DI,n.ej;let d=n.Wv},33788:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>ey});var s=l(95155),n=l(75128),r=l(76150),i=l(12115),o=l(53380);let a=(0,i.forwardRef)(function(e,t){let{children:l,indicatorPlacement:i="end",...a}=e;return(0,s.jsxs)(n.Sx,{...a,ref:t,children:["start"===i&&(0,s.jsx)(n.Fr,{boxSize:5,rotate:{base:"-90deg",_open:"0deg"},children:(0,s.jsx)(o.zrT,{})}),(0,s.jsx)(r.z,{gap:"4",flex:"1",textAlign:"start",width:"full",children:l}),"end"===i&&(0,s.jsx)(n.Fr,{children:(0,s.jsx)(o.zrT,{})})]})}),c=(0,i.forwardRef)(function(e,t){return(0,s.jsx)(n.b,{rounded:"0 !important",children:(0,s.jsx)(n.i$,{...e,ref:t})})}),d=n.Xl,x=n.As;var u=l(85897),h=l(46426),p=l(25535),j=l(3373),g=l(88121),f=l(35891),m=l(88890),b=l(58226),v=l(26333),y=l(571),w=l(46767),S=l(86021),A=l(74816),z=l(46977);function k(e){let{showSeconds:t=!1,showTimezone:l=!0,...n}=e,o=(0,A.A)(e=>e.timeZone),a=null==o?void 0:o.key,[c,d]=(0,i.useState)(()=>(0,z.fU)(x(),{showSeconds:t,timezoneKey:a}));function x(){let e=new Date,t=String(e.getUTCHours()).padStart(2,"0"),l=String(e.getUTCMinutes()).padStart(2,"0"),s=String(e.getUTCSeconds()).padStart(2,"0");return"".concat(t,":").concat(l,":").concat(s)}return(0,i.useEffect)(()=>{let e=()=>d((0,z.fU)(x(),{showSeconds:t,timezoneKey:a}));e();let l=setInterval(e,1e3);return()=>clearInterval(l)},[t,a]),(0,s.jsxs)(r.z,{...n,children:[l&&(0,s.jsx)(b.P,{color:"fg.subtle",children:o.formattedOffset}),(0,s.jsx)(b.P,{children:c})]})}var P=l(84528),T=l(55803),C=l(50851),D=l(80192),K=l(78393),_=l(11698),E=l(64254),I=l(36780),R=l(93454),M=l(40773),F=l(22484),L=l(32309),N=l(92091),W=l(68113),U=l(69950),B=l(20063);let H=e=>{let{l:t}=(0,I.A)(),{themeConfig:l}=(0,R.p)(),n=(0,E.A)(e=>e.removeAuth),{req:r}=(0,M.A)({id:"sign_out",loadingMessage:{...t.loading_signout},successMessage:{...t.success_signout}}),i=(0,B.useRouter)();i.prefetch("/");let o=(0,F.gL)();return(0,s.jsxs)(p.T,{rounded:l.radii.container,overflow:"clip",color:"ibody",...e,children:[(0,s.jsxs)(p.T,{children:[(0,s.jsx)(C.E,{src:(null==o?void 0:o.avatar)||"".concat(_.CS,"/no-avatar.svg"),alt:"avatar",aspectRatio:1}),(0,s.jsxs)(p.T,{bg:"body",p:4,borderColor:"border.muted",children:[(0,s.jsx)(b.P,{fontWeight:"semibold",children:(null==o?void 0:o.name)||"Signed out"}),(0,s.jsx)(b.P,{color:"fg.subtle",children:(null==o?void 0:o.email)||(null==o?void 0:o.username)||"-"})]})]}),(0,s.jsx)(g.c,{}),(0,s.jsxs)(p.T,{gap:1,p:"6px",children:[(0,s.jsx)(K.E,{w:"full",children:(0,s.jsxs)(h.t,{clicky:!1,px:2,variant:"ghost",justifyContent:"start",pos:"relative",children:[(0,s.jsx)(N.I,{boxSize:5,children:(0,s.jsx)(W.A,{stroke:1.5})}),"Reset password"]})}),(0,s.jsx)(D.H,{id:"signout",title:"Sign out",description:t.msg_signout,confirmLabel:"Sign out",onConfirm:function(){(0,L.aX)(),r({config:{url:"/api/signout",method:"GET"},onResolve:{onSuccess:()=>{(0,L.Od)("__auth_token"),(0,L.Od)("__user_data"),n(),i.push("/")},onError:()=>{n(),i.push("/")}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},w:"full",children:(0,s.jsxs)(h.t,{clicky:!1,px:2,variant:"ghost",color:"fg.error",justifyContent:"start",children:[(0,s.jsx)(N.I,{boxSize:5,children:(0,s.jsx)(U.A,{stroke:1.5})}),"Sign out"]})})]})]})};var J=l(87936),O=l(17772);let V=e=>{let{dateVariant:t="weekdayDayShortMonthYear",...l}=e,n=(0,A.A)(e=>e.timeZone),r=(0,O.A)(e=>e.dateFormat);return(0,s.jsx)(b.P,{...l,children:(0,z.Yq)(new Date().toISOString(),{variant:t,dateFormat:r,timezoneKey:n.key})})};var Y=l(18653),Z=l(7579),Q=l(93343);let q=e=>{let{...t}=e;return(0,s.jsx)(p.T,{justify:"center",align:"center",minH:"100dvh",w:"100vw",...t,children:(0,s.jsxs)(Z.o,{pos:"relative",color:"fg.subtle",children:[(0,s.jsx)(N.I,{boxSize:8,children:(0,s.jsx)(Q.A,{})}),(0,s.jsx)(Y.A,{boxSize:"50px",pos:"absolute"})]})})};var G=l(56812),X=l(52012),$=l(25959);let ee="navsExpanded",et=null===(0,L.c7)(ee)||"true"===(0,L.c7)(ee),el=(0,$.v)((e,t)=>({navsExpanded:et,setNavsExpanded:l=>{let s="function"==typeof l?l(t().navsExpanded):l;(0,L.cT)(ee,String(s)),e({navsExpanded:s})},toggleNavsExpanded:()=>{let l=!t().navsExpanded;(0,L.cT)(ee,String(l)),e({navsExpanded:l})}}));var es=l(50572),en=l(17516),er=l(60439),ei=l(2431),eo=l(7791),ea=l(77535),ec=l(30889),ed=l(58255),ex=l(30137),eu=l(55048),eh=l(78171);let ep="gray",ej="bgContent",eg=e=>{let{children:t,...l}=e;return(0,s.jsx)(w.m,{positioning:{placement:"right",offset:{mainAxis:16}},...l,children:t})},ef=e=>{let{backPath:t,resolvedActiveNavs:l,...n}=e,{l:i}=(0,I.A)();return(0,s.jsxs)(r.z,{...n,children:[t&&(0,s.jsx)(S.A,{iconButton:!0,clicky:!1,backPath:t}),l.map((e,l)=>(0,s.jsxs)(r.z,{children:[0!==l&&(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)(N.I,{boxSize:5,color:"fg.subtle",children:(0,s.jsx)(ec.A,{stroke:1.5})}),!t&&(0,s.jsx)(T.P3,{color:"d4"})]}),(0,s.jsx)(b.P,{fontSize:"lg",fontWeight:"semibold",lineClamp:1,children:(0,ei.Ds)(i,e.labelKey)})]},l))]})},em=e=>{let{children:t,...l}=e;return(0,s.jsx)(m.k,{minW:"50px",align:"center",gap:1,pos:"relative",...l,children:t})},eb=e=>{var t,l;let{children:n,...o}=e,{l:a}=(0,I.A)(),c=(0,B.usePathname)(),{sw:d}=(0,en.A)(),x=(0,F.gL)(),h=(0,eo.xD)(c),j=d<360?[h[h.length-1]]:h,g=null==(t=(0,er.HV)(h))?void 0:t.backPath,y=c.includes("/settings"),w=c.includes("/profile");return(0,s.jsxs)(p.T,{flex:1,overflowY:"auto",...o,children:[(0,s.jsxs)(p.T,{flex:1,bg:ej,overflowY:"auto",children:[(0,s.jsxs)(p.T,{children:[(0,s.jsxs)(r.z,{w:"full",justify:"space-between",pt:2,px:4,children:[(0,s.jsx)(J.T,{h:"20px",gap:1}),(0,s.jsxs)(r.z,{children:[(0,s.jsx)(k,{showTimezone:d>320}),(0,s.jsx)(V,{dateVariant:"numeric"})]})]}),(0,s.jsx)(r.z,{gap:4,h:"52px",p:4,justify:"space-between",children:(0,s.jsx)(ef,{backPath:g,resolvedActiveNavs:j,ml:g?-1:0})})]}),n]}),(0,s.jsxs)(r.z,{gap:4,px:4,pt:3,pb:5,borderTop:"1px solid",borderColor:"border.subtle",overflowX:"auto",children:[G.v.map((e,t)=>(0,s.jsx)(i.Fragment,{children:e.list.map(e=>{let t=c.includes(e.path);return(0,s.jsxs)(i.Fragment,{children:[e.subMenus&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(f.il,{positioning:{placement:"top",offset:{mainAxis:22}},children:[(0,s.jsx)(f.cQ,{asChild:!0,children:(0,s.jsxs)(p.T,{minW:"50px",align:"center",gap:1,color:t?"":"fg.muted",pos:"relative",cursor:"pointer",children:[(0,s.jsx)(N.I,{boxSize:6,children:(0,s.jsx)(e.icon,{stroke:1.5})}),(0,s.jsx)(b.P,{fontSize:"sm",textAlign:"center",lineClamp:1,children:(0,ei.Ds)(a,e.labelKey)}),t&&(0,s.jsx)(T.HI,{})]},e.path)}),(0,s.jsx)(f.rm,{children:e.subMenus.map((e,t)=>(0,s.jsx)(f.Uh,{title:e.groupLabelKey?(0,ei.Ds)(a,e.groupLabelKey):"",children:e.list.map(e=>{let t=c===e.path;return(0,s.jsx)(m.k,{to:e.path,w:"full",children:(0,s.jsxs)(f.Dr,{value:e.path,h:"44px",children:[(0,s.jsx)(b.P,{lineClamp:1,children:(0,ei.Ds)(a,e.labelKey)}),t&&(0,s.jsx)(T.P3,{ml:"auto",mr:1})]})},e.path)})},t))})]})}),!e.subMenus&&(0,s.jsxs)(em,{to:e.subMenus?"":e.path,color:t?"":"fg.muted",children:[(0,s.jsx)(N.I,{boxSize:6,children:(0,s.jsx)(e.icon,{stroke:1.5})}),(0,s.jsx)(b.P,{textAlign:"center",lineClamp:1,fontSize:"sm",children:(0,ei.Ds)(a,e.labelKey)}),t&&(0,s.jsx)(T.HI,{})]},e.path)]},e.path)})},t)),(0,s.jsxs)(em,{to:"/settings",color:y?"":"fg.muted",children:[(0,s.jsx)(N.I,{boxSize:6,children:(0,s.jsx)(ed.A,{stroke:1.5})}),(0,s.jsx)(b.P,{textAlign:"center",lineClamp:1,fontSize:"sm",children:a.settings}),y&&(0,s.jsx)(T.HI,{})]}),(0,s.jsxs)(v.yt,{positioning:{placement:"top",offset:{mainAxis:22}},children:[(0,s.jsx)(v.Wv,{asChild:!0,children:(0,s.jsxs)(em,{children:[(0,s.jsx)(u.e,{src:null==x||null==(l=x.photoProfile)?void 0:l.fileUrl,name:null==x?void 0:x.name,size:"2xs"}),(0,s.jsx)(b.P,{fontSize:"sm",textAlign:"center",color:w?"":"fg.muted",lineClamp:1,children:a.profile}),w&&(0,s.jsx)(T.HI,{})]})}),(0,s.jsx)(v.hl,{w:"200px",zIndex:10,children:(0,s.jsx)(H,{})})]})]})]})},ev=e=>{var t,l,n;let{children:o,...S}=e,{l:A}=(0,I.A)(),{themeConfig:z}=(0,R.p)(),C=el(e=>e.navsExpanded),D=el(e=>e.toggleNavsExpanded),K=(0,B.usePathname)(),{sw:_}=(0,en.A)(),E=(0,i.useRef)(null),M=(0,F.gL)(),L=(0,eo.xD)(K),W=_<960?[L[L.length-1]]:L,U=null==(t=(0,er.HV)(L))?void 0:t.backPath,[O,Y]=(0,i.useState)(""),Q=null==M||null==(l=M.role)?void 0:l.id,q=(null!=O?O:"").toLowerCase(),$=G.v.map(e=>{if(!q){let t=e.list.map(e=>{if(e.subMenus&&e.subMenus.length>0){let t=e.subMenus.map(e=>{var t;return{...e,list:(null!=(t=e.list)?t:[]).filter(e=>!e.allowedRoles||0===e.allowedRoles.length||Q&&e.allowedRoles.includes(Q))}});return t.some(e=>e.list.length>0)?{...e,subMenus:t}:null}return!e.allowedRoles||0===e.allowedRoles.length||Q&&e.allowedRoles.includes(Q)?e:null}).filter(Boolean);return t.length>0?{...e,list:t}:null}let t=e.list.flatMap(e=>{var t;return e.subMenus&&e.subMenus.length>0?e.subMenus.flatMap(e=>{var t;return(null!=(t=e.list)?t:[]).filter(e=>{var t;return!!(!e.allowedRoles||0===e.allowedRoles.length||Q&&e.allowedRoles.includes(Q))&&(null==(t=(0,ei.Ds)(A,e.labelKey))?void 0:t.toLowerCase().includes(q))})}):(!e.allowedRoles||0===e.allowedRoles.length||Q&&e.allowedRoles.includes(Q))&&(null==(t=(0,ei.Ds)(A,e.labelKey))?void 0:t.toLowerCase().includes(q))?[e]:[]});return t.length>0?{...e,list:t}:null}).filter(Boolean);return(0,i.useEffect)(()=>{if(C){var e;null==(e=E.current)||e.focus()}else Y("")},[C]),(0,s.jsxs)(r.z,{align:"stretch",gap:0,h:"100dvh",bg:"body",color:"ibody",overflowY:"auto",...S,children:[(0,s.jsxs)(p.T,{flexShrink:0,w:C?"250px":"54px",gap:6,transition:"200ms",children:[(0,s.jsxs)(p.T,{gap:1,p:2,children:[!C&&(0,s.jsx)(m.k,{to:"/",children:(0,s.jsx)(Z.o,{w:"40px",h:"40px",mr:"auto",_hover:{bg:"bg.subtle"},children:(0,s.jsx)(J.T,{h:"24px",compact:!0})})}),(0,s.jsxs)(r.z,{justify:"space-between",children:[C&&(0,s.jsx)(m.k,{to:"/",children:(0,s.jsx)(r.z,{ml:"12px",gap:3,children:(0,s.jsx)(J.T,{h:"24px"})})}),(0,s.jsx)(ea.B,{flexDir:C?"row":"column",gap:1,children:(0,s.jsx)(w.m,{content:C?A.minimize:A.maximize,positioning:{placement:"right",offset:{mainAxis:16}},children:(0,s.jsx)(h.t,{order:C?2:1,iconButton:!0,clicky:!1,w:"40px",variant:"ghost",colorPalette:ep,onClick:D,children:(0,s.jsx)(N.I,{boxSize:5,children:(0,s.jsx)(ex.A,{stroke:1.5})})})})})]})]}),(0,s.jsxs)(p.T,{className:"scrollY",gap:1,p:2,pr:"calc(8px - ".concat(X.J0,")"),children:[C&&(0,s.jsx)(p.T,{mb:1,children:(0,s.jsx)(y.A,{queryKey:"navs",inputRef:E,inputProps:{variant:"flushed",rounded:0,borderColor:"d2"},inputValue:O,onChange:e=>{Y(e||"")}})}),(0,er.VP)($)&&(0,s.jsx)(P.A,{}),!(0,er.VP)($)&&$.map((e,t)=>(0,s.jsxs)(p.T,{gap:1,children:[C&&e.groupLabelKey&&(0,s.jsx)(b.P,{fontSize:"sm",fontWeight:"semibold",letterSpacing:"wide",color:"fg.subtle",ml:"10px",children:(0,ei.Ds)(A,e.groupLabelKey)}),e.list.map(e=>{var t,l;let n=e.subMenus,o=K.includes(e.path);return(0,s.jsxs)(i.Fragment,{children:[n&&C&&(0,s.jsx)(d,{multiple:!0,children:(0,s.jsxs)(x,{value:e.path,border:"none",rounded:z.radii.component,_open:{bg:"d0"},children:[(0,s.jsx)(eg,{content:(0,ei.Ds)(A,e.labelKey),children:(0,s.jsxs)(h.t,{as:a,clicky:!1,colorPalette:ep,variant:"ghost",px:2,pos:"relative",bg:"transparent",_hover:{bg:"d1"},children:[o&&(0,s.jsx)(T.rJ,{}),(0,s.jsxs)(r.z,{gap:4,children:[(0,s.jsx)(N.I,{boxSize:5,children:(0,s.jsx)(e.icon,{stroke:1.5})}),(0,s.jsx)(b.P,{lineClamp:1,textAlign:"left",children:(0,ei.Ds)(A,e.labelKey)})]})]})},e.path),(0,s.jsx)(c,{p:0,children:(0,s.jsx)(p.T,{gap:1,p:1,children:null==(t=e.subMenus)?void 0:t.map((e,t)=>(0,s.jsxs)(p.T,{gap:1,children:[e.groupLabelKey&&(0,s.jsx)(b.P,{fontSize:"sm",fontWeight:"semibold",color:"fg.subtle",ml:"12px",mt:1,children:(0,ei.Ds)(A,e.groupLabelKey)}),e.list.map(e=>{let t=K===e.path;return(0,s.jsx)(m.k,{to:e.path,w:"full",children:(0,s.jsx)(w.m,{content:(0,ei.Ds)(A,e.labelKey),positioning:{placement:"right",offset:{mainAxis:18}},children:(0,s.jsxs)(h.t,{iconButton:!C,clicky:!1,w:"full",gap:3,px:2,rounded:"calc(".concat(z.radii.component,")"),justifyContent:"start",variant:"ghost",colorPalette:ep,children:[(0,s.jsx)(Z.o,{boxSize:5,children:(0,s.jsx)(N.I,{boxSize:2,color:t?z.primaryColor:"d2",ml:"-6px",children:(0,s.jsx)(eu.A,{stroke:1.5})})}),(0,s.jsx)(b.P,{lineClamp:1,textAlign:"left",children:(0,ei.Ds)(A,e.labelKey)})]})})},e.path)})]},t))})})]})}),n&&!C&&(0,s.jsxs)(f.il,{positioning:{placement:"right-start",offset:{mainAxis:22}},children:[(0,s.jsx)(eg,{content:(0,ei.Ds)(A,e.labelKey),children:(0,s.jsx)(p.T,{children:(0,s.jsx)(f.cQ,{asChild:!0,children:(0,s.jsxs)(h.t,{iconButton:!0,clicky:!1,px:2,justifyContent:"start",variant:"ghost",colorPalette:ep,pos:"relative",children:[o&&(0,s.jsx)(T.rJ,{}),(0,s.jsx)(N.I,{boxSize:5,children:(0,s.jsx)(e.icon,{stroke:1.5})})]})})})}),(0,s.jsx)(f.rm,{children:null==(l=e.subMenus)?void 0:l.map((e,t)=>(0,s.jsx)(f.Uh,{gap:1,title:e.groupLabelKey?(0,ei.Ds)(A,e.groupLabelKey):"",children:e.list.map(e=>{let t=K===e.path;return(0,s.jsx)(m.k,{to:e.path,w:"full",children:(0,s.jsx)(w.m,{content:(0,ei.Ds)(A,e.labelKey),positioning:{placement:"right",offset:{mainAxis:12}},children:(0,s.jsxs)(f.Dr,{value:e.path,children:[(0,s.jsx)(b.P,{lineClamp:1,children:(0,ei.Ds)(A,e.labelKey)}),t&&(0,s.jsx)(T.P3,{ml:"auto",mr:1})]})})},e.path)})},t))})]}),!n&&(0,s.jsx)(m.k,{to:e.path,w:"full",children:(0,s.jsx)(eg,{content:(0,ei.Ds)(A,e.labelKey),children:(0,s.jsxs)(h.t,{iconButton:!C,clicky:!1,gap:4,px:2,justifyContent:"start",variant:"ghost",colorPalette:ep,children:[o&&e.icon&&(0,s.jsx)(T.rJ,{}),e.icon&&(0,s.jsx)(N.I,{boxSize:5,children:(0,s.jsx)(e.icon,{stroke:1.5})}),!e.icon&&(0,s.jsx)(N.I,{boxSize:2,color:o?z.primaryColor:"d2",children:(0,s.jsx)(eu.A,{stroke:1.5})}),C&&(0,s.jsx)(b.P,{lineClamp:1,textAlign:"left",children:(0,ei.Ds)(A,e.labelKey)})]})})},e.path)]},e.path)})]},t))]}),(0,s.jsxs)(p.T,{mt:"auto",gap:2,p:2,children:[(0,s.jsx)(m.k,{to:"/settings",w:"full",children:(0,s.jsx)(eg,{content:A.settings,children:(0,s.jsxs)(h.t,{clicky:!1,gap:4,justifyContent:"start",variant:"ghost",colorPalette:ep,px:2,pos:"relative",children:[K.includes("/settings")&&(0,s.jsx)(T.rJ,{}),(0,s.jsx)(N.I,{boxSize:5,children:(0,s.jsx)(ed.A,{stroke:1.5})}),C&&(0,s.jsx)(b.P,{lineClamp:1,textAlign:"left",children:A.settings})]})})}),(0,s.jsx)(g.c,{}),(0,s.jsxs)(v.yt,{positioning:{placement:"right-end",offset:{mainAxis:22,crossAxis:-6}},children:[(0,s.jsx)(v.Wv,{asChild:!0,children:(0,s.jsxs)(r.z,{gap:3,px:C?2:"7px",py:2,rounded:z.radii.component,cursor:"pointer",_hover:{bg:"gray.subtle"},transition:"200ms",pos:"relative",children:[K.includes("/pvt/profile")&&(0,s.jsx)(T.rJ,{}),(0,s.jsx)(u.e,{src:null==M||null==(n=M.photoProfile)?void 0:n.fileUrl,name:null==M?void 0:M.name,size:C?"md":"2xs"}),C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(p.T,{children:[(0,s.jsx)(b.P,{lineClamp:1,fontWeight:"semibold",children:(null==M?void 0:M.name)||"Signed out"}),(0,s.jsx)(b.P,{lineClamp:1,color:"fg.subtle",children:(null==M?void 0:M.email)||(null==M?void 0:M.username)||"-"})]}),(0,s.jsx)(N.I,{boxSize:5,color:"fg.subtle",children:(0,s.jsx)(eh.A,{stroke:1.5})})]})]})}),(0,s.jsx)(v.hl,{w:"254px",zIndex:10,children:(0,s.jsx)(H,{})})]})]})]}),(0,s.jsxs)(p.T,{bg:ej,overflowY:"auto",color:"ibody",children:[(0,s.jsxs)(r.z,{gap:4,h:"52px",p:4,justify:"space-between",children:[(0,s.jsx)(ef,{backPath:U,resolvedActiveNavs:W}),(0,s.jsxs)(r.z,{flexShrink:0,gap:1,children:[(0,s.jsxs)(r.z,{mx:1,children:[(0,s.jsx)(k,{}),(0,s.jsx)(V,{})]}),(0,s.jsx)(j.TY,{rounded:"full",size:"xs",w:"32px",h:"32px"})]})]}),(0,s.jsx)(p.T,{flex:1,overflowY:"auto",children:o})]})]})},ey=e=>{let{...t}=e,l=(0,F.c4)(),n=(0,E.A)(e=>e.verifiedAuthToken),r=(0,E.A)(e=>e.setRole),o=(0,E.A)(e=>e.setPermissions),a=(0,E.A)(e=>e.setVerifiedAuthToken),c=(0,es.Q)(),d=(0,B.useRouter)(),{req:x,loading:u}=(0,M.A)({id:"user-profile",showLoadingToast:!1,showSuccessToast:!1,showErrorToast:!1}),[h,j]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{if(!l)return void j(!0);l&&!n?x({config:{method:"GET",url:"/api/profile/get-user-profile"},onResolve:{onSuccess:e=>{let t=e.data.data;(0,L.cT)("__auth_token",l,"local",2592e5),(0,L.cT)("__user_data",JSON.stringify(t),"local",2592e5),a(l),r(t.role),o(t.role.permissions),j(!0)},onError:()=>{j(!0)}}}):j(!0)},[l,n]),(0,i.useEffect)(()=>{h&&!n&&d.replace("/")},[h,n]),!h||u)?(0,s.jsx)(q,{}):(0,s.jsx)(p.T,{id:"app_layout",h:"100dvh",...t,children:c?(0,s.jsx)(eb,{...e}):(0,s.jsx)(ev,{...e})})}},67818:(e,t,l)=>{Promise.resolve().then(l.bind(l,33788))},74816:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var s=l(32309),n=l(86487),r=l(25959);let i="timezone",o=(0,r.v)(e=>({timeZone:(()=>{try{let e=(0,s.c7)(i);if(e){let t=JSON.parse(e);return t.label.startsWith("Auto")?(0,n.Vm)():t}}catch(e){console.error("Failed to parse timezone from localStorage:",e)}return(0,n.Vm)()})(),setTimeZone:t=>{e(e=>e.timeZone.key!==t.key?((0,s.cT)(i,JSON.stringify(t)),{timeZone:t}):e)}}))},80192:(e,t,l)=>{"use strict";l.d(t,{H:()=>j});var s=l(95155),n=l(46426),r=l(25535),i=l(66825),o=l(95145),a=l(58226),c=l(93454),d=l(3370),x=l(50857),u=l(86021),h=l(96307);let p=e=>{let{open:t,title:l,description:r,confirmLabel:d,onConfirm:x,confirmButtonProps:h,loading:p=!1,addonElement:j}=e,{themeConfig:g}=(0,c.p)();return(0,s.jsx)(i.i0,{open:t,size:"xs",children:(0,s.jsxs)(i.L7,{children:[(0,s.jsx)(i.$Z,{children:(0,s.jsx)(o.G,{title:"".concat(l)})}),(0,s.jsxs)(i.Ql,{children:[(0,s.jsx)(a.P,{children:r}),j]}),(0,s.jsxs)(i.PK,{children:[(0,s.jsx)(u.A,{disabled:p}),(0,s.jsx)(n.t,{onClick:x,loading:p,colorPalette:g.colorPalette,...h,children:d})]})]})})},j=e=>{let{children:t,id:l,title:n,description:i,confirmLabel:o,onConfirm:a,confirmButtonProps:c,loading:u,disabled:j,addonElement:g,...f}=e,{open:m,onOpen:b,onClose:v}=(0,x.j)();return(0,d.A)((0,h.t6)("".concat(l)),m,b,v),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.T,{w:"fit",onClick:j?()=>{}:b,...f,children:t}),(0,s.jsx)(p,{open:m,title:n,description:i,confirmLabel:o,onConfirm:a,confirmButtonProps:c,loading:u,addonElement:g})]})}}},e=>{e.O(0,[7596,586,2150,9964,9320,1668,9595,6524,358,5246,6236,5161,4923,2946,5888,9863,3161,8832,819,5478,806,6411,8441,4696,7358],()=>e(e.s=67818)),_N_E=e.O()}]);