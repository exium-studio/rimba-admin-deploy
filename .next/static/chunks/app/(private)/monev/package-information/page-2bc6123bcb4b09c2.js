(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{22484:(e,t,r)=>{"use strict";r.d(t,{O5:()=>n,c4:()=>l,gL:()=>a});var i=r(32309);function l(){return(0,i.c7)("__auth_token")||null}function n(e){(0,i.cT)("__auth_token",e)}function a(){let e=(0,i.c7)("__user_data");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse user data:",e),null}}},30032:(e,t,r)=>{"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download",r=arguments.length>2?arguments[2]:void 0,i=window.URL.createObjectURL(new Blob([e])),l=document.createElement("a");l.href=i,l.setAttribute("download","".concat(t,".").concat(r)),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}r.d(t,{M:()=>l,R:()=>i});let l=e=>URL.createObjectURL(e)},31120:(e,t,r)=>{"use strict";r.d(t,{T:()=>c});var i=r(95155),l=r(93454),n=r(98781),a=r(24443),o=r(38126),s=r(36780),d=r(2431);let c=e=>{let{name:t,onChange:r,inputValue:c,invalid:u,placeholder:p="Input text",maxChar:x=null,...h}=e,{themeConfig:m}=(0,l.p)(),j=(0,n.f)(),{l:g}=(0,s.A)();return(0,i.jsx)(a.T,{name:t,borderColor:(null!=u?u:null==j?void 0:j.invalid)?"border.error":"border.muted",fontSize:"md",fontWeight:"medium",outline:"none !important",_placeholder:{fontSize:"md"},_focus:{borderColor:m.primaryColor},rounded:m.radii.component,placeholder:p,onChange:e=>{let t=e.target.value;null!==x&&t.length>x&&(t=t.slice(0,x),o.X.create({title:g.info_max_char_reached.title,description:(0,d.zl)(g.info_max_char_reached.description,{maxChar:x})})),null==r||r(t)},px:4,value:c,autoresize:!0,...h})};c.displayName="Textarea"},35891:(e,t,r)=>{"use strict";r.d(t,{Dr:()=>c,Uh:()=>u,bX:()=>x,cQ:()=>h,il:()=>p,rm:()=>d});var i=r(95155),l=r(25535),n=r(93454),a=r(58579),o=r(87242),s=r(12115);let d=(0,s.forwardRef)(function(e,t){let{portalled:r=!0,portalRef:l,...s}=e,{themeConfig:d}=(0,n.p)();return(0,i.jsx)(a.Z,{disabled:!r,container:l,children:(0,i.jsx)(o.y3,{children:(0,i.jsx)(o.rm,{ref:t,className:"ss",w:"160px",gap:1,px:0,py:1,bg:"body !important",border:"1px solid",borderColor:"d2",rounded:d.radii.container,boxShadow:"none",...s})})})}),c=(0,s.forwardRef)(function(e,t){let{children:r,...a}=e,{themeConfig:s}=(0,n.p)();return(0,i.jsx)(l.T,{px:1,children:(0,i.jsx)(o.Dr,{gap:4,ref:t,py:"8px !important",cursor:"pointer",fontSize:"md",rounded:s.radii.component,_hover:{bg:"bg.muted"},...a,children:r})})}),u=(0,s.forwardRef)(function(e,t){let{title:r,children:l,...n}=e;return(0,i.jsxs)(o.Uh,{ref:t,...n,children:[r&&(0,i.jsx)(o.QC,{fontSize:"sm",color:"fg.subtle",userSelect:"none",pl:3,lineHeight:1.2,children:r}),l]})}),p=e=>{let{children:t,...r}=e;return(0,i.jsx)(o.il,{positioning:{hideWhenDetached:!0},unmountOnExit:!1,lazyMount:!1,...r,children:t})},x=e=>(0,i.jsx)(o.bX,{...e});o.x0,o.PW,o.e7,o.C1;let h=o.cQ},40135:(e,t,r)=>{Promise.resolve().then(r.bind(r,47348))},40773:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var i=r(38126),l=r(64254),n=r(36780),a=r(95125),o=r(22484);let s=a.A.create({baseURL:"https://rimba.webgis.app/api",headers:{Accept:"application/json"}});async function d(){try{let e=(await a.A.post("".concat("https://rimba.webgis.app/api","/auth/refresh"),{},{withCredentials:!0})).data.accessToken;return(0,o.O5)(e),e}catch(e){return null}}s.interceptors.request.use(e=>{let t=(0,o.c4)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){r._retry=!0;let e=await d();if(e)return r.headers.Authorization="Bearer ".concat(e),s(r)}return Promise.reject(e)});var c=r(20063),u=r(12115);function p(e){let{id:t,showLoadingToast:r=!0,showSuccessToast:a=!0,showErrorToast:o=!0,loadingMessage:d,successMessage:p,errorMessage:x,signinPath:h="/"}=e,{l:m}=(0,n.A)(),j=(0,l.A)(e=>e.removeAuth),g=(0,c.useRouter)(),v=(0,u.useRef)(null),[f,b]=(0,u.useState)({loading:!1,status:null,error:null,response:null}),{loading:_,status:T,error:z,response:P}=f,y={title:(null==d?void 0:d.title)||m.loading_default.title,description:(null==d?void 0:d.description)||m.loading_default.description},A={title:(null==p?void 0:p.title)||m.success_default.title,description:(null==p?void 0:p.description)||m.success_default.description},k=(0,u.useCallback)(e=>{b(t=>({...t,...e}))},[]);return{req:(0,u.useCallback)(async e=>{var l,n,d;let{config:c,onResolve:u}=e;try{r&&i.X.loading({id:t,title:y.title,description:y.description,action:{label:"Close",onClick:()=>{}}}),k({loading:!0,error:null,status:null}),c.url="".concat("https://rimba.webgis.app/api").concat(c.url),v.current&&v.current.abort();let e=new AbortController;v.current=e,c.signal=e.signal;let n=await s(c);return k({loading:!1,status:n.status,response:n}),[200,201,304].includes(n.status)&&(null==u||null==(l=u.onSuccess)||l.call(u,n),a?i.X.update(t,{type:"success",title:A.title,description:A.description,action:{label:"Close",onClick:()=>{}}}):i.X.dismiss(t)),n}catch(a){if("ERR_CANCELED"===a.code)return void k({loading:!1});let e=null==(n=a.response)?void 0:n.status;switch(k({loading:!1,error:!0,status:e,response:a.response}),e){case 401:case 403:j(),null==g||g.push(h);break;case 503:null==g||g.push("/maintenance")}let l=(e=>{var t,r,i;let l=null==(t=e.response)?void 0:t.status,n=null==(i=e.response)||null==(r=i.data)?void 0:r.case;if("ERR_NETWORK"===e.code)return m.error_network;if(l&&(null==x?void 0:x[l]))return n&&x[l][n]?x[l][n]:x[l].default||{title:m.error_default.title,description:m.error_default.description};switch(l){case 400:if("INVALID_CREDENTIALS"===n)return m.error_signin_wrong_credentials;return m.error_400_default;case 401:return m.error_401_default;case 403:return m.error_403_default;case 404:return m.error_404_default;case 422:switch(n){case"TARGET_REQUIRED":return m.error_422_target_required;case"MINIMUM_FILE_REQUIRED":return m.error_422_file_required;case"DUPLICATE_FILENAME":return m.error_422_duplicate_file_name;case"DUPLICATE_TITLE":return m.error_422_duplicate_kmis_topic_title;case"DUPLICATE_ANSWERS":return m.error_422_duplicate_kmis_quiz_option;case"DUPLICATE_QUESTION":return m.error_422_duplicate_question;default:return m.error_422_default}case 429:return m.error_429_default;case 500:return m.error_500_default;default:return m.error_default}})(a);throw o&&(r?i.X.update(t,{type:"error",...l,action:{label:"Close",onClick:()=>{}}}):i.X.create({type:"error",...l,action:{label:"Close",onClick:()=>{}}})),null==u||null==(d=u.onError)||d.call(u,a),a}},[t,r,a,o,y,A,h,x,m,g,k]),loading:_,status:T,error:z,response:P,setReqState:b}}},47348:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>e2});var i=r(95155),l=r(46426),n=r(25535),a=r(57562),o=r(66825),s=r(95145),d=r(88121),c=r(98886),u=r(35891),p=r(1721),x=r(58226),h=r(94571),m=r(571),j=r(40814),g=r(31120),v=r(46767),f=r(86021),b=r(66168),_=r(80192),T=r(81303),z=r(86430),P=r(98064),y=r(63041),A=r(48930),k=r(50588),C=r(77141),V=r(55803),w=r(80320),D=r(20243),S=r(51672),R=r(46481),I=r(52012),O=r(36780),F=r(93885),q=r(93454),E=r(3370),L=r(35189),Y=r(40773),M=r(60439),X=r(22484),B=r(32309),U=r(96307),Z=r(46977),K=r(68502),N=r(76150),W=r(92091),H=r(14200),Q=r(90946),G=r(85591),$=r(46845),J=r(8898),ee=r(50857),et=r(26074),er=r(94458),ei=r(2186),el=r(47522),en=r(67812),ea=r(17122),eo=r(78442),es=r(61456),ed=r(89712),ec=r(6080),eu=r(41521),ep=r(12115),ex=r(35068);let eh="monev_package_information",em=e=>{var t;let{id:r,validationAPI:n,...a}=e,{l:o}=(0,O.A)(),s=(0,F.A)(e=>e.setRt),{req:d,loading:u}=(0,Y.A)({id:r,loadingMessage:{title:"".concat(o.validate)},successMessage:{title:"".concat(o.validation," ").concat(o.successful)}}),p=(0,X.gL)(),x=(null==p||null==(t=p.role)?void 0:t.id)==="1",[h,m]=(0,ep.useState)(null),[j,v]=(0,ep.useState)("");function f(){(0,B.aX)(),d({config:{url:n,method:"PATCH",data:{validationStatus:h,rejectionReason:j}},onResolve:{onSuccess:()=>{s(e=>!e)}}})}return x&&(0,i.jsxs)(N.z,{w:"80px",justify:"end",gap:1,...a,children:[(0,i.jsx)(_.H,{id:"".concat(r,"-reject"),title:o.reject,description:o.msg_reject_confirmation,confirmLabel:o.reject,onConfirm:f,addonElement:(0,i.jsx)(c.D,{label:o.reason,mt:4,children:(0,i.jsx)(g.T,{inputValue:j,onChange:e=>{v(e)}})}),confirmButtonProps:{colorPalette:"red",variant:"outline",disabled:!j},children:(0,i.jsx)(l.t,{iconButton:!0,colorPalette:"red",variant:"ghost",size:"sm",onClick:()=>{m(3)},disabled:u,children:(0,i.jsx)(W.I,{boxSize:5,children:(0,i.jsx)(ei.A,{stroke:1.5})})})}),(0,i.jsx)(_.H,{id:"".concat(r,"-validate"),title:o.validate,description:o.msg_validate_confirmation,confirmLabel:o.validate,onConfirm:f,children:(0,i.jsx)(l.t,{iconButton:!0,colorPalette:"green",variant:"ghost",size:"sm",onClick:()=>{m(2)},disabled:u,children:(0,i.jsx)(W.I,{boxSize:5,children:(0,i.jsx)(el.A,{stroke:1.5})})})})]})},ej=e=>{let{target:t,...r}=e,{l:a}=(0,O.A)(),{themeConfig:o}=(0,q.p)(),s=(0,F.A)(e=>e.setRt),{req:d,loading:u}=(0,Y.A)({id:"update-target"}),h=(0,eu.Wx)({validateOnChange:!1,initialValues:{budgetTarget:null,physicalTarget:null,description:""},validationSchema:ex.Ik().shape({budgetTarget:ex.ai().required(a.msg_required_form),physicalTarget:ex.ai().required(a.msg_required_form),description:ex.Yj().required(a.msg_required_form)}),onSubmit:e=>{d({config:{url:"/api/monev/target/update/".concat(t.id),method:"PATCH",data:e},onResolve:{onSuccess:()=>{s(e=>!e)}}})}}),m=(0,ep.useMemo)(()=>t&&(t.budgetTarget!==h.values.budgetTarget||t.physicalTarget!==h.values.physicalTarget||t.description!==h.values.description),[h.values,t]);return(0,ep.useEffect)(()=>{h.setValues({budgetTarget:t.budgetTarget,physicalTarget:t.physicalTarget,description:t.description})},[t]),(0,i.jsxs)(n.T,{gap:4,p:4,pt:3,border:"1px solid",borderColor:"border.muted",rounded:o.radii.container,...r,children:[(0,i.jsxs)(N.z,{justify:"space-between",children:[(0,i.jsx)(x.P,{fontSize:"lg",fontWeight:"semibold",children:"".concat(R.z[t.month]||"Month is not 0 based")}),(0,i.jsx)(x.P,{fontWeight:"medium",color:"fg.subtle",children:"".concat(t.year)})]}),(0,i.jsx)(n.T,{children:(0,i.jsxs)("form",{id:"target-".concat(t.id),onSubmit:h.handleSubmit,children:[(0,i.jsxs)(H.XO,{gap:4,disabled:u,children:[(0,i.jsxs)(c.D,{invalid:!!h.errors.budgetTarget,errorText:h.errors.budgetTarget,children:[(0,i.jsx)(x.P,{color:"fg.muted",children:a.budget_target}),(0,i.jsx)(Q.M,{startAddon:"Rp",children:(0,i.jsx)(p.X,{inputValue:h.values.budgetTarget,onChange:e=>{h.setFieldValue("budgetTarget",e)},placeholder:"xxx.xxx.xxx",roundedTopLeft:0,roundedBottomLeft:0})})]}),(0,i.jsxs)(c.D,{invalid:!!h.errors.physicalTarget,errorText:h.errors.physicalTarget,children:[(0,i.jsx)(x.P,{color:"fg.muted",children:a.physical_target}),(0,i.jsx)(Q.M,{endAddon:"%",children:(0,i.jsx)(p.X,{inputValue:h.values.physicalTarget,onChange:e=>{h.setFieldValue("physicalTarget",e)},max:100,roundedTopRight:0,roundedBottomRight:0,placeholder:"xxx"})})]}),(0,i.jsxs)(c.D,{invalid:!!h.errors.description,errorText:h.errors.description,children:[(0,i.jsx)(x.P,{color:"fg.muted",children:a.description}),(0,i.jsx)(g.T,{inputValue:h.values.description,onChange:e=>{h.setFieldValue("description",e)}})]})]}),(0,i.jsx)(N.z,{children:(0,i.jsx)(l.t,{type:"submit",w:"fit",ml:"auto",mt:4,colorPalette:o.colorPalette,variant:"outline",disabled:!m||!h.values.budgetTarget||!h.values.physicalTarget||!h.values.description,loading:u,children:a.save})})]})})]})},eg=e=>{let{open:t,data:r}=e,{l:a}=(0,O.A)(),{themeConfig:d}=(0,q.p)(),{error:c,initialLoading:u,data:p,onRetry:h}=(0,L.A)({initialData:void 0,url:"/api/monev/target/".concat(r.id),conditions:t,dependencies:[t],dataResource:!1,withLoadingBar:!1}),m=null==p?void 0:p.monevTargetOriginal,j=null==p?void 0:p.monevTargetPendingUpdate,g={loading:(0,i.jsx)(D.E,{flex:1,minH:I.Y6}),error:(0,i.jsx)(C.A,{onRetry:h}),empty:(0,i.jsx)(k.A,{}),loaded:(0,i.jsx)(n.T,{gap:4,mt:-2,children:(0,i.jsxs)(G.pK,{lazyMount:!0,unmountOnExit:!0,defaultValue:"tab-1",children:[(0,i.jsxs)(G.j7,{children:[(0,i.jsx)(G.Xi,{value:"tab-1",children:a.current_data}),(0,i.jsxs)(G.Xi,{value:"tab-2",children:[a.unvalidated," ",!(0,M.VP)(j)&&(0,i.jsx)(V.P3,{ml:1})]})]}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G.av,{value:"tab-1",children:(0,i.jsxs)(i.Fragment,{children:[(0,M.VP)(m)&&(0,i.jsx)(k.A,{}),!(0,M.VP)(m)&&(0,i.jsx)($.r,{columns:[1,null,2],gap:4,children:null==m?void 0:m.map(e=>(0,i.jsx)(ej,{target:e},e.id))})]})}),(0,i.jsx)(G.av,{value:"tab-2",children:(0,i.jsxs)(i.Fragment,{children:[(0,M.VP)(j)&&(0,i.jsx)(k.A,{}),!(0,M.VP)(j)&&(0,i.jsxs)(n.T,{gap:2,children:[(0,i.jsxs)(N.z,{gap:4,px:2,color:"fg.muted",children:[(0,i.jsx)(x.P,{w:"140px",ml:2,children:a.period}),(0,i.jsx)(x.P,{flex:2,textAlign:"right",children:a.budget_target}),(0,i.jsx)(x.P,{flex:2,textAlign:"right",children:a.physical_target}),(0,i.jsx)(J.a,{w:"80px",h:"30px",ml:8})]}),null==j?void 0:j.map(e=>(0,i.jsxs)(N.z,{p:2,rounded:d.radii.component,border:"1px solid",borderColor:"border.muted",gap:4,children:[(0,i.jsxs)(N.z,{w:"140px",ml:2,children:[(0,i.jsx)(b.v,{children:"".concat(R.z[e.month]," ").concat(null==e?void 0:e.year)}),(0,i.jsx)(S.A,{content:(0,i.jsx)(x.P,{children:"".concat(e.description||"-")}),children:(0,i.jsx)(l.t,{iconButton:!0,size:"2xs",rounded:"full",variant:"ghost",children:(0,i.jsx)(W.I,{boxSize:5,children:(0,i.jsx)(en.A,{stroke:1.5})})})})]}),(0,i.jsx)(x.P,{flex:2,textAlign:"right",children:"".concat((null==e?void 0:e.budgetTarget)?"Rp ".concat((0,Z.ZV)(null==e?void 0:e.budgetTarget)):"-")}),(0,i.jsx)(x.P,{flex:2,textAlign:"right",children:"".concat((null==e?void 0:e.physicalTarget)?"".concat(null==e?void 0:e.physicalTarget,"%"):"-")}),(0,i.jsx)(em,{id:"validate-target-".concat(e.id),validationAPI:"/api/monev/target/verification/".concat(e.id),ml:8})]},e.id))]})]})})]})]})})};return(0,i.jsx)(o.i0,{open:t,lazyLoad:!0,size:"lg",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"Target"})}),(0,i.jsxs)(o.Ql,{children:[u&&g.loading,!u&&(0,i.jsxs)(i.Fragment,{children:[c&&g.error,!c&&(0,i.jsxs)(i.Fragment,{children:[p&&g.loaded,(!p||(0,M.VP)(null==p?void 0:p.monevTargetOriginal))&&g.empty]})]})]}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(f.A,{})})]})})},ev=e=>{let{id:t,data:r,...l}=e,{open:a,onOpen:o,onClose:s}=(0,ee.j)();return(0,E.A)((0,U.t6)(t||"".concat(eh,"-target-").concat(null==r?void 0:r.id)),a,o,s),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.T,{onClick:o,...l}),(0,i.jsx)(eg,{open:a,data:r})]})},ef=e=>{let{status:t,containerP:r,...l}=e;switch(t){case"1":return(0,i.jsx)(et.j,{w:"fit",aspectRatio:1,p:r||1,bg:"orange.400",children:(0,i.jsx)(W.I,{color:"body",...l,children:(0,i.jsx)(ea.A,{})})});case"2":return(0,i.jsx)(et.j,{w:"fit",aspectRatio:1,p:r||1,bg:"fg.success",children:(0,i.jsx)(W.I,{color:"body",...l,children:(0,i.jsx)(el.A,{})})});case"3":return(0,i.jsx)(et.j,{w:"fit",aspectRatio:1,p:r||1,bg:"fg.error",children:(0,i.jsx)(W.I,{color:"body",...l,children:(0,i.jsx)(ei.A,{})})});default:return(0,i.jsx)(et.j,{w:"fit",aspectRatio:1,p:r||1,bg:"d2",children:(0,i.jsx)(W.I,{color:"current",...l,children:(0,i.jsx)(eo.A,{})})})}},eb=e=>{let{realization:t,open:r}=e,{l:a}=(0,O.A)(),{themeConfig:d}=(0,q.p)(),u=(0,F.A)(e=>e.setRt),{req:h,loading:m}=(0,Y.A)({id:"update-realization"}),v=(0,eu.Wx)({validateOnChange:!1,initialValues:{budgetRealization:[{name:"",value:null}],progress:[40],description:"",problem:"",files:null,deleteDocumentIds:[]},validationSchema:ex.Ik().shape({budgetRealization:ex.YO().required(a.msg_required_form),progress:ex.YO().required(a.msg_required_form),description:ex.Yj().required(a.msg_required_form),problem:ex.Yj().required(a.msg_required_form),files:(0,K.q)({allowedExtensions:["pdf","png","jpeg","jpg","zip"]}).concat((0,K.$)({resolvedData:t,existingKey:"evidence",deletedKey:"deleteDocumentIds",newKey:"files",message:a.msg_required_form}))}),onSubmit:e=>{(0,B.aX)();let r=new FormData;(0,M.VP)(e.files)||r.append("files",e.files[0]),r.append("budgetRealization",JSON.stringify(e.budgetRealization)),r.append("progress",JSON.stringify(e.progress[0])),r.append("description",e.description),r.append("problem",e.problem),r.append("deleteDocumentIds",JSON.stringify(e.deleteDocumentIds)),h({config:{url:"/api/monev/monthly-realization/update/".concat(null==t?void 0:t.id),method:"PATCH",data:r},onResolve:{onSuccess:()=>{u(e=>!e)}}})}});return(0,ep.useEffect)(()=>{v.setValues({budgetRealization:(0,M.VP)(null==t?void 0:t.budgetRealization)?[{name:"",value:null}]:null==t?void 0:t.budgetRealization,progress:[null==t?void 0:t.progress],description:null==t?void 0:t.description,problem:null==t?void 0:t.problem,files:[],deleteDocumentIds:[]})},[t]),(0,i.jsx)(o.i0,{open:r,lazyLoad:!0,size:"lg",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"Input ".concat(a.realization)})}),(0,i.jsx)(o.Ql,{children:(0,i.jsx)("form",{id:"update-realization-".concat(null==t?void 0:t.id),onSubmit:v.handleSubmit,children:(0,i.jsxs)(H.XO,{disabled:m,gap:4,children:[(0,i.jsxs)(n.T,{gap:4,children:[(0,i.jsx)(x.P,{fontSize:"lg",fontWeight:"semibold",children:a.input_realization_budget_title}),(0,i.jsx)(c.D,{label:a.budget_realization,invalid:!!v.errors.files,errorText:v.errors.files,children:(0,i.jsxs)(n.T,{gap:2,children:[v.values.budgetRealization.map((e,t)=>(0,i.jsxs)(N.z,{children:[(0,i.jsx)(j.Y,{inputValue:null==e?void 0:e.name,onChange:e=>{let r=[...v.values.budgetRealization];r[t].name=e,v.setFieldValue("budgetRealization",r)},flex:3,placeholder:a.expenditure_realization_account}),(0,i.jsx)(p.X,{inputValue:null==e?void 0:e.value,onChange:e=>{let r=[...v.values.budgetRealization];r[t].value=e,v.setFieldValue("budgetRealization",r)},flex:2,placeholder:"Nominal"}),(0,i.jsx)(l.t,{iconButton:!0,variant:"outline",size:"md",onClick:()=>{v.setFieldValue("budgetRealization",[...v.values.budgetRealization.filter((e,r)=>t!==r)])},children:(0,i.jsx)(W.I,{children:(0,i.jsx)(es.A,{stroke:1.5})})})]},t)),(0,i.jsxs)(l.t,{variant:v.values.budgetRealization.length>0?"ghost":"outline",w:v.values.budgetRealization.length>0?"fit":"full",ml:"auto",pl:3,size:"md",onClick:()=>{v.setFieldValue("budgetRealization",[...v.values.budgetRealization,{name:"",value:null}])},children:[(0,i.jsx)(W.I,{children:(0,i.jsx)(ed.A,{stroke:1.5})}),a.add]})]})})]}),(0,i.jsxs)(n.T,{gap:4,children:[(0,i.jsx)(x.P,{fontSize:"lg",fontWeight:"semibold",children:a.input_realization_physical_title}),(0,i.jsx)(c.D,{invalid:!!v.errors.progress,errorText:v.errors.progress,children:(0,i.jsxs)(er.g1,{w:"full",size:"sm",value:v.values.progress,onValueChange:e=>v.setFieldValue("progress",e.value),children:[(0,i.jsxs)(N.z,{justify:"space-between",mb:2,children:[(0,i.jsx)(x.P,{flexShrink:0,fontWeight:"medium",children:a.progress}),(0,i.jsx)(Q.M,{endAddon:"%",w:"fit",children:(0,i.jsx)(p.X,{inputValue:v.values.progress[0],onChange:e=>{v.setFieldValue("progress",[e])},max:100,roundedTopRight:0,roundedBottomRight:0,w:"84px",placeholder:"xxx"})})]}),(0,i.jsxs)(er.XB,{children:[(0,i.jsx)(er.hB,{children:(0,i.jsx)(er.tO,{})}),(0,i.jsx)(er.RY,{})]})]})}),(0,i.jsx)(c.D,{label:a.description,invalid:!!v.errors.description,errorText:v.errors.description,children:(0,i.jsx)(g.T,{inputValue:v.values.description,onChange:e=>{v.setFieldValue("description",e)}})}),(0,i.jsx)(c.D,{label:a.problem,invalid:!!v.errors.problem,errorText:v.errors.problem,children:(0,i.jsx)(g.T,{inputValue:v.values.problem,onChange:e=>{v.setFieldValue("problem",e)}})}),(0,i.jsx)(c.D,{label:a.evidence,invalid:!!v.errors.files,errorText:v.errors.files,children:(0,i.jsx)(w.z,{dropzone:!0,inputValue:v.values.files,onChange:e=>{v.setFieldValue("files",e)},accept:"application/pdf, image/png, image/jpeg, image/jpg, .zip",acceptPlaceholder:".pdf, .png, .jpg, .jpeg, .zip",existingFiles:null==t?void 0:t.evidence,onDeleteFile:e=>{v.setFieldValue("deleteDocumentIds",Array.from(new Set([...v.values.deleteDocumentIds,e.id])))},onUndoDeleteFile:e=>{v.setFieldValue("deleteDocumentIds",v.values.deleteDocumentIds.filter(t=>t!==e.id))}})})]})]})})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:"update-realization-".concat(null==t?void 0:t.id),colorPalette:d.colorPalette,children:a.save})})]})})},e_=e=>{let{realization:t,children:r,...l}=e,{open:a,onOpen:o,onClose:s}=(0,ee.j)();return(0,E.A)((0,U.t6)("input-realization-".concat(t.id)),a,o,s),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.T,{onClick:o,...l,children:r}),(0,i.jsx)(eb,{open:a,realization:t})]})},eT=e=>{let{realization:t,...r}=e,{l:a}=(0,O.A)(),{themeConfig:o}=(0,q.p)();return(0,i.jsxs)(n.T,{gap:2,p:2,pt:4,border:"1px solid",borderColor:"border.muted",rounded:o.radii.component,align:"center",...r,children:[(0,i.jsx)(ef,{status:"".concat(null==t?void 0:t.validationStatus)}),(0,i.jsx)(x.P,{fontWeight:"medium",mt:2,children:"".concat(R.z[t.month]||"Month is not 0 based"," ").concat(t.year)}),(0,i.jsx)(e_,{realization:t,children:(0,i.jsx)(l.t,{variant:"ghost",colorPalette:o.colorPalette,size:"xs",w:"full",children:"Input ".concat(a.realization)})})]})},ez=e=>{let{id:t,budgetRealization:r,...a}=e,{l:d}=(0,O.A)(),{open:c,onOpen:u,onClose:p}=(0,ee.j)();return(0,E.A)((0,U.t6)(t),c,u,p),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.t,{variant:"ghost",size:"md",onClick:u,...a,children:[(0,i.jsx)(W.I,{children:(0,i.jsx)(ec.A,{stroke:1.5})}),d.budget_realization]}),(0,i.jsx)(o.i0,{open:c,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"".concat(d.budget_realization)})}),(0,i.jsx)(o.Ql,{children:(0,i.jsxs)(n.T,{gap:2,children:[(0,M.VP)(r)&&(0,i.jsx)(k.A,{}),null==r?void 0:r.map((e,t)=>(0,i.jsxs)(N.z,{gap:4,children:[(0,i.jsx)(b.v,{w:"fit",children:null==e?void 0:e.name}),(0,i.jsx)(J.a,{flex:1,h:"1px",bg:"border.muted"}),(0,i.jsx)(x.P,{flexShrink:0,textAlign:"right",children:(0,Z.ZV)(null==e?void 0:e.value)})]},t))]})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(f.A,{})})]})})]})},eP=e=>{let{data:t,...r}=e,{l:a}=(0,O.A)(),{themeConfig:o}=(0,q.p)(),s=null==t?void 0:t.monthlyRealization,d=null==s?void 0:s.monevMonthlyRealizationOriginal,c=null==s?void 0:s.monevMonthlyRealizationPendingUpdate;return(0,i.jsx)(n.T,{gap:4,mt:-2,children:(0,i.jsxs)(G.pK,{lazyMount:!0,unmountOnExit:!0,defaultValue:"tab-1",children:[(0,i.jsxs)(G.j7,{children:[(0,i.jsx)(G.Xi,{value:"tab-1",children:a.current_data}),(0,i.jsxs)(G.Xi,{value:"tab-2",children:[a.unvalidated," ",!(0,M.VP)(c)&&(0,i.jsx)(V.P3,{ml:1})]})]}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G.av,{value:"tab-1",children:(0,i.jsxs)(i.Fragment,{children:[(0,M.VP)(d)&&(0,i.jsx)(k.A,{}),!(0,M.VP)(d)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($.r,{columns:[2,3,4],gap:4,...r,children:null==d?void 0:d.map(e=>(0,i.jsx)(eT,{realization:e},null==e?void 0:e.id))}),(0,i.jsxs)(N.z,{wrap:"wrap",gap:4,mt:8,children:[(0,i.jsxs)(N.z,{children:[(0,i.jsx)(ef,{status:"4",boxSize:3,containerP:"2px"}),(0,i.jsx)(x.P,{children:a.uninputted})]}),(0,i.jsxs)(N.z,{children:[(0,i.jsx)(ef,{status:"1",boxSize:3,containerP:"2px"}),(0,i.jsx)(x.P,{children:a.unvalidated})]}),(0,i.jsxs)(N.z,{children:[(0,i.jsx)(ef,{status:"3",boxSize:3,containerP:"2px"}),(0,i.jsx)(x.P,{children:a.rejected})]}),(0,i.jsxs)(N.z,{children:[(0,i.jsx)(ef,{status:"2",boxSize:3,containerP:"2px"}),(0,i.jsx)(x.P,{children:a.validated})]})]})]})]})}),(0,i.jsx)(G.av,{value:"tab-2",children:(0,i.jsxs)(i.Fragment,{children:[(0,M.VP)(c)&&(0,i.jsx)(k.A,{}),!(0,M.VP)(c)&&(0,i.jsxs)(n.T,{gap:2,children:[(0,i.jsxs)(N.z,{gap:4,px:2,color:"fg.muted",children:[(0,i.jsx)(x.P,{w:"140px",ml:2,children:a.period}),(0,i.jsx)(x.P,{w:"170px",pl:4,children:a.budget_target}),(0,i.jsx)(x.P,{flex:1,children:a.progress}),(0,i.jsx)(J.a,{w:"80px",h:"30px",ml:8})]}),null==c?void 0:c.map(e=>(0,i.jsxs)(N.z,{p:2,rounded:o.radii.component,border:"1px solid",borderColor:"border.muted",gap:4,children:[(0,i.jsxs)(N.z,{w:"140px",ml:2,children:[(0,i.jsx)(b.v,{children:"".concat(R.z[e.month]," ").concat(null==e?void 0:e.year)}),(0,i.jsx)(S.A,{content:(0,i.jsx)(x.P,{children:"".concat(e.description||"-")}),children:(0,i.jsx)(l.t,{iconButton:!0,size:"2xs",rounded:"full",variant:"ghost",children:(0,i.jsx)(W.I,{boxSize:5,children:(0,i.jsx)(en.A,{stroke:1.5})})})})]}),(null==e?void 0:e.budgetRealization)?(0,i.jsx)(ez,{id:"budget-realization-".concat(e.id),budgetRealization:null==e?void 0:e.budgetRealization,w:"170px"}):(0,i.jsx)(x.P,{w:"170px",children:"-"}),(0,i.jsx)(x.P,{flex:1,children:(null==e?void 0:e.progress)?"".concat(null==e?void 0:e.progress,"%"):"-"}),(0,i.jsx)(em,{id:"validate-realization-".concat(e.id),validationAPI:"/api/monev/monthly-realization/verification/".concat(e.id),ml:8})]},e.id))]})]})})]})]})})},ey=e=>{let{open:t,data:r}=e,{l}=(0,O.A)();return(0,i.jsx)(o.i0,{open:t,lazyLoad:!0,size:"lg",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"".concat(l.realization)})}),(0,i.jsx)(o.Ql,{pt:2,children:(0,i.jsx)(n.T,{gap:4,children:(0,i.jsx)(eP,{data:r})})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(f.A,{})})]})})},eA=e=>{let{data:t,...r}=e,{open:l,onOpen:a,onClose:o}=(0,ee.j)();return(0,E.A)((0,U.t6)("".concat(eh,"-").concat(null==t?void 0:t.id)),l,a,o),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.T,{onClick:a,...r}),(0,i.jsx)(ey,{open:l,data:t})]})};var ek=r(65609),eC=r(95345),eV=r(93736),ew=r(2431);let eD=e=>{let{...t}=e,{l:r}=(0,O.A)(),[l]=(0,ep.useState)(eV.um);return(0,i.jsx)(eC.p,{id:"select_".concat("monev_contract_type"),title:(0,ew.kR)(r.type),selectOptions:l,...t})},eS=e=>{let t="select_".concat("monev_pic_division"),{...r}=e,{l}=(0,O.A)(),n=(0,F.A)(e=>e.rt),{req:a,loading:o}=(0,Y.A)({id:t,showLoadingToast:!1,showSuccessToast:!1}),[s,d]=(0,ep.useState)();function c(){a({config:{url:"/api/master-data/pic-division/index",method:"GET",params:{limit:"all",with_trashed:0}},onResolve:{onSuccess:e=>{var t,r,i;d(null==e||null==(i=e.data)||null==(r=i.data)||null==(t=r.data)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.title})).sort((e,t)=>{var r;return null==e||null==(r=e.label)?void 0:r.localeCompare(null==t?void 0:t.label)}))}}})}return(0,ep.useEffect)(()=>{c()},[n]),(0,i.jsx)(eC.p,{id:t,title:(0,ew.kR)(l.settings_navs.monev_master_data.pic_division),loading:o,selectOptions:s,fetch:c,...r})};var eR=r(70637),eI=r(3455),eO=r(50572),eF=r(30032),eq=r(7791),eE=r(79067),eL=r(45554),eY=r(98015),eM=r(62251),eX=r(44748),eB=r(83372),eU=r(69213),eZ=r(20063);let eK="/api/monev/activity-package",eN="monev_package_information",eW=e=>{let{children:t,content:r,...l}=e;return(0,i.jsx)(v.m,{content:r,positioning:{placement:"right"},...l,children:t})},eH=e=>{let t="".concat(eN,"_create"),{routeTitle:r}=e,{l:n}=(0,O.A)(),{themeConfig:a}=(0,q.p)(),d=(0,F.A)(e=>e.setRt),u=(0,eO.Q)(),{open:x,onOpen:m,onClose:f}=(0,ee.j)();(0,E.A)((0,U.t6)("".concat(t)),x,m,f);let{req:b,loading:_}=(0,Y.A)({id:t,loadingMessage:{title:(0,ew.ZH)("".concat(n.add," ").concat(r))},successMessage:{title:(0,ew.ZH)("".concat(n.add," ").concat(r," ").concat(n.successful))}}),z=(0,eu.Wx)({validateOnChange:!1,initialValues:{picDivision:null,contractType:null,mak:"",name:"",description:"",startPeriod:null,endPeriod:null,unitOutput:"",codeOutput:"",volume:"",pagu:null,partner:""},validationSchema:ex.Ik().shape({picDivision:ex.YO().required(n.msg_required_form),contractType:ex.YO().required(n.msg_required_form),mak:ex.Yj().required(n.msg_required_form),name:ex.Yj().required(n.msg_required_form),description:ex.Yj().required(n.msg_required_form),startPeriod:ex.Ik().required(n.msg_required_form),endPeriod:ex.Ik().required(n.msg_required_form),unitOutput:ex.Yj().required(n.msg_required_form),codeOutput:ex.Yj().required(n.msg_required_form),volume:ex.Yj().required(n.msg_required_form),pagu:ex.ai().required(n.msg_required_form),partner:ex.Yj().required(n.msg_required_form)}),onSubmit:(e,t)=>{var r,i,l,n;let{resetForm:a}=t;(0,B.aX)();let o={picDivisionId:null==(i=e.picDivision)||null==(r=i[0])?void 0:r.id,contractType:null==(n=e.contractType)||null==(l=n[0])?void 0:l.id,mak:e.mak,name:e.name,description:e.description,startedMonth:e.startPeriod.month,startedYear:e.startPeriod.year,finishedMonth:e.endPeriod.month,finishedYear:e.endPeriod.year,unitOutput:e.unitOutput,codeOutput:e.codeOutput,volume:e.volume,pagu:e.pagu,partner:e.partner};b({config:{url:"".concat(eK,"/create"),method:"POST",data:o},onResolve:{onSuccess:()=>{a(),d(e=>!e)}}})}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.m,{content:"".concat(n.add," data"),children:(0,i.jsxs)(l.t,{iconButton:!!u,size:"md",pl:u?"":3,colorPalette:a.colorPalette,onClick:m,children:[(0,i.jsx)(W.I,{children:(0,i.jsx)(ed.A,{stroke:1.5})}),!u&&n.add]})}),(0,i.jsx)(o.i0,{sclosureRoot:!0,open:x,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"".concat(n.add," ").concat(r)})}),(0,i.jsxs)(o.Ql,{children:[(0,i.jsxs)(eE.Bm,{status:"warning",mb:4,children:[(0,i.jsx)(eE.mZ,{}),(0,i.jsx)(eE.XL,{children:n.alert_create_package_period_cannot_be_updated_later.description})]}),(0,i.jsx)("form",{id:t,onSubmit:z.handleSubmit,children:(0,i.jsxs)(eL.Rs,{disabled:_,children:[(0,i.jsx)(c.D,{label:n.settings_navs.monev_master_data.pic_division,invalid:!!z.errors.picDivision,errorText:z.errors.picDivision,children:(0,i.jsxs)(N.z,{w:"full",children:[(0,i.jsx)(eS,{inputValue:z.values.picDivision,onConfirm:e=>{z.setFieldValue("picDivision",e)},flex:1}),(0,i.jsx)(T.a,{children:(0,i.jsx)(l.t,{iconButton:!0,variant:"outline",children:(0,i.jsx)(W.I,{children:(0,i.jsx)(ed.A,{stroke:1.5})})})})]})}),(0,i.jsx)(c.D,{label:n.contract_type,invalid:!!z.errors.contractType,errorText:z.errors.contractType,children:(0,i.jsx)(eD,{inputValue:z.values.contractType,onConfirm:e=>{z.setFieldValue("contractType",e)}})}),(0,i.jsx)(c.D,{label:n.mak,invalid:!!z.errors.mak,errorText:z.errors.mak,children:(0,i.jsx)(j.Y,{inputValue:z.values.mak,onChange:e=>{z.setFieldValue("mak",e)}})}),(0,i.jsx)(c.D,{label:n.name,invalid:!!z.errors.name,errorText:z.errors.name,children:(0,i.jsx)(j.Y,{inputValue:z.values.name,onChange:e=>{z.setFieldValue("name",e)}})}),(0,i.jsx)(c.D,{label:n.description,invalid:!!z.errors.description,errorText:z.errors.description,children:(0,i.jsx)(g.T,{inputValue:z.values.description,onChange:e=>{z.setFieldValue("description",e)}})}),(0,i.jsx)(c.D,{label:n.start_period,invalid:!!z.errors.startPeriod,errorText:z.errors.startPeriod,children:(0,i.jsx)(h.w,{id:"start-period",inputValue:z.values.startPeriod,onConfirm:e=>{z.setFieldValue("startPeriod",e)}})}),(0,i.jsx)(c.D,{label:n.end_period,invalid:!!z.errors.endPeriod,errorText:z.errors.endPeriod,children:(0,i.jsx)(h.w,{id:"end-period",inputValue:z.values.endPeriod,onConfirm:e=>{z.setFieldValue("endPeriod",e)}})}),(0,i.jsx)(c.D,{label:n.unit_output,invalid:!!z.errors.unitOutput,errorText:z.errors.unitOutput,children:(0,i.jsx)(j.Y,{inputValue:z.values.unitOutput,onChange:e=>{z.setFieldValue("unitOutput",e)}})}),(0,i.jsx)(c.D,{label:n.code_output,invalid:!!z.errors.codeOutput,errorText:z.errors.codeOutput,children:(0,i.jsx)(j.Y,{inputValue:z.values.codeOutput,onChange:e=>{z.setFieldValue("codeOutput",e)}})}),(0,i.jsx)(c.D,{label:"Volume",invalid:!!z.errors.volume,errorText:z.errors.volume,children:(0,i.jsx)(j.Y,{inputValue:z.values.volume,onChange:e=>{z.setFieldValue("volume",e)}})}),(0,i.jsx)(c.D,{label:n.pagu,invalid:!!z.errors.pagu,errorText:z.errors.pagu,children:(0,i.jsx)(p.X,{inputValue:z.values.pagu,onChange:e=>{z.setFieldValue("pagu",e)}})}),(0,i.jsx)(c.D,{label:n.partner,invalid:!!z.errors.partner,errorText:z.errors.partner,children:(0,i.jsx)(j.Y,{inputValue:z.values.partner,onChange:e=>{z.setFieldValue("partner",e)}})})]})})]}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:a.colorPalette,loading:_,children:n.add})})]})})]})},eQ=()=>{let{l:e}=(0,O.A)(),{req:t,loading:r}=(0,Y.A)({id:"".concat(eN,"_export"),loadingMessage:{title:"Export"},successMessage:{title:"Export ".concat(e.successful)}}),[n,o]=(0,ep.useState)({startDate:null,endDate:null});async function s(){var r,i;(0,B.aX)(),t({config:{url:"".concat(eK,"/export"),method:"GET",responseType:"blob",params:{startDate:null==(r=n.startDate)?void 0:r[0],endDate:null==(i=n.endDate)?void 0:i[0]}},onResolve:{onSuccess:t=>{(0,eF.R)(t.data,"".concat(e.activity_package_information),"zip")}}})}return(0,i.jsx)(_.H,{id:"export-package-confirmation",title:"Export",description:e.msg_export_data_confirmation,confirmLabel:"Export",onConfirm:s,addonElement:(0,i.jsxs)(N.z,{mt:4,children:[(0,i.jsx)(a.t,{id:"created-at-after",inputValue:n.startDate,onConfirm:e=>{o({...n,startDate:e})},flex:1,placeholder:"".concat(e.created," ").concat(e.after.toLowerCase())}),(0,i.jsx)(a.t,{id:"created-at-before",inputValue:n.endDate,onConfirm:e=>{o({...n,endDate:e})},flex:1,placeholder:"".concat(e.created," ").concat(e.before.toLowerCase())})]}),children:(0,i.jsxs)(l.t,{variant:"outline",loading:r,children:[(0,i.jsx)(W.I,{children:(0,i.jsx)(eY.A,{stroke:1.5})}),"Export"]})})},eG=e=>{var t;let{filter:r,setFilter:l,routeTitle:n,...a}=e,o=(0,X.gL)(),s=(null==o||null==(t=o.role)?void 0:t.id)==="1";return(0,i.jsxs)(N.z,{p:3,...a,children:[(0,i.jsx)(m.A,{inputValue:r.search,onChange:e=>{l({...r,search:e})}}),(0,i.jsx)(z.F,{navKey:eN}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eQ,{}),(0,i.jsx)(eH,{routeTitle:n})]})]})},e$=e=>{var t;let r="".concat(eN,"_detail"),{data:a,children:d,...c}=e,{l:u}=(0,O.A)(),{themeConfig:p}=(0,q.p)(),{open:h,onOpen:m,onClose:j}=(0,ee.j)();return(0,E.A)((0,U.t6)("".concat(r,"-").concat(null==a?void 0:a.id)),h,m,j),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.T,{w:"fit",onClick:m,...c,children:d}),(0,i.jsx)(o.i0,{open:h,lazyLoad:!0,size:"lg",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"Detail"})}),(0,i.jsx)(o.Ql,{children:(0,i.jsxs)(n.T,{gap:8,children:[(0,i.jsxs)(n.T,{gap:4,children:[(0,i.jsxs)(N.z,{justify:"space-between",children:[(0,i.jsx)(x.P,{fontSize:"lg",fontWeight:"semibold",children:(0,ew.kR)(u.activity_package_information)}),(0,i.jsx)(ev,{id:"target-from-detail-".concat(null==a?void 0:a.id),data:a,w:"fit",children:(0,i.jsxs)(l.t,{colorPalette:p.colorPalette,variant:"ghost",size:"xs",children:["Target",(null==a?void 0:a.pendingTarget)&&(0,i.jsx)(V.P3,{ml:2})]})})]}),(0,i.jsxs)(n.T,{gap:2,children:[(0,i.jsxs)(N.z,{align:"start",gap:4,children:[(0,i.jsx)(x.P,{flex:1,flexShrink:0,color:"fg.muted",children:u.pagu}),(0,i.jsx)(x.P,{flex:[1,null,2],children:"".concat(null==a?void 0:a.pagu)})]}),(0,i.jsxs)(N.z,{align:"start",gap:4,children:[(0,i.jsx)(x.P,{flex:1,flexShrink:0,color:"fg.muted",children:u.mak}),(0,i.jsx)(x.P,{flex:[1,null,2],children:"".concat(null==a?void 0:a.mak)})]}),(0,i.jsxs)(N.z,{align:"start",gap:4,children:[(0,i.jsx)(x.P,{flex:1,flexShrink:0,color:"fg.muted",children:u.unit_output}),(0,i.jsx)(x.P,{flex:[1,null,2],children:"".concat(null==a?void 0:a.unitOutput)})]}),(0,i.jsxs)(N.z,{align:"start",gap:4,children:[(0,i.jsx)(x.P,{flex:1,flexShrink:0,color:"fg.muted",children:u.code_output}),(0,i.jsx)(x.P,{flex:[1,null,2],children:"".concat(null==a?void 0:a.codeOutput)})]}),(0,i.jsxs)(N.z,{align:"start",gap:4,children:[(0,i.jsx)(x.P,{flex:1,flexShrink:0,color:"fg.muted",children:"Volume"}),(0,i.jsx)(x.P,{flex:[1,null,2],children:"".concat(null==a?void 0:a.volume)})]}),(0,i.jsxs)(N.z,{align:"start",gap:4,children:[(0,i.jsx)(x.P,{flex:1,flexShrink:0,color:"fg.muted",children:u.pic_division}),(0,i.jsx)(x.P,{flex:[1,null,2],children:"".concat(null==a||null==(t=a.picDivision)?void 0:t.title)})]}),(0,i.jsxs)(N.z,{align:"start",gap:4,children:[(0,i.jsx)(x.P,{flex:1,flexShrink:0,color:"fg.muted",children:u.partner}),(0,i.jsx)(x.P,{flex:[1,null,2],children:"".concat(null==a?void 0:a.partner)})]})]})]}),(0,i.jsxs)(n.T,{gap:4,children:[(0,i.jsx)(N.z,{justify:"space-between",h:"32px",children:(0,i.jsx)(x.P,{fontSize:"lg",fontWeight:"semibold",children:(0,ew.kR)(u.input_monthly_realization)})}),(0,i.jsx)(n.T,{children:(0,i.jsx)(eP,{data:a})})]})]})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(f.A,{})})]})})]})},eJ=e=>{let t="".concat(eN,"_update"),{data:r,routeTitle:n}=e,{l:a}=(0,O.A)(),{themeConfig:d}=(0,q.p)(),x=(0,F.A)(e=>e.setRt),{open:m,onOpen:v,onClose:f}=(0,ee.j)();(0,E.A)((0,U.t6)("".concat(t,"-").concat(null==r?void 0:r.id)),m,v,f);let{req:b,loading:_}=(0,Y.A)({id:t,loadingMessage:{title:(0,ew.ZH)("Edit ".concat(n))},successMessage:{title:(0,ew.ZH)("Edit ".concat(n," ").concat(a.successful))}}),z=(0,eu.Wx)({validateOnChange:!1,initialValues:{picDivision:null,contractType:null,mak:"",name:"",description:"",startPeriod:null,endPeriod:null,unitOutput:"",codeOutput:"",volume:"",pagu:null,partner:""},validationSchema:ex.Ik().shape({picDivision:ex.YO().required(a.msg_required_form),contractType:ex.YO().required(a.msg_required_form),mak:ex.Yj().required(a.msg_required_form),name:ex.Yj().required(a.msg_required_form),description:ex.Yj().required(a.msg_required_form),startPeriod:ex.Ik().required(a.msg_required_form),endPeriod:ex.Ik().required(a.msg_required_form),unitOutput:ex.Yj().required(a.msg_required_form),codeOutput:ex.Yj().required(a.msg_required_form),volume:ex.Yj().required(a.msg_required_form),pagu:ex.ai().required(a.msg_required_form),partner:ex.Yj().required(a.msg_required_form)}),onSubmit:(e,t)=>{var i,l,n,a;let{resetForm:o}=t;(0,B.aX)();let s={picDivisionId:null==(l=e.picDivision)||null==(i=l[0])?void 0:i.id,contractType:null==(a=e.contractType)||null==(n=a[0])?void 0:n.id,mak:e.mak,name:e.name,description:e.description,startedMonth:e.startPeriod.month,startedYear:e.startPeriod.year,finishedMonth:e.endPeriod.month,finishedYear:e.endPeriod.year,unitOutput:e.unitOutput,codeOutput:e.codeOutput,volume:e.volume,pagu:e.pagu,partner:e.partner};b({config:{url:"".concat(eK,"/update/").concat(r.id),method:"PATCH",data:s},onResolve:{onSuccess:()=>{o(),x(e=>!e)}}})}});return(0,ep.useEffect)(()=>{z.setValues({picDivision:[{id:r.picDivision.id,label:r.picDivision.title}],contractType:[{id:r.contractType,label:r.contractType}],mak:r.mak,name:r.name,description:r.description,startPeriod:{month:r.startedMonth,year:r.startedYear},endPeriod:{month:r.finishedMonth,year:r.finishedYear},unitOutput:r.unitOutput,codeOutput:r.codeOutput,volume:r.volume,pagu:r.pagu,partner:r.partner})},[m,r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eW,{content:"Edit",children:(0,i.jsxs)(u.Dr,{value:"edit",onClick:v,children:["Edit",(0,i.jsx)(W.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(eM.A,{stroke:1.5})})]})}),(0,i.jsx)(o.i0,{open:m,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"Edit ".concat(n)})}),(0,i.jsx)(o.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:z.handleSubmit,children:(0,i.jsxs)(eL.Rs,{disabled:_,children:[(0,i.jsx)(c.D,{label:a.settings_navs.monev_master_data.pic_division,invalid:!!z.errors.picDivision,errorText:z.errors.picDivision,children:(0,i.jsxs)(N.z,{w:"full",children:[(0,i.jsx)(eS,{inputValue:z.values.picDivision,onConfirm:e=>{z.setFieldValue("picDivision",e)},flex:1}),(0,i.jsx)(T.a,{children:(0,i.jsx)(l.t,{iconButton:!0,variant:"outline",children:(0,i.jsx)(W.I,{children:(0,i.jsx)(ed.A,{stroke:1.5})})})})]})}),(0,i.jsx)(c.D,{label:a.contract_type,invalid:!!z.errors.contractType,errorText:z.errors.contractType,children:(0,i.jsx)(eD,{inputValue:z.values.contractType,onConfirm:e=>{z.setFieldValue("contractType",e)}})}),(0,i.jsx)(c.D,{label:a.mak,invalid:!!z.errors.mak,errorText:z.errors.mak,children:(0,i.jsx)(j.Y,{inputValue:z.values.mak,onChange:e=>{z.setFieldValue("mak",e)},maxChar:50})}),(0,i.jsx)(c.D,{label:a.name,invalid:!!z.errors.name,errorText:z.errors.name,children:(0,i.jsx)(j.Y,{inputValue:z.values.name,onChange:e=>{z.setFieldValue("name",e)},maxChar:180})}),(0,i.jsx)(c.D,{label:a.description,invalid:!!z.errors.description,errorText:z.errors.description,children:(0,i.jsx)(g.T,{inputValue:z.values.description,onChange:e=>{z.setFieldValue("description",e)}})}),(0,i.jsx)(c.D,{label:a.start_month,invalid:!!z.errors.startPeriod,errorText:z.errors.startPeriod,children:(0,i.jsx)(h.w,{inputValue:z.values.startPeriod,onConfirm:e=>{z.setFieldValue("startPeriod",e)},disabled:!0})}),(0,i.jsx)(c.D,{label:a.end_month,invalid:!!z.errors.endPeriod,errorText:z.errors.endPeriod,children:(0,i.jsx)(h.w,{inputValue:z.values.endPeriod,onConfirm:e=>{z.setFieldValue("endPeriod",e)},disabled:!0})}),(0,i.jsx)(c.D,{label:a.unit_output,invalid:!!z.errors.unitOutput,errorText:z.errors.unitOutput,children:(0,i.jsx)(j.Y,{inputValue:z.values.unitOutput,onChange:e=>{z.setFieldValue("unitOutput",e)}})}),(0,i.jsx)(c.D,{label:a.code_output,invalid:!!z.errors.codeOutput,errorText:z.errors.codeOutput,children:(0,i.jsx)(j.Y,{inputValue:z.values.codeOutput,onChange:e=>{z.setFieldValue("codeOutput",e)}})}),(0,i.jsx)(c.D,{label:"Volume",invalid:!!z.errors.volume,errorText:z.errors.volume,children:(0,i.jsx)(j.Y,{inputValue:z.values.volume,onChange:e=>{z.setFieldValue("volume",e)}})}),(0,i.jsx)(c.D,{label:a.pagu,invalid:!!z.errors.pagu,errorText:z.errors.pagu,children:(0,i.jsx)(p.X,{inputValue:z.values.pagu,onChange:e=>{z.setFieldValue("pagu",e)}})}),(0,i.jsx)(c.D,{label:a.partner,invalid:!!z.errors.partner,errorText:z.errors.partner,children:(0,i.jsx)(j.Y,{inputValue:z.values.partner,onChange:e=>{z.setFieldValue("partner",e)}})})]})})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:d.colorPalette,loading:_,children:a.save})})]})})]})},e0=e=>{let t="".concat(eN,"_delete"),{deleteIds:r,clearSelectedRows:l,disabled:n,routeTitle:a}=e,{l:o}=(0,O.A)(),s=(0,F.A)(e=>e.setRt),{req:d,loading:c}=(0,Y.A)({id:t,loadingMessage:{title:(0,ew.ZH)("".concat(o.delete_," ").concat(a))},successMessage:{title:(0,ew.ZH)("".concat(o.delete_," ").concat(a," ").concat(o.successful))}});return(0,i.jsx)(_.H,{w:"full",id:"".concat(t,"-").concat(r),title:"".concat((0,ew.kR)(o.perma_delete)," ").concat(a),description:o.msg_cannot_be_undone,confirmLabel:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(W.I,{children:(0,i.jsx)(eX.A,{stroke:1.5})}),"".concat(o.perma_delete)]}),onConfirm:function(){(0,B.aX)(),d({config:{url:"".concat(eK,"/delete"),method:"DELETE",data:{deleteIds:r}},onResolve:{onSuccess:()=>{s(e=>!e),null==l||l()}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},loading:c,disabled:n,children:(0,i.jsx)(eW,{content:o.delete_,children:(0,i.jsxs)(u.Dr,{value:"delete",color:"fg.error",disabled:n,children:[o.delete_,(0,i.jsx)(W.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(es.A,{stroke:1.5})})]})})})},e1=e=>{var t,r;let{filter:n,routeTitle:a}=e,{l:o}=(0,O.A)(),s=(0,eI.a)(e=>e.getDisplay(eN)),{error:c,initialLoading:p,data:x,onRetry:h,limit:m,setLimit:j,page:g,setPage:v,pagination:f}=(0,L.A)({initialData:void 0,url:"".concat(eK,"/index"),params:n,dependencies:[n]}),_={headers:[{th:o.name,sortable:!0},{th:o.pagu,sortable:!0,align:"end"},{th:"Detail",wrapperProps:{pl:"24px"}},{th:"Target",wrapperProps:{pl:"24px"}},{th:o.realization,wrapperProps:{pl:"24px"}},{th:o.added,sortable:!0},{th:o.updated,sortable:!0}],rows:null==x?void 0:x.map((e,t)=>({id:e.id,idx:t,data:e,dim:!!e.deletedAt,columns:[{td:(0,i.jsx)(b.v,{children:"".concat(e.name)}),value:e.name},{td:(0,Z.ZV)(e.pagu),value:e.pagu,align:"end"},{td:(0,i.jsx)(e$,{data:e,routeTitle:a,children:(0,i.jsxs)(l.t,{size:"xs",variant:"ghost",pl:"6px",children:[(0,i.jsx)(W.I,{boxSize:5,children:(0,i.jsx)(en.A,{stroke:1.5})}),"Detail"]})}),value:""},{td:(0,i.jsx)(ev,{data:e,routeTitle:a,children:(0,i.jsxs)(l.t,{size:"xs",variant:"ghost",pl:"6px",children:[(0,i.jsx)(W.I,{boxSize:5,children:(0,i.jsx)(eB.A,{stroke:1.5})}),"Target",(null==e?void 0:e.pendingTarget)&&(0,i.jsx)(V.P3,{ml:2})]})}),value:""},{td:(0,i.jsx)(eA,{data:e,routeTitle:a,children:(0,i.jsxs)(l.t,{size:"xs",variant:"ghost",pl:"6px",children:[(0,i.jsx)(W.I,{boxSize:5,children:(0,i.jsx)(eU.A,{stroke:1.5})}),o.realization,(null==e?void 0:e.pendingRealization)&&(0,i.jsx)(V.P3,{ml:2})]})}),value:""},{td:(0,Z.Yq)(e.createdAt,{variant:"numeric",withTime:!0}),value:e.createdAt,dataType:"date",dashEmpty:!0},{td:(0,Z.Yq)(e.updatedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.updatedAt,dataType:"date"}]})),rowOptions:[e=>({override:(0,i.jsx)(eJ,{data:e.data,routeTitle:a})}),e=>({override:(0,i.jsx)(e0,{deleteIds:[e.data.id],disabled:!!e.data.deletedAt,routeTitle:a})}),e=>({override:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.c,{my:1}),(0,i.jsx)(e$,{data:e.data,routeTitle:a,w:"full",children:(0,i.jsx)(eW,{content:"Detail",children:(0,i.jsxs)(u.Dr,{value:"detail",children:["Detail",(0,i.jsx)(W.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(en.A,{stroke:1.5})})]})})})]})}),e=>({override:(0,i.jsx)(ev,{data:e.data,children:(0,i.jsx)(eW,{content:"Edit Target",children:(0,i.jsxs)(u.Dr,{value:"edit target",children:["Target",(0,i.jsx)(W.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(eB.A,{stroke:1.5})})]})})})}),e=>({override:(0,i.jsx)(eA,{data:e.data,children:(0,i.jsx)(eW,{content:o.realization,children:(0,i.jsxs)(u.Dr,{value:"realization",children:[o.realization,(0,i.jsx)(W.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(eU.A,{stroke:1.5})})]})})})})],batchOptions:[(e,t)=>{let{clearSelectedRows:r}=t;return{override:(0,i.jsx)(e0,{deleteIds:e,clearSelectedRows:r,disabled:(0,M.VP)(e)||(null==x?void 0:x.filter(t=>e.includes(t.id)).some(e=>!!e.deletedAt)),routeTitle:a})}}]},T={loading:(0,i.jsx)(eR.Q,{}),error:(0,i.jsx)(C.A,{onRetry:h}),empty:(0,i.jsx)(k.A,{}),loaded:"table"===s?(0,i.jsx)(A.b,{headers:_.headers,rows:_.rows,rowOptions:_.rowOptions,batchOptions:_.batchOptions,limit:m,setLimit:j,page:g,setPage:v,totalPage:null==f||null==(t=f.meta)?void 0:t.last_page}):(0,i.jsx)(P.z,{data:x,dataProps:_,limit:m,setLimit:j,page:g,setPage:v,totalPage:null==f||null==(r=f.meta)?void 0:r.last_page,renderItem:e=>{let{item:t,row:r,details:l,selectedRows:n,toggleRowSelection:o}=e;return(0,i.jsx)(y.G,{item:{id:t.id,title:t.name,description:t.description,deletedAt:t.deletedAt},dataProps:_,row:r,selectedRows:n,toggleRowSelection:o,routeTitle:a,details:l},t.id)}})};return(0,i.jsxs)(i.Fragment,{children:[p&&T.loading,!p&&(0,i.jsxs)(i.Fragment,{children:[c&&T.error,!c&&(0,i.jsxs)(i.Fragment,{children:[x&&T.loaded,(!x||(0,M.VP)(x))&&T.empty]})]})]})};function e2(){let{l:e}=(0,O.A)(),t=(0,eZ.usePathname)(),r=(0,eq.xD)(t),l=(0,ew.Ds)(e,(0,M.HV)(r).labelKey),[n,a]=(0,ep.useState)({search:""});return(0,i.jsx)(ek.L,{children:(0,i.jsxs)(ek.T,{children:[(0,i.jsx)(eG,{filter:n,setFilter:a,routeTitle:l}),(0,i.jsx)(e1,{filter:n,routeTitle:l})]})})}},53759:(e,t,r)=>{"use strict";r.d(t,{I:()=>m});var i=r(95155),l=r(46426),n=r(25535),a=r(80310),o=r(58226),s=r(93454),d=r(76150),c=r(7579),u=r(26074),p=r(92091),x=r(52619),h=r.n(x);let m=e=>{let{children:t,fileData:r,actions:x=[],idx:m,...j}=e,{themeConfig:g}=(0,s.p)();return(0,i.jsxs)(d.z,{py:2,px:4,pr:"6px",rounded:g.radii.component,border:"1px solid",borderColor:"border.muted",gap:4,justify:"space-between",...j,children:[(0,i.jsx)(h(),{href:null==r?void 0:r.fileUrl,target:"_blank",style:{width:"100%"},children:(0,i.jsxs)(d.z,{gap:4,children:[(0,i.jsxs)(c.o,{pos:"relative",children:[(0,i.jsx)(a.o,{flexShrink:0,mimeType:null==r?void 0:r.fileMimeType}),void 0!==m&&(0,i.jsx)(u.j,{className:"ss",size:"16px",bg:"body",border:"1px solid",borderColor:"d1",pos:"absolute",left:"-6px",top:"-6px",children:(0,i.jsx)(o.P,{fontSize:"sm",children:"".concat(m+1)})})]}),(0,i.jsxs)(n.T,{flex:1,children:[(0,i.jsx)(o.P,{lineClamp:1,children:"".concat(null==r?void 0:r.fileName)}),(0,i.jsx)(o.P,{fontSize:"sm",color:"fg.muted",children:"".concat(null==r?void 0:r.fileSize)})]})]})}),(0,i.jsx)(d.z,{justify:"end",children:x.map(e=>(0,i.jsx)(l.t,{iconButton:!!e.icon,flexShrink:0,size:"xs",color:"fg.subtle",variant:"plain",colorPalette:"gray",onClick:e.onClick,disabled:!1,children:e.icon?(0,i.jsx)(p.I,{boxSize:"18px",children:e.icon}):e.label},e.type))}),t]})}},64254:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(32309);let l=(0,r(25959).v)((e,t)=>({authToken:(0,i.c7)("__auth_token"),setAuthToken:t=>e(()=>({authToken:t})),verifiedAuthToken:null,setVerifiedAuthToken:t=>e(()=>((0,i.cT)("__auth_token",t||""),{verifiedAuthToken:t})),role:null,setRole:t=>e(()=>({role:t})),permissions:null,setPermissions:t=>e(()=>({permissions:t})),hasPermissions:e=>{var r;let i=null!=(r=t().permissions)?r:[];return e.every(e=>i.includes(e))},removeAuth:()=>{t().removeAuthToken(),t().removePermissions(),t().removeRole(),(0,i.Od)("__user_data"),t().setVerifiedAuthToken(null),t().setAuthToken(null)},removeAuthToken:()=>{(0,i.Od)("__auth_token"),e(()=>({authToken:null,verifiedAuthToken:null}))},removePermissions:()=>e(()=>({permissions:void 0})),removeRole:()=>e(()=>({role:void 0}))}))},68502:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,q:()=>a});var i=r(7496),l=r.n(i),n=r(35068);let a=function(){let{maxSizeMB:e=50,allowedExtensions:t,min:r,max:i,checkZip:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.gl().test("fileType","file required",e=>!Array.isArray(e)||0===e.length||e.every(e=>e instanceof File)).test("fileMin","Minimum ".concat(r," file(s) required"),e=>!(r&&Array.isArray(e))||e.length>=r).test("fileMax","Maximum ".concat(i," file(s) allowed"),e=>!(i&&Array.isArray(e))||e.length<=i).test("fileSize","file size too large",t=>{if(!Array.isArray(t)||0===t.length)return!0;if(e){let r=1024*e*1024;return t.every(e=>e.size<=r)}return!0}).test("fileExtension","Supported extensions: ".concat((null==t?void 0:t.join(", "))||"all"),e=>!(e&&Array.isArray(e))||!t||0===t.length||e.every(e=>{if(!(null==e?void 0:e.name))return!1;let r=e.name.slice((e.name.lastIndexOf(".")-1>>>0)+2).toLowerCase();return t.includes(r)})).test("zipContents","ZIP file must contain at least one valid file",async e=>{if(!Array.isArray(e)||0===e.length)return!0;if(a){for(let r of e)if(r.name.endsWith(".zip"))try{let e=await l().loadAsync(r),i=Object.keys(e.files);if(0===i.length||!i.some(e=>{var r;let i=null==(r=e.split(".").pop())?void 0:r.toLowerCase();return null==t?void 0:t.includes(i||"")}))return!1}catch(e){return console.error("check zip error",e),!1}}return!0})};function o(e){let{resolvedData:t,existingKey:r,deletedKey:i,newKey:l,message:a="At least one item is required"}=e;return n.gl().test("must-have-at-least-one-item",a,function(e,n){var a,o,s;let{parent:d}=n,c=(null==t||null==(a=t[r])?void 0:a.length)||0,u=(null==d||null==(o=d[i])?void 0:o.length)||0;return c-u+((null==d||null==(s=d[l])?void 0:s.length)||0)>0})}},80310:(e,t,r)=>{"use strict";r.d(t,{o:()=>p});var i=r(95155),l=r(92091),n=r(65150),a=r(96094),o=r(71114),s=r(2776),d=r(46835),c=r(79350),u=r(97745);let p=(0,r(12115).forwardRef)((e,t)=>{let{name:r,mimeType:p,iconProps:x,...h}=e,m=null==r?void 0:r.toLowerCase().split(".").pop(),j=null==p?void 0:p.toLowerCase(),g="current",v=n.A;switch(!0){case"application/pdf"===j||"pdf"===m:g="fg.error",v=a.A;break;case"application/msword"===j||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===j||["doc","docx"].includes(m):g="blue.500",v=o.A;break;case"application/vnd.ms-excel"===j||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===j||["xls","xlsx","csv"].includes(m):g="csv"===m?"green.600":"green.500",v="csv"===m?s.A:d.A;break;case(null==j?void 0:j.startsWith("image/"))||["jpg","jpeg","png","gif","webp","svg"].includes(m):g="purple.500",v=c.A;break;case"application/zip"===j||"application/x-zip-compressed"===j||"zip"===m:g="orange.500",v=u.A}return(0,i.jsx)(l.I,{ref:t,color:"".concat(g," !important"),...h,children:(0,i.jsx)(v,{stroke:1.5,...x})})});p.displayName="FileIcon"},80320:(e,t,r)=>{"use strict";r.d(t,{z:()=>w,S:()=>V});var i=r(95155),l=r(46426),n=r(25535),a=r(12175),o=r(80310),s=r(58226),d=r(38126),c=r(46767),u=r(53759),p=r(36780),x=r(93454),h=r(60439),m=r(30032),j=r(46977),g=r(98781),v=r(7579),f=r(92091),b=r(2186),_=r(67763),T=r(61456),z=r(12115),P=r(95943);let y=(0,z.forwardRef)(function(e,t){let{children:r,inputProps:l,...n}=e;return(0,i.jsxs)(P.YM,{...n,children:[(0,i.jsx)(P.yD,{ref:t,...l}),r]})}),A=(0,z.forwardRef)(function(e,t){let{children:r,icon:l,label:n,description:a,showIcon:o=!0,showLabel:d=!0,showDescription:c=!0,disabled:u,imgInput:p,...x}=e;return(0,i.jsxs)(P.fT,{ref:t,cursor:"pointer",bg:"body",overflow:"auto",p:4*!p,...x,_hover:{bg:"gray.subtle"},children:[o&&(0,i.jsx)(f.I,{fontSize:"2xl",color:"fg.muted",opacity:u?.4:1,children:l||(0,i.jsx)(_.A,{})}),r,(d||c)&&(0,i.jsxs)(P.YO,{opacity:u?.4:1,mb:p?"28px":"",children:[d&&(0,i.jsx)(s.P,{children:n}),c&&a&&(0,i.jsx)(s.P,{color:"fg.muted",children:a||".* up to 5MB"})]})]})});P.MD,P.h_;let k=P.k,C=e=>{let{inputValue:t,onChange:r,existing:l,...a}=e;return(0,i.jsx)(n.T,{gap:2,...a,children:null==t?void 0:t.map((e,n)=>{let a={fileName:e.name,fileMimeType:e.type,fileSize:(0,j.z3)(e.size),fileUrl:(0,m.M)(e)||""};return(0,i.jsx)(u.I,{idx:l.length+n,fileData:a,actions:[{type:"remove",icon:(0,i.jsx)(b.A,{}),onClick:()=>{let e=t.filter((e,t)=>t!==n);null==r||r(e.length>0?e:null)}}]},n)})})},V=e=>{let{fRef:t,children:r,onChange:u,inputValue:x,accept:m,acceptPlaceholder:b,invalid:T,placeholder:P,label:V,dropzone:w,maxFileSize:D=50,maxFiles:S=1,description:R,disabled:I,existing:O,showDropzoneIcon:F=!0,showDropzoneLabel:q=!0,showDropzoneDescription:E=!0,imgInput:L,...Y}=e,{l:M}=(0,p.A)(),X=(0,g.f)(),[B,U]=(0,z.useState)(1),Z=(Array.isArray(O)?O:[]).length,K=null==x?void 0:x[0],N=1===S&&!(0,h.VP)(x),W=N?(0,i.jsx)(o.o,{name:K.name,mimeType:K.type,size:"2xl"}):void 0,H=N?null==K?void 0:K.name:P||M.msg_file_input_dropzone,Q=N?(0,j.z3)(null==K?void 0:K.size):R||"up to ".concat(D," mB, max ").concat(S||1," file").concat(S>1?"s":""," ").concat(b?"(".concat(b,")"):""),G=X.disabled||I||Z>=S;return(0,z.useEffect)(()=>{G&&(null==u||u(void 0),U(e=>e+1))},[G]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y,{ref:t,alignItems:"stretch",onFileChange:function(e){U(e=>e+1);let t=e.acceptedFiles||[];if(S&&Z+t.length>S){let e=M.error_invalid_file.title,t=M.error_invalid_file.description;d.X.error({title:e,description:t,action:{label:"Close",onClick:()=>{}}}),U(e=>e+1);return}null==u||u(t.length>0?t:void 0)},onFileReject:()=>{d.X.error({title:M.error_invalid_file.title,description:M.error_invalid_file.description,action:{label:"Close",onClick:()=>{}}})},maxFileSize:1024*D*1024,maxFiles:S,gap:2,accept:m,disabled:G,pos:"relative",...Y,children:(0,i.jsxs)(i.Fragment,{children:[w&&N&&(0,i.jsx)(c.m,{content:"Reset",children:(0,i.jsx)(a.J,{pos:"absolute",top:"6px",right:"6px",size:"xs",variant:"plain",color:"fg.subtle",onClick:()=>{null==u||u(void 0),U(e=>e+1)}})}),w?(0,i.jsx)(A,{flex:1,icon:W,label:H,description:Q,border:"2px dashed",borderColor:(null!=T?T:null==X?void 0:X.invalid)?"border.error":"border.muted",disabled:G,cursor:G?"disabled":"pointer",showIcon:F,showLabel:q,showDescription:E,imgInput:L,children:(0,i.jsx)(v.o,{mt:!L||(0,h.VP)(x)&&(0,h.VP)(O)?-4:7,children:r})}):(0,i.jsx)(k,{asChild:!0,borderColor:T?"fg.error":"",children:(0,i.jsxs)(l.t,{variant:"outline",borderColor:(null!=T?T:null==X?void 0:X.invalid)?"border.error":"border.muted",children:[(0,i.jsx)(f.I,{scale:.8,children:(0,i.jsx)(_.A,{})})," ",V||"File upload"]})}),!N&&x&&!(0,h.VP)(x)&&(0,i.jsxs)(n.T,{gap:2,children:[(!(0,h.VP)(O)||!(0,h.VP)(x))&&(0,i.jsx)(s.P,{fontSize:"sm",color:"fg.subtle",children:"Total : ".concat((0,j.ZV)(x.length+O.length))}),(0,i.jsx)(C,{inputValue:x,onChange:u,setKey:U,existing:O})]})]})},"".concat(B))})},w=e=>{let{existingFiles:t,onDeleteFile:r,onUndoDeleteFile:l,...a}=e,{l:o}=(0,p.A)(),{themeConfig:d}=(0,x.p)(),c=(0,g.f)().disabled,[m,j]=(0,z.useState)(t||[]),[v,f]=(0,z.useState)([]);return(0,i.jsxs)(n.T,{gap:3,children:[!(0,h.VP)(m)&&(0,i.jsx)(n.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:d.radii.container,children:(0,i.jsxs)(n.T,{gap:2,opacity:c?.5:1,cursor:c?"disabled":"auto",children:[(0,i.jsx)(s.P,{fontWeight:"medium",pl:1,children:o.uploaded_file}),null==m?void 0:m.map((e,t)=>(0,i.jsx)(u.I,{idx:t,fileData:e,actions:[{type:"delete",icon:(0,i.jsx)(T.A,{stroke:1.5}),onClick:()=>{j(t=>t.filter(t=>t.id!==e.id)),f(t=>[...t,e]),null==r||r(e)}}]},t))]})}),!(0,h.VP)(v)&&(0,i.jsx)(n.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:d.radii.container,children:(0,i.jsxs)(n.T,{gap:2,opacity:c?.5:1,cursor:c?"disabled":"auto",children:[(0,i.jsx)(s.P,{fontWeight:"medium",pl:1,children:o.deleted_file}),null==v?void 0:v.map((e,t)=>(0,i.jsx)(u.I,{fileData:e,actions:[{type:"undo_delete",label:"Undo",onClick:()=>{j(t=>[...t,e]),f(t=>t.filter(t=>t.id!==e.id)),null==l||l(e)}}]},t))]})}),(0,i.jsx)(V,{existing:m,...a})]})}},81303:(e,t,r)=>{"use strict";r.d(t,{a:()=>z});var i=r(95155),l=r(46426),n=r(25535),a=r(66825),o=r(95145),s=r(98886),d=r(40814),c=r(31120),u=r(36780),p=r(93885),x=r(93454),h=r(3370),m=r(40773),j=r(32309),g=r(2431),v=r(45554),f=r(50857),b=r(41521),_=r(35068);let T=e=>{let t="".concat("cms_pic_division","_create"),{open:r}=e,{l:n}=(0,u.A)(),{themeConfig:h}=(0,x.p)(),f=(0,p.A)(e=>e.setRt),T=n.settings_navs.monev_master_data.pic_division,{req:z,loading:P}=(0,m.A)({id:t,loadingMessage:{title:(0,g.ZH)("".concat(n.add," ").concat(T))},successMessage:{title:(0,g.ZH)("".concat(n.add," ").concat(T," ").concat(n.successful))}}),y=(0,b.Wx)({validateOnChange:!1,initialValues:{title:"",description:""},validationSchema:_.Ik().shape({title:_.Yj().required(n.msg_required_form),description:_.Yj().required(n.msg_required_form)}),onSubmit:(e,t)=>{let{resetForm:r}=t;(0,j.aX)(),z({config:{url:"".concat("/api/master-data/pic-division","/create"),method:"POST",data:e},onResolve:{onSuccess:()=>{f(e=>!e),r()}}})}});return(0,i.jsx)(a.i0,{open:r,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(a.L7,{children:[(0,i.jsx)(a.$Z,{children:(0,i.jsx)(o.G,{title:"".concat(n.add," ").concat(T)})}),(0,i.jsx)(a.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:y.handleSubmit,children:(0,i.jsxs)(v.Rs,{disabled:P,children:[(0,i.jsx)(s.D,{label:n.name,invalid:!!y.errors.title,errorText:y.errors.title,children:(0,i.jsx)(d.Y,{inputValue:y.values.title,onChange:e=>{y.setFieldValue("title",e)}})}),(0,i.jsx)(s.D,{label:n.description,invalid:!!y.errors.description,errorText:y.errors.description,children:(0,i.jsx)(c.T,{inputValue:y.values.description,onChange:e=>{y.setFieldValue("description",e)}})})]})})}),(0,i.jsx)(a.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:h.colorPalette,loading:P,children:n.add})})]})})},z=e=>{let{children:t,id:r,...l}=e,{open:a,onOpen:o,onClose:s}=(0,f.j)();return(0,h.A)(r||"create-monev-pic-division",a,o,s),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.T,{w:"fit",onClick:o,...l,children:t}),(0,i.jsx)(T,{open:a})]})}},86430:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var i=r(95155),l=r(46426),n=r(92091),a=r(57514),o=r(38582),s=r(50572),d=r(3455);function c(e){let{navKey:t}=e,r=(0,d.a)(e=>e.displays),c=(0,d.a)(e=>e.setDisplay),u=(0,s.Q)(),p="table"===(r[t]||"table");return(0,i.jsxs)(l.t,{iconButton:u,size:"md",w:u?void 0:"100px",variant:"outline",onClick:()=>c(t,p?"grid":"table"),children:[(0,i.jsx)(n.I,{children:p?(0,i.jsx)(a.A,{stroke:1.5}):(0,i.jsx)(o.A,{stroke:1.5})}),!u&&(p?"Table":"Grid")]})}},88121:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var i=r(95155),l=r(8898);let n=e=>{let{dir:t="horizontal",...r}=e;return"horizontal"===t?(0,i.jsx)(l.a,{w:"full",h:"1px",bg:"d2",...r}):(0,i.jsx)(l.a,{w:"1px",h:"full",bg:"d2",...r})}},93736:(e,t,r)=>{"use strict";r.d(t,{Io:()=>a,LR:()=>l,TX:()=>i,um:()=>o,vI:()=>n});let i=[{id:1,label:"Budha"},{id:2,label:"Hindu"},{id:3,label:"Islam"},{id:4,label:"Katolik"},{id:5,label:"Konghucu"},{id:6,label:"Kristen"}],l=[{id:"text",label:"Text"},{id:"gambar",label:"Gambar"},{id:"video",label:"Video"},{id:"dokumen",label:"Dokumen"}],n=[{id:"A",label:"A"},{id:"B",label:"B"},{id:"C",label:"C"},{id:"D",label:"D"}],a=[{id:"Pelatihan",label:"Pelatihan"},{id:"Pengetahuan",label:"Pengetahuan"}],o=[{id:"Swakelola 1",label:"Swakelola 1"},{id:"Swakelola 2",label:"Swakelola 2"},{id:"Swakelola 3",label:"Swakelola 3"},{id:"Kontraktual",label:"Kontraktual"}]}},e=>{e.O(0,[7596,586,9964,9320,1668,9595,6524,358,5246,6351,9872,7368,5309,3783,4289,1372,2619,7267,8128,9561,4929,8832,819,5478,6776,8956,8441,4696,7358],()=>e(e.s=40135)),_N_E=e.O()}]);