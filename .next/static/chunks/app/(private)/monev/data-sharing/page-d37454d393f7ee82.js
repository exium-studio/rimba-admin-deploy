(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6099],{24443:(e,t,r)=>{"use strict";r.d(t,{T:()=>m});var i=r(95155),l=r(25674),n=r(95449),o=r(12115),s=r(65114),a=r(56248),d=r(98781);let c=(0,o.forwardRef)((e,t)=>{let{autoresize:r,...c}=e,p=(0,o.useRef)(null),u=(0,d.f)(),m=(0,n.v6)(null==u?void 0:u.getTextareaProps(),{style:{resize:r?"none":void 0}},c);return(0,o.useEffect)(()=>{if(r)return(0,l.w)(p.current)},[r]),(0,i.jsx)(a.X.textarea,{...m,ref:(0,s.t)(t,p)})});c.displayName="FieldTextarea";let{withContext:p,PropsProvider:u}=(0,r(27318).a)({key:"textarea"}),m=p(c);m.displayName="Textarea"},25674:(e,t,r)=>{"use strict";r.d(t,{a:()=>l,w:()=>n});var i=r(4966);function l(e){var t;if(!e)return;let r=(0,i.YE)(e),l=(0,i.zk)(e),n=((t=r.createElement("div")).id="ghost",t.style.cssText="display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;",r.body.appendChild(t),t),o=function(e){if(!e)return;let t=(0,i.L9)(e);return"box-sizing:"+t.boxSizing+";border-left:"+t.borderLeftWidth+" solid red;border-right:"+t.borderRightWidth+" solid red;font-family:"+t.fontFamily+";font-feature-settings:"+t.fontFeatureSettings+";font-kerning:"+t.fontKerning+";font-size:"+t.fontSize+";font-stretch:"+t.fontStretch+";font-style:"+t.fontStyle+";font-variant:"+t.fontVariant+";font-variant-caps:"+t.fontVariantCaps+";font-variant-ligatures:"+t.fontVariantLigatures+";font-variant-numeric:"+t.fontVariantNumeric+";font-weight:"+t.fontWeight+";letter-spacing:"+t.letterSpacing+";margin-left:"+t.marginLeft+";margin-right:"+t.marginRight+";padding-left:"+t.paddingLeft+";padding-right:"+t.paddingRight+";text-indent:"+t.textIndent+";text-transform:"+t.textTransform}(e);function s(){l.requestAnimationFrame(()=>{n.innerHTML=e.value;let t=l.getComputedStyle(n);e?.style.setProperty("width",t.width)})}return o&&(n.style.cssText+=o),s(),e?.addEventListener("input",s),e?.addEventListener("change",s),()=>{r.body.removeChild(n),e?.removeEventListener("input",s),e?.removeEventListener("change",s)}}var n=e=>{if(!e)return;let t=(0,i.L9)(e),r=(0,i.zk)(e),l=(0,i.YE)(e),n=()=>{requestAnimationFrame(()=>{let r;e.style.height="auto",r="content-box"===t.boxSizing?e.scrollHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):e.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),"none"!==t.maxHeight&&r>parseFloat(t.maxHeight)?("hidden"===t.overflowY&&(e.style.overflowY="scroll"),r=parseFloat(t.maxHeight)):"hidden"!==t.overflowY&&(e.style.overflowY="hidden"),e.style.height=`${r}px`})};e.addEventListener("input",n),e.form?.addEventListener("reset",n);let o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value");Object.defineProperty(e,"value",{...o,set(){o?.set?.apply(this,arguments),n()}});let s=new r.ResizeObserver(()=>{requestAnimationFrame(()=>n())});s.observe(e);let a=new r.MutationObserver(()=>n());return a.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),l.fonts?.addEventListener("loadingdone",n),()=>{e.removeEventListener("input",n),e.form?.removeEventListener("reset",n),l.fonts?.removeEventListener("loadingdone",n),s.disconnect(),a.disconnect()}}},30032:(e,t,r)=>{"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download",r=arguments.length>2?arguments[2]:void 0,i=window.URL.createObjectURL(new Blob([e])),l=document.createElement("a");l.href=i,l.setAttribute("download","".concat(t,".").concat(r)),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}r.d(t,{M:()=>l,R:()=>i});let l=e=>URL.createObjectURL(e)},31120:(e,t,r)=>{"use strict";r.d(t,{T:()=>c});var i=r(95155),l=r(93454),n=r(98781),o=r(24443),s=r(38126),a=r(36780),d=r(2431);let c=e=>{let{name:t,onChange:r,inputValue:c,invalid:p,placeholder:u="Input text",maxChar:m=null,...x}=e,{themeConfig:h}=(0,l.p)(),f=(0,n.f)(),{l:g}=(0,a.A)();return(0,i.jsx)(o.T,{name:t,borderColor:(null!=p?p:null==f?void 0:f.invalid)?"border.error":"border.muted",fontSize:"md",fontWeight:"medium",outline:"none !important",_placeholder:{fontSize:"md"},_focus:{borderColor:h.primaryColor},rounded:h.radii.component,placeholder:u,onChange:e=>{let t=e.target.value;null!==m&&t.length>m&&(t=t.slice(0,m),s.X.create({title:g.info_max_char_reached.title,description:(0,d.zl)(g.info_max_char_reached.description,{maxChar:m})})),null==r||r(t)},px:4,value:c,autoresize:!0,...x})};c.displayName="Textarea"},37312:(e,t,r)=>{"use strict";r.d(t,{U:()=>i,r:()=>l});let i=(0,r(91065).y)("fieldset").parts("root","errorText","helperText","legend"),l=i.build()},38582:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(30313).A)("outline","layout-grid","LayoutGrid",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-3"}]])},43055:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(30313).A)("outline","files","Files",[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M18 17h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h4l5 5v7a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M16 17v2a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-2"}]])},45554:(e,t,r)=>{"use strict";r.d(t,{Rs:()=>y});var i=r(56248),l=r(95155),n=r(95449),o=r(12115),s=r(65114),a=r(82101),d=r(4966),c=r(22977),p=r(70609),u=r(37312);let m=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{disabled:r=!1,invalid:i=!1}=t,l=(0,c.w)(),n=(0,o.useRef)(!1),s=(0,o.useRef)(!1),a=(0,o.useId)(),m=null!=(e=t.id)?e:a,x=(0,o.useRef)(null),h="fieldset::".concat(m,"::legend"),f="fieldset::".concat(m,"::error-text"),g="fieldset::".concat(m,"::helper-text");(0,p.U)(()=>{let e=x.current;if(!e)return;let t=()=>{let e=l.getRootNode();n.current=!!e.getElementById(f),s.current=!!e.getElementById(g)};t();let r=new(l.getWindow()).MutationObserver(t);return r.observe(e,{childList:!0,subtree:!0}),()=>r.disconnect()},[l,f,g]);let v=(0,o.useMemo)(()=>{let e=[];return n.current&&i&&e.push(f),s.current&&e.push(g),e.join(" ")||void 0},[i,f,g]),j=(0,o.useMemo)(()=>()=>({...u.r.root.attrs,ref:x,disabled:r,"data-disabled":(0,d.sE)(r),"data-invalid":(0,d.sE)(i),"aria-labelledby":h,"aria-describedby":v}),[r,i,h,v]),b=(0,o.useMemo)(()=>()=>({id:h,...u.r.legend.attrs,"data-disabled":(0,d.sE)(r),"data-invalid":(0,d.sE)(i)}),[h,r,i]);return{refs:{rootRef:x},disabled:r,invalid:i,getRootProps:j,getLegendProps:b,getHelperTextProps:(0,o.useMemo)(()=>()=>({id:g,...u.r.helperText.attrs}),[g]),getErrorTextProps:(0,o.useMemo)(()=>()=>({id:f,...u.r.errorText.attrs,"aria-live":"polite"}),[f])}};var x=r(83667);let h=(0,o.forwardRef)((e,t)=>{let[r,o]=(0,a.P)()(e,["id","disabled","invalid"]),d=m(r),c=(0,n.v6)(d.getRootProps(),o);return(0,l.jsx)(x.k,{value:d,children:(0,l.jsx)(i.X.fieldset,{...c,ref:(0,s.t)(t,d.refs.rootRef)})})});h.displayName="FieldsetRoot";let f=(0,o.forwardRef)((e,t)=>{let r=(0,x.t)(),o=(0,n.v6)(r.getErrorTextProps(),e);return r.invalid?(0,l.jsx)(i.X.span,{...o,ref:t}):null});f.displayName="FieldsetErrorText";let g=(0,o.forwardRef)((e,t)=>{let r=(0,x.t)(),o=(0,n.v6)(r.getHelperTextProps(),e);return(0,l.jsx)(i.X.span,{...o,ref:t})});g.displayName="FieldsetHelperText";let v=(0,o.forwardRef)((e,t)=>{let r=(0,x.t)(),o=(0,n.v6)(r.getLegendProps(),e);return(0,l.jsx)(i.X.legend,{...o,ref:t})});v.displayName="FieldsetLegend";let{withProvider:j,withContext:b}=(0,r(57181).c)({key:"fieldset"}),y=j(h,"root");b(f,"errorText"),b(g,"helperText"),b(v,"legend"),b(i.X.div,"content")},53759:(e,t,r)=>{"use strict";r.d(t,{I:()=>h});var i=r(95155),l=r(46426),n=r(25535),o=r(80310),s=r(58226),a=r(93454),d=r(76150),c=r(7579),p=r(26074),u=r(92091),m=r(52619),x=r.n(m);let h=e=>{let{children:t,fileData:r,actions:m=[],idx:h,...f}=e,{themeConfig:g}=(0,a.p)();return(0,i.jsxs)(d.z,{py:2,px:4,pr:"6px",rounded:g.radii.component,border:"1px solid",borderColor:"border.muted",gap:4,justify:"space-between",...f,children:[(0,i.jsx)(x(),{href:null==r?void 0:r.fileUrl,target:"_blank",style:{width:"100%"},children:(0,i.jsxs)(d.z,{gap:4,children:[(0,i.jsxs)(c.o,{pos:"relative",children:[(0,i.jsx)(o.o,{flexShrink:0,mimeType:null==r?void 0:r.fileMimeType}),void 0!==h&&(0,i.jsx)(p.j,{className:"ss",size:"16px",bg:"body",border:"1px solid",borderColor:"d1",pos:"absolute",left:"-6px",top:"-6px",children:(0,i.jsx)(s.P,{fontSize:"sm",children:"".concat(h+1)})})]}),(0,i.jsxs)(n.T,{flex:1,children:[(0,i.jsx)(s.P,{lineClamp:1,children:"".concat(null==r?void 0:r.fileName)}),(0,i.jsx)(s.P,{fontSize:"sm",color:"fg.muted",children:"".concat(null==r?void 0:r.fileSize)})]})]})}),(0,i.jsx)(d.z,{justify:"end",children:m.map(e=>(0,i.jsx)(l.t,{iconButton:!!e.icon,flexShrink:0,size:"xs",color:"fg.subtle",variant:"plain",colorPalette:"gray",onClick:e.onClick,disabled:!1,children:e.icon?(0,i.jsx)(u.I,{boxSize:"18px",children:e.icon}):e.label},e.type))}),t]})}},57514:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(30313).A)("outline","table","Table",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]])},58264:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ep});var i=r(95155),l=r(46426),n=r(25535),o=r(66825),s=r(95145),a=r(98886),d=r(80320),c=r(35891),p=r(571),u=r(40814),m=r(31120),x=r(46767),h=r(86021),f=r(66168),g=r(80192),v=r(86430),j=r(98064),b=r(63041),y=r(48930),A=r(50588),w=r(77141),z=r(53759),T=r(65609),k=r(70637),P=r(3455),_=r(36780),C=r(93885),F=r(93454),S=r(3370),R=r(35189),L=r(50572),I=r(40773),E=r(60439),M=r(32309),D=r(96307),V=r(46977),O=r(2431),q=r(7791),H=r(68502),N=r(50857),Y=r(92091),X=r(45554),W=r(76150),Z=r(89712),B=r(43055),U=r(62251),K=r(93452),G=r(61456),Q=r(41521),$=r(20063),J=r(12115),ee=r(35068);let et="/api/monev/share-report",er="monev_data_sharing",ei=e=>{let{children:t,content:r,...l}=e;return(0,i.jsx)(x.m,{content:r,positioning:{placement:"right"},...l,children:t})},el=e=>{let t="".concat(er,"_create"),{routeTitle:r}=e,{l:n}=(0,_.A)(),{themeConfig:c}=(0,F.p)(),p=(0,C.A)(e=>e.setRt),h=(0,L.Q)(),{open:f,onOpen:g,onClose:v}=(0,N.j)();(0,S.A)((0,D.t6)(t),f,g,v);let{req:j,loading:b}=(0,I.A)({id:t,loadingMessage:{title:(0,O.ZH)("".concat(n.add," ").concat(r))},successMessage:{title:(0,O.ZH)("".concat(n.add," ").concat(r," ").concat(n.successful))}}),y=(0,Q.Wx)({validateOnChange:!1,initialValues:{files:null,name:"",description:""},validationSchema:ee.Ik().shape({files:(0,H.q)({maxSizeMB:10,allowedExtensions:["pdf","doc","docx","xls","xlsx","ppt","pptx","png","jpg","jpeg"]}).required(n.msg_required_form),name:ee.Yj().required(n.msg_required_form),description:ee.Yj().required(n.msg_required_form)}),onSubmit:e=>{(0,M.aX)();let t=new FormData;if(!(0,E.VP)(e.files))for(let r of e.files)t.append("files",r);t.append("name",e.name),t.append("description",e.description),j({config:{url:"".concat(et,"/create"),method:"POST",data:t},onResolve:{onSuccess:()=>{p(e=>!e)}}})}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.m,{content:"".concat(n.add," data"),children:(0,i.jsxs)(l.t,{iconButton:!!h,size:"md",pl:h?"":3,colorPalette:c.colorPalette,onClick:g,children:[(0,i.jsx)(Y.I,{children:(0,i.jsx)(Z.A,{stroke:1.5})}),!h&&n.add]})}),(0,i.jsx)(o.i0,{open:f,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"".concat(n.add," ").concat(r)})}),(0,i.jsx)(o.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:y.handleSubmit,children:(0,i.jsxs)(X.Rs,{disabled:b,children:[(0,i.jsx)(a.D,{label:"Files",invalid:!!y.errors.files,errorText:y.errors.files,children:(0,i.jsx)(d.z,{dropzone:!0,maxFiles:5,accept:"application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation, image/png, image/jpeg, image/webp",acceptPlaceholder:".pdf, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .jpg, .jpeg, .png",inputValue:y.values.files,onChange:e=>{y.setFieldValue("files",e)}})}),(0,i.jsx)(a.D,{label:n.title,invalid:!!y.errors.name,errorText:y.errors.name,children:(0,i.jsx)(u.Y,{inputValue:y.values.name,onChange:e=>{y.setFieldValue("name",e)}})}),(0,i.jsx)(a.D,{label:n.description,invalid:!!y.errors.description,errorText:y.errors.description,children:(0,i.jsx)(m.T,{inputValue:y.values.description,onChange:e=>{y.setFieldValue("description",e)}})})]})})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:c.colorPalette,loading:b,children:n.add})})]})})]})},en=e=>{let{filter:t,setFilter:r,routeTitle:l,...n}=e;return(0,i.jsxs)(W.z,{p:3,...n,children:[(0,i.jsx)(p.A,{inputValue:t.search,onChange:e=>{r({...t,search:e})}}),(0,i.jsx)(v.F,{navKey:er}),(0,i.jsx)(el,{routeTitle:l})]})},eo=e=>{var t;let{data:r,...a}=e,{l:d}=(0,_.A)(),{open:c,onOpen:p,onClose:u}=(0,N.j)();return(0,S.A)((0,D.t6)("data-sharing-list-".concat(r.id)),c,p,u),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.t,{size:"xs",variant:"ghost",pl:"6px",onClick:p,...a,children:[(0,i.jsx)(Y.I,{boxSize:5,children:(0,i.jsx)(B.A,{stroke:1.5})}),d.document]}),(0,i.jsx)(o.i0,{open:c,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:d.document})}),(0,i.jsx)(o.Ql,{children:(0,i.jsx)(n.T,{gap:4,children:null==r||null==(t=r.report)?void 0:t.map(e=>(0,i.jsx)(z.I,{fileData:e},e.id))})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(h.A,{})})]})})]})},es=e=>{let t="".concat(er,"_update"),{data:r,routeTitle:n}=e,{l:p}=(0,_.A)(),{themeConfig:x}=(0,F.p)(),h=(0,C.A)(e=>e.setRt),{open:f,onOpen:g,onClose:v}=(0,N.j)();(0,S.A)((0,D.t6)("".concat(t,"-").concat(null==r?void 0:r.id)),f,g,v);let{req:j,loading:b}=(0,I.A)({id:t,loadingMessage:{title:(0,O.ZH)("Edit ".concat(n))},successMessage:{title:(0,O.ZH)("Edit ".concat(n," ").concat(p.successful))}}),y=(0,Q.Wx)({validateOnChange:!1,initialValues:{files:null,name:"",description:"",deleteDocumentIds:[]},validationSchema:ee.Ik().shape({files:(0,H.q)({allowedExtensions:["pdf","doc","docx","xls","xlsx","ppt","pptx","png","jpg","jpeg"]}).concat((0,H.$)({resolvedData:r,existingKey:"report",deletedKey:"deleteDocumentIds",newKey:"files",message:p.msg_required_form})),name:ee.Yj().required(p.msg_required_form),description:ee.Yj().required(p.msg_required_form)}),onSubmit:e=>{(0,M.aX)();let t=new FormData;t.append("files",e.files[0]),t.append("deleteDocumentIds",JSON.stringify(e.deleteDocumentIds)),t.append("name",e.name),t.append("description",e.description),j({config:{url:"".concat(et,"/update/").concat(r.id),method:"PATCH",data:t},onResolve:{onSuccess:()=>{h(e=>!e)}}})}});return(0,J.useEffect)(()=>{y.setValues({files:[],name:r.name,description:r.description,deleteDocumentIds:[]})},[f,r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ei,{content:"Edit",children:(0,i.jsxs)(c.Dr,{value:"edit",onClick:g,children:["Edit",(0,i.jsx)(Y.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(U.A,{stroke:1.5})})]})}),(0,i.jsx)(o.i0,{open:f,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(o.L7,{children:[(0,i.jsx)(o.$Z,{children:(0,i.jsx)(s.G,{title:"Edit ".concat(n)})}),(0,i.jsx)(o.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:y.handleSubmit,children:(0,i.jsxs)(X.Rs,{disabled:b,children:[(0,i.jsx)(a.D,{label:"Files",invalid:!!y.errors.files,errorText:y.errors.files,children:(0,i.jsx)(d.z,{dropzone:!0,maxFiles:5,accept:"application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation, image/png, image/jpeg, image/webp",acceptPlaceholder:".pdf, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .jpg, .jpeg, .png",inputValue:y.values.files,onChange:e=>{y.setFieldValue("files",e)},existingFiles:r.report,onDeleteFile:e=>{let t=y.values.deleteDocumentIds||[];y.setFieldValue("deleteDocumentIds",Array.from(new Set([...t,e.id])))},onUndoDeleteFile:e=>{let t=y.values.deleteDocumentIds||[];y.setFieldValue("deleteDocumentIds",t.filter(t=>t!==e.id))}})}),(0,i.jsx)(a.D,{label:p.title,invalid:!!y.errors.name,errorText:y.errors.name,children:(0,i.jsx)(u.Y,{inputValue:y.values.name,onChange:e=>{y.setFieldValue("name",e)}})}),(0,i.jsx)(a.D,{label:p.description,invalid:!!y.errors.description,errorText:y.errors.description,children:(0,i.jsx)(m.T,{inputValue:y.values.description,onChange:e=>{y.setFieldValue("description",e)}})})]})})}),(0,i.jsx)(o.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:x.colorPalette,loading:b,children:p.save})})]})})]})},ea=e=>{let t="".concat(er,"_restore"),{restoreIds:r,clearSelectedRows:l,disabled:n,routeTitle:o}=e,{l:s}=(0,_.A)(),a=(0,C.A)(e=>e.setRt),{req:d,loading:p}=(0,I.A)({id:t,loadingMessage:{title:(0,O.ZH)("".concat(s.restore," ").concat(o))},successMessage:{title:(0,O.ZH)("".concat(s.restore," ").concat(o," ").concat(s.successful))}});return(0,i.jsx)(g.H,{w:"full",id:"".concat(t,"-").concat(r),title:"".concat(s.restore," ").concat(o),description:s.msg_restore,confirmLabel:"".concat(s.restore),onConfirm:function(){(0,M.aX)(),d({config:{url:"".concat(et,"/restore"),method:"PATCH",data:{restoreIds:r}},onResolve:{onSuccess:()=>{a(e=>!e),null==l||l()}}})},loading:p,disabled:n,children:(0,i.jsx)(ei,{content:s.restore,children:(0,i.jsxs)(c.Dr,{value:"restore",disabled:n,children:[s.restore,(0,i.jsx)(Y.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(K.A,{stroke:1.5})})]})})})},ed=e=>{let t="".concat(er,"_delete"),{deleteIds:r,clearSelectedRows:l,disabled:n,routeTitle:o}=e,{l:s}=(0,_.A)(),a=(0,C.A)(e=>e.setRt),{req:d,loading:p}=(0,I.A)({id:t,loadingMessage:{title:(0,O.ZH)("".concat(s.delete_," ").concat(o))},successMessage:{title:(0,O.ZH)("".concat(s.delete_," ").concat(o," ").concat(s.successful))}});return(0,i.jsx)(g.H,{w:"full",id:"".concat(t,"-").concat(r),title:"".concat(s.delete_," ").concat(o),description:s.msg_soft_delete,confirmLabel:"".concat(s.delete_),onConfirm:function(){(0,M.aX)(),d({config:{url:"".concat(et,"/delete"),method:"DELETE",data:{deleteIds:r}},onResolve:{onSuccess:()=>{a(e=>!e),null==l||l()}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},loading:p,disabled:n,children:(0,i.jsx)(ei,{content:s.delete_,children:(0,i.jsxs)(c.Dr,{value:"delete",color:"fg.error",disabled:n,children:[s.delete_,(0,i.jsx)(Y.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(G.A,{stroke:1.5})})]})})})},ec=e=>{var t,r;let{filter:l,routeTitle:n}=e,{l:o}=(0,_.A)(),s=(0,P.a)(e=>e.getDisplay(er)),{error:a,initialLoading:d,data:c,onRetry:p,limit:u,setLimit:m,page:x,setPage:h,pagination:g}=(0,R.A)({initialData:void 0,url:"".concat(et,"/index"),params:l,dependencies:[l]}),v={headers:[{th:o.title,sortable:!0},{th:o.document,wrapperProps:{pl:"24px"}},{th:o.description,sortable:!0},{th:o.added,sortable:!0},{th:o.updated,sortable:!0}],rows:null==c?void 0:c.map((e,t)=>({id:e.id,idx:t,data:e,dim:!!e.deletedAt,columns:[{td:(0,i.jsx)(f.v,{children:"".concat(e.name)}),value:e.name},{td:(0,i.jsx)(eo,{data:e}),value:""},{td:(0,i.jsx)(f.v,{children:"".concat(e.description)}),value:e.description},{td:(0,V.Yq)(e.createdAt,{variant:"numeric",withTime:!0}),value:e.createdAt,dataType:"date",dashEmpty:!0},{td:(0,V.Yq)(e.updatedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.updatedAt,dataType:"date"}]})),rowOptions:[e=>({override:(0,i.jsx)(es,{data:e.data,routeTitle:n})}),e=>({override:(0,i.jsx)(ea,{restoreIds:[e.data.id],disabled:!e.data.deletedAt,routeTitle:n})}),e=>({override:(0,i.jsx)(ed,{deleteIds:[e.data.id],disabled:!!e.data.deletedAt,routeTitle:n})})],batchOptions:[(e,t)=>{let{clearSelectedRows:r}=t;return{override:(0,i.jsx)(ea,{restoreIds:e,clearSelectedRows:r,disabled:(0,E.VP)(e)||(null==c?void 0:c.filter(t=>e.includes(t.id)).some(e=>!e.deletedAt)),routeTitle:n})}},(e,t)=>{let{clearSelectedRows:r}=t;return{override:(0,i.jsx)(ed,{deleteIds:e,clearSelectedRows:r,disabled:(0,E.VP)(e)||(null==c?void 0:c.filter(t=>e.includes(t.id)).some(e=>!!e.deletedAt)),routeTitle:n})}}]},z={loading:(0,i.jsx)(k.Q,{}),error:(0,i.jsx)(w.A,{onRetry:p}),empty:(0,i.jsx)(A.A,{}),loaded:"table"===s?(0,i.jsx)(y.b,{headers:v.headers,rows:v.rows,rowOptions:v.rowOptions,batchOptions:v.batchOptions,limit:u,setLimit:m,page:x,setPage:h,totalPage:null==g||null==(t=g.meta)?void 0:t.last_page}):(0,i.jsx)(j.z,{data:c,dataProps:v,limit:u,setLimit:m,page:x,setPage:h,totalPage:null==g||null==(r=g.meta)?void 0:r.last_page,renderItem:e=>{let{item:t,row:r,details:l,selectedRows:o,toggleRowSelection:s}=e;return(0,i.jsx)(b.G,{item:{id:t.id,title:t.name,description:t.description,deletedAt:t.deletedAt},dataProps:v,row:r,selectedRows:o,toggleRowSelection:s,routeTitle:n,details:l},t.id)}})};return(0,i.jsxs)(i.Fragment,{children:[d&&z.loading,!d&&(0,i.jsxs)(i.Fragment,{children:[a&&z.error,!a&&(0,i.jsxs)(i.Fragment,{children:[c&&z.loaded,(!c||(0,E.VP)(c))&&z.empty]})]})]})};function ep(){let{l:e}=(0,_.A)(),t=(0,$.usePathname)(),r=(0,q.xD)(t),l=(0,O.Ds)(e,(0,E.HV)(r).labelKey),[n,o]=(0,J.useState)({search:""});return(0,i.jsx)(T.L,{children:(0,i.jsxs)(T.T,{children:[(0,i.jsx)(en,{filter:n,setFilter:o,routeTitle:l}),(0,i.jsx)(ec,{filter:n,routeTitle:l})]})})}},68502:(e,t,r)=>{"use strict";r.d(t,{$:()=>s,q:()=>o});var i=r(7496),l=r.n(i),n=r(35068);let o=function(){let{maxSizeMB:e=50,allowedExtensions:t,min:r,max:i,checkZip:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.gl().test("fileType","file required",e=>!Array.isArray(e)||0===e.length||e.every(e=>e instanceof File)).test("fileMin","Minimum ".concat(r," file(s) required"),e=>!(r&&Array.isArray(e))||e.length>=r).test("fileMax","Maximum ".concat(i," file(s) allowed"),e=>!(i&&Array.isArray(e))||e.length<=i).test("fileSize","file size too large",t=>{if(!Array.isArray(t)||0===t.length)return!0;if(e){let r=1024*e*1024;return t.every(e=>e.size<=r)}return!0}).test("fileExtension","Supported extensions: ".concat((null==t?void 0:t.join(", "))||"all"),e=>!(e&&Array.isArray(e))||!t||0===t.length||e.every(e=>{if(!(null==e?void 0:e.name))return!1;let r=e.name.slice((e.name.lastIndexOf(".")-1>>>0)+2).toLowerCase();return t.includes(r)})).test("zipContents","ZIP file must contain at least one valid file",async e=>{if(!Array.isArray(e)||0===e.length)return!0;if(o){for(let r of e)if(r.name.endsWith(".zip"))try{let e=await l().loadAsync(r),i=Object.keys(e.files);if(0===i.length||!i.some(e=>{var r;let i=null==(r=e.split(".").pop())?void 0:r.toLowerCase();return null==t?void 0:t.includes(i||"")}))return!1}catch(e){return console.error("check zip error",e),!1}}return!0})};function s(e){let{resolvedData:t,existingKey:r,deletedKey:i,newKey:l,message:o="At least one item is required"}=e;return n.gl().test("must-have-at-least-one-item",o,function(e,n){var o,s,a;let{parent:d}=n,c=(null==t||null==(o=t[r])?void 0:o.length)||0,p=(null==d||null==(s=d[i])?void 0:s.length)||0;return c-p+((null==d||null==(a=d[l])?void 0:a.length)||0)>0})}},72319:(e,t,r)=>{Promise.resolve().then(r.bind(r,58264))},80310:(e,t,r)=>{"use strict";r.d(t,{o:()=>u});var i=r(95155),l=r(92091),n=r(65150),o=r(96094),s=r(71114),a=r(2776),d=r(46835),c=r(79350),p=r(97745);let u=(0,r(12115).forwardRef)((e,t)=>{let{name:r,mimeType:u,iconProps:m,...x}=e,h=null==r?void 0:r.toLowerCase().split(".").pop(),f=null==u?void 0:u.toLowerCase(),g="current",v=n.A;switch(!0){case"application/pdf"===f||"pdf"===h:g="fg.error",v=o.A;break;case"application/msword"===f||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===f||["doc","docx"].includes(h):g="blue.500",v=s.A;break;case"application/vnd.ms-excel"===f||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===f||["xls","xlsx","csv"].includes(h):g="csv"===h?"green.600":"green.500",v="csv"===h?a.A:d.A;break;case(null==f?void 0:f.startsWith("image/"))||["jpg","jpeg","png","gif","webp","svg"].includes(h):g="purple.500",v=c.A;break;case"application/zip"===f||"application/x-zip-compressed"===f||"zip"===h:g="orange.500",v=p.A}return(0,i.jsx)(l.I,{ref:t,color:"".concat(g," !important"),...x,children:(0,i.jsx)(v,{stroke:1.5,...m})})});u.displayName="FileIcon"},80320:(e,t,r)=>{"use strict";r.d(t,{z:()=>F,S:()=>C});var i=r(95155),l=r(46426),n=r(25535),o=r(12175),s=r(80310),a=r(58226),d=r(38126),c=r(46767),p=r(53759),u=r(36780),m=r(93454),x=r(60439),h=r(30032),f=r(46977),g=r(98781),v=r(7579),j=r(92091),b=r(2186),y=r(67763),A=r(61456),w=r(12115),z=r(95943);let T=(0,w.forwardRef)(function(e,t){let{children:r,inputProps:l,...n}=e;return(0,i.jsxs)(z.YM,{...n,children:[(0,i.jsx)(z.yD,{ref:t,...l}),r]})}),k=(0,w.forwardRef)(function(e,t){let{children:r,icon:l,label:n,description:o,showIcon:s=!0,showLabel:d=!0,showDescription:c=!0,disabled:p,imgInput:u,...m}=e;return(0,i.jsxs)(z.fT,{ref:t,cursor:"pointer",bg:"body",overflow:"auto",p:4*!u,...m,_hover:{bg:"gray.subtle"},children:[s&&(0,i.jsx)(j.I,{fontSize:"2xl",color:"fg.muted",opacity:p?.4:1,children:l||(0,i.jsx)(y.A,{})}),r,(d||c)&&(0,i.jsxs)(z.YO,{opacity:p?.4:1,mb:u?"28px":"",children:[d&&(0,i.jsx)(a.P,{children:n}),c&&o&&(0,i.jsx)(a.P,{color:"fg.muted",children:o||".* up to 5MB"})]})]})});z.MD,z.h_;let P=z.k,_=e=>{let{inputValue:t,onChange:r,existing:l,...o}=e;return(0,i.jsx)(n.T,{gap:2,...o,children:null==t?void 0:t.map((e,n)=>{let o={fileName:e.name,fileMimeType:e.type,fileSize:(0,f.z3)(e.size),fileUrl:(0,h.M)(e)||""};return(0,i.jsx)(p.I,{idx:l.length+n,fileData:o,actions:[{type:"remove",icon:(0,i.jsx)(b.A,{}),onClick:()=>{let e=t.filter((e,t)=>t!==n);null==r||r(e.length>0?e:null)}}]},n)})})},C=e=>{let{fRef:t,children:r,onChange:p,inputValue:m,accept:h,acceptPlaceholder:b,invalid:A,placeholder:z,label:C,dropzone:F,maxFileSize:S=50,maxFiles:R=1,description:L,disabled:I,existing:E,showDropzoneIcon:M=!0,showDropzoneLabel:D=!0,showDropzoneDescription:V=!0,imgInput:O,...q}=e,{l:H}=(0,u.A)(),N=(0,g.f)(),[Y,X]=(0,w.useState)(1),W=(Array.isArray(E)?E:[]).length,Z=null==m?void 0:m[0],B=1===R&&!(0,x.VP)(m),U=B?(0,i.jsx)(s.o,{name:Z.name,mimeType:Z.type,size:"2xl"}):void 0,K=B?null==Z?void 0:Z.name:z||H.msg_file_input_dropzone,G=B?(0,f.z3)(null==Z?void 0:Z.size):L||"up to ".concat(S," mB, max ").concat(R||1," file").concat(R>1?"s":""," ").concat(b?"(".concat(b,")"):""),Q=N.disabled||I||W>=R;return(0,w.useEffect)(()=>{Q&&(null==p||p(void 0),X(e=>e+1))},[Q]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(T,{ref:t,alignItems:"stretch",onFileChange:function(e){X(e=>e+1);let t=e.acceptedFiles||[];if(R&&W+t.length>R){let e=H.error_invalid_file.title,t=H.error_invalid_file.description;d.X.error({title:e,description:t,action:{label:"Close",onClick:()=>{}}}),X(e=>e+1);return}null==p||p(t.length>0?t:void 0)},onFileReject:()=>{d.X.error({title:H.error_invalid_file.title,description:H.error_invalid_file.description,action:{label:"Close",onClick:()=>{}}})},maxFileSize:1024*S*1024,maxFiles:R,gap:2,accept:h,disabled:Q,pos:"relative",...q,children:(0,i.jsxs)(i.Fragment,{children:[F&&B&&(0,i.jsx)(c.m,{content:"Reset",children:(0,i.jsx)(o.J,{pos:"absolute",top:"6px",right:"6px",size:"xs",variant:"plain",color:"fg.subtle",onClick:()=>{null==p||p(void 0),X(e=>e+1)}})}),F?(0,i.jsx)(k,{flex:1,icon:U,label:K,description:G,border:"2px dashed",borderColor:(null!=A?A:null==N?void 0:N.invalid)?"border.error":"border.muted",disabled:Q,cursor:Q?"disabled":"pointer",showIcon:M,showLabel:D,showDescription:V,imgInput:O,children:(0,i.jsx)(v.o,{mt:!O||(0,x.VP)(m)&&(0,x.VP)(E)?-4:7,children:r})}):(0,i.jsx)(P,{asChild:!0,borderColor:A?"fg.error":"",children:(0,i.jsxs)(l.t,{variant:"outline",borderColor:(null!=A?A:null==N?void 0:N.invalid)?"border.error":"border.muted",children:[(0,i.jsx)(j.I,{scale:.8,children:(0,i.jsx)(y.A,{})})," ",C||"File upload"]})}),!B&&m&&!(0,x.VP)(m)&&(0,i.jsxs)(n.T,{gap:2,children:[(!(0,x.VP)(E)||!(0,x.VP)(m))&&(0,i.jsx)(a.P,{fontSize:"sm",color:"fg.subtle",children:"Total : ".concat((0,f.ZV)(m.length+E.length))}),(0,i.jsx)(_,{inputValue:m,onChange:p,setKey:X,existing:E})]})]})},"".concat(Y))})},F=e=>{let{existingFiles:t,onDeleteFile:r,onUndoDeleteFile:l,...o}=e,{l:s}=(0,u.A)(),{themeConfig:d}=(0,m.p)(),c=(0,g.f)().disabled,[h,f]=(0,w.useState)(t||[]),[v,j]=(0,w.useState)([]);return(0,i.jsxs)(n.T,{gap:3,children:[!(0,x.VP)(h)&&(0,i.jsx)(n.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:d.radii.container,children:(0,i.jsxs)(n.T,{gap:2,opacity:c?.5:1,cursor:c?"disabled":"auto",children:[(0,i.jsx)(a.P,{fontWeight:"medium",pl:1,children:s.uploaded_file}),null==h?void 0:h.map((e,t)=>(0,i.jsx)(p.I,{idx:t,fileData:e,actions:[{type:"delete",icon:(0,i.jsx)(A.A,{stroke:1.5}),onClick:()=>{f(t=>t.filter(t=>t.id!==e.id)),j(t=>[...t,e]),null==r||r(e)}}]},t))]})}),!(0,x.VP)(v)&&(0,i.jsx)(n.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:d.radii.container,children:(0,i.jsxs)(n.T,{gap:2,opacity:c?.5:1,cursor:c?"disabled":"auto",children:[(0,i.jsx)(a.P,{fontWeight:"medium",pl:1,children:s.deleted_file}),null==v?void 0:v.map((e,t)=>(0,i.jsx)(p.I,{fileData:e,actions:[{type:"undo_delete",label:"Undo",onClick:()=>{f(t=>[...t,e]),j(t=>t.filter(t=>t.id!==e.id)),null==l||l(e)}}]},t))]})}),(0,i.jsx)(C,{existing:h,...o})]})}},86430:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var i=r(95155),l=r(46426),n=r(92091),o=r(57514),s=r(38582),a=r(50572),d=r(3455);function c(e){let{navKey:t}=e,r=(0,d.a)(e=>e.displays),c=(0,d.a)(e=>e.setDisplay),p=(0,a.Q)(),u="table"===(r[t]||"table");return(0,i.jsxs)(l.t,{iconButton:p,size:"md",w:p?void 0:"100px",variant:"outline",onClick:()=>c(t,u?"grid":"table"),children:[(0,i.jsx)(n.I,{children:u?(0,i.jsx)(o.A,{stroke:1.5}):(0,i.jsx)(s.A,{stroke:1.5})}),!p&&(u?"Table":"Grid")]})}},89712:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(30313).A)("outline","plus","Plus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]])},93452:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(30313).A)("outline","restore","Restore",[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087",key:"svg-0"}],["path",{d:"M3 4.001v5h5",key:"svg-1"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]])},98886:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var i=r(95155),l=r(36780),n=r(14200),o=r(54515);let s=(0,r(12115).forwardRef)(function(e,t){let{label:r,children:s,helperText:a,errorText:d,optionalText:c,optional:p,...u}=e,{l:m}=(0,l.A)();return(0,i.jsxs)(n.XO,{ref:t,gap:2,...u,children:[r&&(0,i.jsxs)(n.dh,{fontSize:"md",children:[r,p&&(0,i.jsx)(o.Ex,{colorScheme:"gray",color:"fg.muted",children:m.optional.toLocaleLowerCase()}),(0,i.jsx)(n.tR,{fallback:c})]}),s,a&&(0,i.jsx)(n.sp,{children:a}),d&&(0,i.jsx)(n.wp,{children:d})]})})}},e=>{e.O(0,[7596,586,9964,9320,1668,9595,6524,358,5246,6351,9872,7368,5309,3783,4289,1372,2619,7267,8128,8832,819,5478,456,6776,8441,4696,7358],()=>e(e.s=72319)),_N_E=e.O()}]);