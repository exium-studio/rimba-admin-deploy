(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3366],{1721:(e,l,t)=>{"use strict";t.d(l,{X:()=>a});var r=t(95155),i=t(46977),n=t(12115),o=t(40814);let a=(0,n.forwardRef)((e,l)=>{let{inputValue:t,onChange:a,placeholder:s="Input number",invalid:d,containerProps:c,formatFunction:u,formatted:h=!0,integer:x=!0,min:p=0,max:f,...m}=e,[j,g]=(0,n.useState)("");return(0,n.useEffect)(()=>{if(null!=t){let e=x&&"number"==typeof t?Math.round(t):t;g((h?u?u(e):(0,i.ZV)(e):e.toString())||"")}else g("")},[t,u,h,x]),(0,r.jsx)(o.Y,{ref:l,onChange:function(e){if(void 0===e)return;if(""===e.trim()){g(""),null==a||a(null);return}if(!/^[0-9.,]+$/.test(e))return;let l=e;x&&(l=l.replace(/,/g,""));let t=l.indexOf(",");if(!x&&-1!==t&&l.lastIndexOf(",")!==t)return;l.length>19&&(l=l.substring(0,19));let r=(e=>{if(!e)return null;let l=parseFloat(e.replace(/\./g,"").replace(",","."));return isNaN(l)?null:l})(l);if(void 0!==r&&(x&&(r=Math.round(r)),void 0!==f&&r>f&&(r=f,l=String(f)),void 0!==p&&r<p&&(r=p,l=String(p))),!h){g(l),void 0!==r&&(null==a||a(r));return}let i=l.replace(/\B(?=(\d{3})+(?!\d))/g,".");if(!x&&l.includes(",")){let e=l.split(",");2===e.length&&(i="".concat(e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),",").concat(e[1]))}g(i),void 0!==r&&(null==a||a(r))},inputValue:j,invalid:d,placeholder:s,containerProps:c,...m})});a.displayName="NumInput"},11558:(e,l,t)=>{"use strict";t.d(l,{b:()=>a});var r=t(95155),i=t(12115),n=t(25535),o=t(93454);let a=(0,i.forwardRef)((e,l)=>{let{children:t,scrollY:i=!1,...a}=e,{themeConfig:s}=(0,o.p)();return(0,r.jsx)(n.T,{ref:l,className:i?"scrollY":"",bg:"body",rounded:s.radii.container,...a,children:t})});a.displayName="ItemContainer"},30032:(e,l,t)=>{"use strict";function r(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download",t=arguments.length>2?arguments[2]:void 0,r=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.href=r,i.setAttribute("download","".concat(l,".").concat(t)),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}t.d(l,{M:()=>i,R:()=>r});let i=e=>URL.createObjectURL(e)},32764:(e,l,t)=>{Promise.resolve().then(t.bind(t,39694))},39694:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>eT});var r=t(95155),i=t(46426),n=t(25535),o=t(66825),a=t(95145),s=t(98886),d=t(80320),c=t(1721),u=t(58226),h=t(20243),x=t(50588),p=t(77141),f=t(11558),m=t(89639),j=t(98488),g=t(65609),b=t(76150),v=t(92091),w=t(8898),y=t(19971),k=t(12115),A=t(98045),z=t(84825),C=t(78482),_=t(46767),S=t(58832),P=t(85147),F=t(36780),I=t(15532),T=t(95585),R=t(83013),L=t(48488),V=t(1635),H=t(52376),M=t(65150),E=t(43055),N=t(94327);t(95057),t(67883),A.EA.workerSrc="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";let W=e=>{let{utils:l,toggleMode:t,isSingleMode:n,pageNumber:o,numPages:a,scale:s,...d}=e,{l:c}=(0,F.A)(),u=e=>{let{tooltipContent:l,...t}=e;return(0,r.jsx)(_.m,{content:l,children:(0,r.jsx)(i.t,{iconButton:!0,size:"sm",variant:"ghost",...t})})};return(0,r.jsx)(P.A,{className:"noScroll",bg:"body",...d,children:(0,r.jsxs)(b.z,{minW:"full",w:"max",gap:2,p:2,children:[n&&(0,r.jsxs)(b.z,{gap:0,children:[(0,r.jsx)(u,{onClick:l.prevPage,disabled:!n||o<=1,tooltipContent:c.previous_page,children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(I.A,{stroke:1.5})})}),(0,r.jsxs)(w.a,{fontWeight:"medium",px:2,whiteSpace:"nowrap",children:[o," / ",a||"--"]}),(0,r.jsx)(u,{onClick:l.nextPage,disabled:!n||o>=(a||1),tooltipContent:c.next_page,children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(T.A,{stroke:1.5})})})]}),(0,r.jsx)(u,{onClick:l.zoomOut,tooltipContent:c.zoom_out,children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(R.A,{stroke:1.5})})}),(0,r.jsxs)(w.a,{minW:"35px",textAlign:"center",children:[Math.round(100*s),"%"]}),(0,r.jsx)(u,{onClick:l.zoomIn,tooltipContent:c.zoom_in,children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(L.A,{stroke:1.5})})}),(0,r.jsx)(u,{onClick:l.fitToWidth,tooltipContent:c.fit_to_width,children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(V.A,{stroke:1.5})})}),(0,r.jsx)(u,{onClick:l.fitToPage,tooltipContent:c.fit_to_page,children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(H.A,{stroke:1.5})})}),(0,r.jsxs)(u,{iconButton:!1,onClick:t,ml:"auto",tooltipContent:"Mode",children:[(0,r.jsx)(v.I,{boxSize:5,children:n?(0,r.jsx)(M.A,{stroke:1.5}):(0,r.jsx)(E.A,{stroke:1.5})}),n?"Single":"Scroll"]})]})})},B=e=>{let{fileUrl:l,...t}=e,{l:i}=(0,F.A)(),[o,a]=(0,k.useState)(null),[s,d]=(0,k.useState)(1),[c,u]=(0,k.useState)(1),[h,x]=(0,k.useState)(!0),[p,f]=(0,k.useState)(0),m=(0,k.useRef)(null);return(0,k.useEffect)(()=>{let e=new ResizeObserver(e=>{e[0]&&f(e[0].contentRect.width)});return m.current&&e.observe(m.current),()=>e.disconnect()},[]),(0,r.jsxs)(n.T,{flex:1,w:"full",h:"full",...t,children:[(0,r.jsx)(W,{utils:{prevPage:()=>d(e=>Math.max(e-1,1)),nextPage:()=>d(e=>Math.min(e+1,o||1)),zoomIn:()=>u(e=>Math.min(e+.1,3)),zoomOut:()=>u(e=>Math.max(e-.1,.5)),resetZoom:()=>u(1),fitToWidth:()=>u(1),fitToPage:()=>u(.6)},isSingleMode:h,toggleMode:function(){x(!h),u(1)},pageNumber:s,numPages:o,scale:c,flexShrink:0}),(0,r.jsx)(n.T,{ref:m,className:"scrollX scrollYAlt",flex:1,minH:"200px",p:2,m:"auto",position:"relative",children:(0,r.jsx)(z.A,{file:l,onLoadSuccess:function(e){let{numPages:l}=e;a(l)},loading:(0,r.jsx)(y.EA,{flex:1,w:"full",h:"full"}),error:(0,r.jsx)(S.A,{icon:(0,r.jsx)(N.A,{stroke:1.8}),title:i.alert_pdf_failed_to_load.title,description:i.alert_pdf_failed_to_load.description}),children:p>0&&(0,r.jsxs)(r.Fragment,{children:[h&&(0,r.jsx)(w.a,{mx:"auto",width:"fit-content",children:(0,r.jsx)(C.A,{pageNumber:s,renderTextLayer:!0,renderAnnotationLayer:!0,width:p,scale:c})}),!h&&(0,r.jsx)(w.a,{display:"flex",flexDirection:"column",gap:4,alignItems:"center",children:Array.from(Array(o),(e,l)=>(0,r.jsx)(w.a,{children:(0,r.jsx)(C.A,{pageNumber:l+1,renderTextLayer:!0,renderAnnotationLayer:!0,width:p,scale:c})},"page_".concat(l+1)))})]})})})]})};var D=t(46481),O=t(93885),K=t(93454),Z=t(3370),U=t(44097),X=t(35189),q=t(40773),Y=t(60439),G=t(22484),$=t(32309),J=t(48857),Q=t(96307),ee=t(46977),el=t(2431),et=t(68502),er=t(56313),ei=t(39602),en=t(26074),eo=t(50857),ea=t(14200),es=t(46845),ed=t(29051),ec=t(7579),eu=t(6080),eh=t(99419),ex=t(23714),ep=t(2704),ef=t(93510),em=t(69213),ej=t(29832),eg=t(62251),eb=t(41521),ev=t(64962),ew=t(68425),ey=t(47734),ek=t(10232),eA=t(62851),ez=t(14724),eC=t(35068);let e_=e=>{let{icon:l,label:t,value:i,iconBg:o,...a}=e,{themeConfig:s}=(0,K.p)();return(0,r.jsxs)(b.z,{gap:5,p:4,bg:"body",rounded:s.radii.container,...a,children:[l&&(0,r.jsx)(en.j,{p:3,bg:o||"".concat((0,J.tp)(s.primaryColorHex,.075)),children:(0,r.jsx)(v.I,{boxSize:8,color:s.primaryColorHex,children:l})}),(0,r.jsxs)(n.T,{children:[(0,r.jsx)(u.P,{fontSize:"xl",fontWeight:"bold",children:i}),(0,r.jsx)(u.P,{fontWeight:"medium",color:"fg.subtle",children:t})]})]})},eS=e=>{var l;let{data:t,...i}=e,{l:n,lang:o}=(0,F.A)(),{themeConfig:a}=(0,K.p)(),s=(0,er.u)({data:null==t||null==(l=t.statsBudgetTarget)?void 0:l.map((e,l)=>({month:D.K[o][l],budget:e.value}))});return(0,r.jsxs)(f.b,{...i,children:[(0,r.jsx)(m.o,{borderless:!0,children:(0,r.jsx)(j.A,{children:n.budget_target})}),(0,r.jsx)(ei.Bx,{maxH:"md",chart:s,pb:4,pr:4,children:(0,r.jsxs)(ev.b,{data:s.data,margin:{left:40,right:40,top:40},children:[(0,r.jsx)(ew.d,{stroke:s.color("border"),strokeDasharray:"3 3",horizontal:!1}),(0,r.jsx)(ey.W,{dataKey:s.key("month"),tickFormatter:e=>e.slice(0,3),stroke:s.color("border")}),(0,r.jsx)(ek.m,{animationDuration:100,cursor:{stroke:s.color("border")},content:(0,r.jsx)(ei.II,{hideLabel:!0})}),(0,r.jsx)(eA.N,{isAnimationActive:!1,dataKey:s.key("budget"),fill:s.color(a.primaryColorHex),stroke:s.color(a.primaryColorHex),strokeWidth:2,children:(0,r.jsx)(ez.Ze,{dataKey:s.key("budget"),position:"right",offset:10,style:{fontWeight:"600",fill:s.color("fg")}})})]})})]})},eP=e=>{var l;let{data:t,...i}=e,{l:n,lang:o}=(0,F.A)(),{themeConfig:a}=(0,K.p)(),s=(0,er.u)({data:null==t||null==(l=t.statsBudgetRealization)?void 0:l.map((e,l)=>({month:D.K[o][l],budget:e.value}))});return(0,r.jsxs)(f.b,{...i,children:[(0,r.jsx)(m.o,{borderless:!0,children:(0,r.jsx)(j.A,{children:n.budget_realization})}),(0,r.jsx)(ei.Bx,{maxH:"md",chart:s,pb:4,pr:4,children:(0,r.jsxs)(ev.b,{data:s.data,margin:{left:40,right:40,top:40},children:[(0,r.jsx)(ew.d,{stroke:s.color("border"),strokeDasharray:"3 3",horizontal:!1}),(0,r.jsx)(ey.W,{dataKey:s.key("month"),tickFormatter:e=>e.slice(0,3),stroke:s.color("border")}),(0,r.jsx)(ek.m,{animationDuration:100,cursor:{stroke:s.color("border")},content:(0,r.jsx)(ei.II,{hideLabel:!0})}),(0,r.jsx)(eA.N,{isAnimationActive:!1,dataKey:s.key("budget"),fill:s.color(a.primaryColorHex),stroke:s.color(a.primaryColorHex),strokeWidth:2,children:(0,r.jsx)(ez.Ze,{dataKey:s.key("budget"),position:"right",offset:10,style:{fontWeight:"600",fill:s.color("fg")}})})]})})]})},eF=e=>{var l,t,d;let{children:u,STATS_REGISTRY:h,dashboard:x,...p}=e,{l:f}=(0,F.A)(),{themeConfig:m}=(0,K.p)(),j=(0,O.A)(e=>e.setRt),{open:g,onOpen:b,onClose:v}=(0,eo.j)();(0,Z.A)((0,Q.t6)("edit-hibah-networth"),g,b,v);let{req:w,loading:y}=(0,q.A)({id:"edit-hibah-networth",loadingMessage:{title:"Edit ".concat(null==h||null==(l=h.networthHibah)?void 0:l.label.toLowerCase())},successMessage:{title:"Edit ".concat(null==h||null==(t=h.networthHibah)?void 0:t.label.toLowerCase()," ").concat(f.successful.toLowerCase())}}),A=(0,eb.Wx)({validateOnChange:!1,initialValues:{networthHibah:null,frameworkFiles:[],planFiles:[],deleteFrameworkFileIds:[],deletePlanFileIds:[]},validationSchema:eC.Ik().shape({networthHibah:eC.ai().required(f.msg_required_form)}),onSubmit:e=>{(0,$.aX)();let l=new FormData;l.append("hibah","".concat(e.networthHibah)),l.append("description","-"),w({config:{method:"PATCH",url:"/api/master-data/monev-dashboard/update/1",data:l},onResolve:{onSuccess:()=>{j(e=>!e)}}})}});return(0,k.useEffect)(()=>{A.setValues({networthHibah:null==x?void 0:x.networthHibah,frameworkFiles:[],planFiles:[],deleteFrameworkFileIds:[],deletePlanFileIds:[]})},[x]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.T,{w:"fit",onClick:b,...p,children:u}),(0,r.jsx)(o.i0,{open:g,lazyLoad:!0,size:"xs",children:(0,r.jsxs)(o.L7,{children:[(0,r.jsx)(o.$Z,{children:(0,r.jsx)(a.G,{title:"Edit ".concat((0,el.kR)(null==h||null==(d=h.networthHibah)?void 0:d.label))})}),(0,r.jsx)(o.Ql,{children:(0,r.jsx)("form",{id:"edit_hibah_networth",onSubmit:A.handleSubmit,children:(0,r.jsx)(ea.XO,{disabled:y,children:(0,r.jsx)(s.D,{label:"Networth",invalid:!!A.errors.networthHibah,errorText:A.errors.networthHibah,children:(0,r.jsx)(c.X,{inputValue:A.values.networthHibah,onChange:e=>{A.setFieldValue("networthHibah",e)}})})})})}),(0,r.jsx)(o.PK,{colorPalette:m.colorPalette,children:(0,r.jsx)(i.t,{type:"submit",form:"edit_hibah_networth",loading:y,children:f.save})})]})})]})},eI=e=>{let{children:l,type:t,dashboard:c,...u}=e,{l:h}=(0,F.A)(),{themeConfig:x}=(0,K.p)(),p=(0,O.A)(e=>e.setRt),f="framework"===t,m=f?"frameworkFiles":"planFiles",j="".concat(f?"deleteFrameworkFileIds":"deletePlanFileIds"),{open:g,onOpen:b,onClose:v}=(0,eo.j)();(0,Z.A)((0,Q.t6)("edit-files"),g,b,v);let{req:w,loading:y}=(0,q.A)({id:"edit-files",loadingMessage:{title:"Edit ".concat(f?h.framework_file.toLowerCase():h.plan_file.toLowerCase())},successMessage:{title:"Edit ".concat(f?h.framework_file.toLowerCase():h.plan_file.toLowerCase()," ").concat(h.successful.toLowerCase())}}),k=(0,eb.Wx)({validateOnChange:!1,initialValues:{files:[],deleteFrameworkFileIds:[],deletePlanFileIds:[]},validationSchema:eC.Ik().shape({files:(0,et.q)({allowedExtensions:["pdf"]}).concat((0,et.$)({resolvedData:c,existingKey:m,deletedKey:j,newKey:"files",message:h.msg_required_form}))}),onSubmit:e=>{var l;(0,$.aX)();let t=new FormData;if(t.append("hibah","".concat(null==c?void 0:c.networthHibah)),t.append("description","-"),null==(l=e.files)?void 0:l[0])for(let l of e.files)t.append(f?"frameworkFiles":"planFiles",l);(0,Y.VP)(e.deleteFrameworkFileIds)||t.append("deleteFrameworkFileIds",JSON.stringify(e.deleteFrameworkFileIds)),(0,Y.VP)(e.deletePlanFileIds)||t.append("deletePlanFileIds",JSON.stringify(e.deletePlanFileIds)),w({config:{method:"PATCH",url:"/api/master-data/monev-dashboard/update/1",data:t},onResolve:{onSuccess:()=>{p(e=>!e)}}})}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.T,{w:"fit",onClick:b,...u,children:l}),(0,r.jsx)(o.i0,{open:g,lazyLoad:!0,size:"xs",children:(0,r.jsxs)(o.L7,{children:[(0,r.jsx)(o.$Z,{children:(0,r.jsx)(a.G,{title:"Edit ".concat((0,el.kR)(f?h.framework_file.toLowerCase():h.plan_file.toLowerCase()))})}),(0,r.jsx)(o.Ql,{children:(0,r.jsx)("form",{id:"edit_files",onSubmit:k.handleSubmit,children:(0,r.jsx)(ea.XO,{disabled:y,children:(0,r.jsx)(s.D,{label:h.document,invalid:!!k.errors.files,errorText:k.errors.files,children:(0,r.jsx)(d.z,{dropzone:!0,inputValue:k.values.files,onChange:e=>{k.setFieldValue("files",e)},accept:"application/pdf",acceptPlaceholder:".pdf",existingFiles:null==c?void 0:c[m],onDeleteFile:e=>{let l=k.values[j]||[];k.setFieldValue(j,Array.from(new Set([...l,e.id])))},onUndoDeleteFile:e=>{let l=k.values[j]||[];k.setFieldValue(j,l.filter(l=>l!==e.id))}})})})})}),(0,r.jsx)(o.PK,{colorPalette:x.colorPalette,children:(0,r.jsx)(i.t,{type:"submit",form:"edit_files",loading:y,children:h.save})})]})})]})};function eT(){var e,l,t,o,a,s,d,c,w,y;let{l:A}=(0,F.A)(),{themeConfig:z}=(0,K.p)(),C=(0,k.useRef)(null),{width:_}=(0,U.T)(C),S=(0,G.gL)(),P=(null==S||null==(e=S.role)?void 0:e.id)==="1",I={networthHibah:{icon:(0,r.jsx)(eu.A,{stroke:1.5}),label:"Networth hibah"},totalActivityPackages:{icon:(0,r.jsx)(eh.A,{stroke:1.5}),label:A.activity_package},sumBudgetTarget:{icon:(0,r.jsx)(ex.A,{stroke:1.5}),label:"Total ".concat(A.budget_target.toLowerCase())},avgPhysicalTarget:{icon:(0,r.jsx)(ep.A,{stroke:1.5}),label:A.avg_physical_target},sumBudgetRealization:{icon:(0,r.jsx)(ef.A,{stroke:1.5}),label:"Total ".concat(A.budget_realization.toLowerCase())},avgProgressRealization:{icon:(0,r.jsx)(em.A,{stroke:1.5}),label:A.avg_progress_realization},totalActivityCalendar:{icon:(0,r.jsx)(ej.A,{stroke:1.5}),label:"Agenda"}},{error:T,initialLoading:R,data:L,onRetry:V}=(0,X.A)({initialData:void 0,url:"/api/master-data/monev-dashboard/info",dependencies:[],dataResource:!1}),H={loading:(0,r.jsx)(h.E,{flex:1}),error:(0,r.jsx)(p.A,{onRetry:V}),empty:(0,r.jsx)(x.A,{}),loaded:(0,r.jsxs)(n.T,{gap:4,children:[(0,r.jsxs)(es.r,{columns:[1,2,4],gap:4,children:[(0,r.jsx)(ed.E,{colSpan:2,children:(0,r.jsxs)(b.z,{rounded:z.radii.component,bg:"body",align:"start",children:[(0,r.jsx)(e_,{icon:I.networthHibah.icon,label:I.networthHibah.label,value:(0,ee.ZV)(null==L||null==(l=L.dashboard)?void 0:l.networthHibah)||"-"}),P&&(0,r.jsx)(eF,{dashboard:null==L?void 0:L.dashboard,STATS_REGISTRY:I,mt:2,mr:2,ml:"auto",children:(0,r.jsx)(i.t,{iconButton:!0,size:"xs",variant:"ghost",children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(eg.A,{stroke:1.5})})})})]})}),(0,r.jsx)(e_,{icon:I.totalActivityPackages.icon,label:I.totalActivityPackages.label,value:(0,ee.ZV)(null==L?void 0:L.totalActivityPackages)||"-"}),(0,r.jsx)(e_,{icon:I.totalActivityCalendar.icon,label:I.totalActivityCalendar.label,value:(0,ee.ZV)(null==L?void 0:L.totalActivityCalendar)||"-"})]}),(0,r.jsxs)(es.r,{columns:[1,null,2],gap:4,children:[(0,r.jsxs)(n.T,{p:4,gap:4,bg:"body",rounded:z.radii.component,children:[(0,r.jsx)(b.z,{children:(0,r.jsx)(u.P,{fontWeight:"semibold",children:A.budget_progress})}),(0,r.jsxs)(es.r,{columns:2,gap:4,children:[(0,r.jsx)(e_,{label:I.totalActivityPackages.label,value:(0,ee.ZV)(null==L?void 0:L.totalActivityPackages)||"-",p:1}),(0,r.jsx)(e_,{label:I.sumBudgetTarget.label,value:(0,ee.ZV)(null==L?void 0:L.sumBudgetTarget)||"-",p:1})]})]}),(0,r.jsxs)(n.T,{p:4,gap:4,bg:"body",rounded:z.radii.component,children:[(0,r.jsx)(b.z,{children:(0,r.jsx)(u.P,{fontWeight:"semibold",children:A.physical_progress})}),(0,r.jsxs)(es.r,{columns:2,gap:4,children:[(0,r.jsx)(e_,{label:I.avgPhysicalTarget.label,value:"".concat((0,ee.ZV)(null==L?void 0:L.avgPhysicalTarget),"%")||0,p:1}),(0,r.jsx)(e_,{label:I.avgProgressRealization.label,value:"".concat((0,ee.ZV)(null==L?void 0:L.avgProgressRealization),"%")||0,p:1})]})]})]}),(0,r.jsxs)(es.r,{columns:[1,null,2],gap:4,children:[(0,r.jsx)(eS,{data:L}),(0,r.jsx)(eP,{data:L})]}),(0,r.jsxs)(es.r,{columns:_<1100?1:2,gap:4,children:[(0,r.jsxs)(f.b,{children:[(0,r.jsx)(m.o,{borderless:!0,children:(0,r.jsxs)(b.z,{w:"full",justify:"space-between",children:[(0,r.jsx)(j.A,{children:A.framework_file}),P&&(0,r.jsx)(eI,{type:"framework",dashboard:null==L?void 0:L.dashboard,children:(0,r.jsx)(i.t,{iconButton:!0,variant:"ghost",size:"xs",children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(eg.A,{stroke:1.5})})})})]})}),(0,r.jsxs)(n.T,{children:[(0,Y.VP)(null==L||null==(t=L.dashboard)?void 0:t.frameworkFiles)&&(0,r.jsx)(ec.o,{aspectRatio:10/12,w:"full",children:(0,r.jsx)(x.A,{})}),!(0,Y.VP)(null==L||null==(o=L.dashboard)?void 0:o.frameworkFiles)&&(0,r.jsx)(B,{fileUrl:null==L||null==(s=L.dashboard)||null==(a=s.frameworkFiles[0])?void 0:a.fileUrl,maxH:_<1100?"600px":""})]})]}),(0,r.jsxs)(f.b,{children:[(0,r.jsx)(m.o,{borderless:!0,children:(0,r.jsxs)(b.z,{w:"full",justify:"space-between",children:[(0,r.jsx)(j.A,{children:A.plan_file}),P&&(0,r.jsx)(eI,{type:"plan",dashboard:null==L?void 0:L.dashboard,children:(0,r.jsx)(i.t,{iconButton:!0,variant:"ghost",size:"xs",children:(0,r.jsx)(v.I,{boxSize:5,children:(0,r.jsx)(eg.A,{stroke:1.5})})})})]})}),(0,r.jsxs)(n.T,{children:[(0,Y.VP)(null==L||null==(d=L.dashboard)?void 0:d.planFiles)&&(0,r.jsx)(ec.o,{aspectRatio:10/12,w:"full",children:(0,r.jsx)(x.A,{})}),!(0,Y.VP)(null==L||null==(c=L.dashboard)?void 0:c.planFiles)&&(0,r.jsx)(B,{fileUrl:null==L||null==(y=L.dashboard)||null==(w=y.planFiles[0])?void 0:w.fileUrl,maxH:_<1100?"600px":""})]})]})]})]})};return(0,r.jsxs)(g.L,{ref:C,children:[R&&H.loading,!R&&(0,r.jsxs)(r.Fragment,{children:[T&&H.error,!T&&(0,r.jsxs)(r.Fragment,{children:[L&&H.loaded,!L&&H.empty]})]})]})}},40814:(e,l,t)=>{"use strict";t.d(l,{Y:()=>v});var r=t(3648),i=t(95155),n=t(25535),o=t(93454),a=t(12115),s=t(98781),d=t(45308),c=t(7579),u=t(66255),h=t(92091),x=t(10225),p=t(2186),f=t(3373),m=t(38126),j=t(36780),g=t(2431);function b(){let e=(0,r._)(["\n      input:-webkit-autofill,\n      input:-webkit-autofill:hover,\n      input:-webkit-autofill:focus,\n      input:-webkit-autofill:active {\n        -webkit-box-shadow: 0 0 0 30px "," inset !important;\n        box-shadow: 0 0 0 30px "," inset !important;\n      }\n    "]);return b=function(){return e},e}let v=(0,a.forwardRef)((e,l)=>{let{name:t,onChange:r,inputValue:v,placeholder:w="Input text",containerProps:y,invalid:k,clearable:A=!0,clearButtonProps:z,flex:C,flexShrink:_,flexGrow:S,flexBasis:P,maxChar:F=255,...I}=e,{l:T}=(0,j.A)(),{colorMode:R}=(0,f.G6)(),{themeConfig:L}=(0,o.p)(),V=(0,s.f)(),H=(0,a.useRef)(!0),M=(0,a.useRef)(null),E=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return(0,a.useCallback)(e=>{l.forEach(l=>{l&&("function"==typeof l?l(e):l.current=e)})},[l])}(l,M),N=k||(null==V?void 0:V.invalid),W=null==V?void 0:V.disabled,B="light"===R?"#fff":"var(--dark)",D=(0,x.AH)(b(),B,B);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.mL,{styles:D}),(0,i.jsxs)(n.T,{position:"relative",w:(null==I?void 0:I.w)||"full",h:null==I?void 0:I.h,flex:C,flexShrink:_,flexGrow:S,flexBasis:P,display:"inline-flex",overflow:"visible",...y,children:[(0,i.jsx)(d.p,{ref:E,name:t,onChange:e=>{let l=e.target.value;null!==F&&l.length>F&&(l=l.slice(0,F),m.X.create({title:T.info_max_char_reached.title,description:(0,g.zl)(T.info_max_char_reached.description,{maxChar:F})})),null==r||r(l),H.current&&(H.current=!1)},value:v,_placeholder:{fontSize:"md"},placeholder:w,borderColor:N?"border.error":"border.muted",fontSize:"md",fontWeight:"medium",outline:"none !important",_focus:{borderColor:L.primaryColor},rounded:L.radii.component,autoComplete:"off",transition:"200ms",color:"text",pl:4,pr:A?10:"",...I}),v&&A&&!W&&(0,i.jsx)(c.o,{flexShrink:0,zIndex:2,position:"absolute",h:"full",right:1,top:0,...z,children:(0,i.jsx)(u.K,{"aria-label":"clear input",onClick:()=>{var e;null==r||r(""),null==(e=M.current)||e.focus()},variant:"plain",size:"sm",color:"fg.subtle",children:(0,i.jsx)(h.I,{boxSize:"18px",children:(0,i.jsx)(p.A,{})})})})]})]})});v.displayName="StringInput"},44097:(e,l,t)=>{"use strict";t.d(l,{T:()=>i});var r=t(12115);function i(e){var l,t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[n,o]=(0,r.useState)({width:(null==e||null==(l=e.current)?void 0:l.offsetWidth)||0,height:(null==e||null==(t=e.current)?void 0:t.offsetHeight)||0}),a=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{if(!(null==e?void 0:e.current))return;let l=new ResizeObserver(e=>{let l=e[0];l&&(a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{let{width:e,height:t}=l.contentRect;o({width:e,height:t})},i))});return l.observe(e.current),()=>{l.disconnect(),a.current&&clearTimeout(a.current)}},[e,i]),n}},48857:(e,l,t)=>{"use strict";function r(e,l){return e+Math.round(255*l).toString(16).padStart(2,"0")}t.d(l,{tp:()=>r})},53759:(e,l,t)=>{"use strict";t.d(l,{I:()=>f});var r=t(95155),i=t(46426),n=t(25535),o=t(80310),a=t(58226),s=t(93454),d=t(76150),c=t(7579),u=t(26074),h=t(92091),x=t(52619),p=t.n(x);let f=e=>{let{children:l,fileData:t,actions:x=[],idx:f,...m}=e,{themeConfig:j}=(0,s.p)();return(0,r.jsxs)(d.z,{py:2,px:4,pr:"6px",rounded:j.radii.component,border:"1px solid",borderColor:"border.muted",gap:4,justify:"space-between",...m,children:[(0,r.jsx)(p(),{href:null==t?void 0:t.fileUrl,target:"_blank",style:{width:"100%"},children:(0,r.jsxs)(d.z,{gap:4,children:[(0,r.jsxs)(c.o,{pos:"relative",children:[(0,r.jsx)(o.o,{flexShrink:0,mimeType:null==t?void 0:t.fileMimeType}),void 0!==f&&(0,r.jsx)(u.j,{className:"ss",size:"16px",bg:"body",border:"1px solid",borderColor:"d1",pos:"absolute",left:"-6px",top:"-6px",children:(0,r.jsx)(a.P,{fontSize:"sm",children:"".concat(f+1)})})]}),(0,r.jsxs)(n.T,{flex:1,children:[(0,r.jsx)(a.P,{lineClamp:1,children:"".concat(null==t?void 0:t.fileName)}),(0,r.jsx)(a.P,{fontSize:"sm",color:"fg.muted",children:"".concat(null==t?void 0:t.fileSize)})]})]})}),(0,r.jsx)(d.z,{justify:"end",children:x.map(e=>(0,r.jsx)(i.t,{iconButton:!!e.icon,flexShrink:0,size:"xs",color:"fg.subtle",variant:"plain",colorPalette:"gray",onClick:e.onClick,disabled:!1,children:e.icon?(0,r.jsx)(h.I,{boxSize:"18px",children:e.icon}):e.label},e.type))}),l]})}},60439:(e,l,t)=>{"use strict";t.d(l,{HV:()=>i,VP:()=>r});let r=e=>!!(!e||Array.isArray(e)&&0===e.length),i=(e,l)=>e&&0!==e.length?e[e.length-1]:l},68502:(e,l,t)=>{"use strict";t.d(l,{$:()=>a,q:()=>o});var r=t(7496),i=t.n(r),n=t(35068);let o=function(){let{maxSizeMB:e=50,allowedExtensions:l,min:t,max:r,checkZip:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.gl().test("fileType","file required",e=>!Array.isArray(e)||0===e.length||e.every(e=>e instanceof File)).test("fileMin","Minimum ".concat(t," file(s) required"),e=>!(t&&Array.isArray(e))||e.length>=t).test("fileMax","Maximum ".concat(r," file(s) allowed"),e=>!(r&&Array.isArray(e))||e.length<=r).test("fileSize","file size too large",l=>{if(!Array.isArray(l)||0===l.length)return!0;if(e){let t=1024*e*1024;return l.every(e=>e.size<=t)}return!0}).test("fileExtension","Supported extensions: ".concat((null==l?void 0:l.join(", "))||"all"),e=>!(e&&Array.isArray(e))||!l||0===l.length||e.every(e=>{if(!(null==e?void 0:e.name))return!1;let t=e.name.slice((e.name.lastIndexOf(".")-1>>>0)+2).toLowerCase();return l.includes(t)})).test("zipContents","ZIP file must contain at least one valid file",async e=>{if(!Array.isArray(e)||0===e.length)return!0;if(o){for(let t of e)if(t.name.endsWith(".zip"))try{let e=await i().loadAsync(t),r=Object.keys(e.files);if(0===r.length||!r.some(e=>{var t;let r=null==(t=e.split(".").pop())?void 0:t.toLowerCase();return null==l?void 0:l.includes(r||"")}))return!1}catch(e){return console.error("check zip error",e),!1}}return!0})};function a(e){let{resolvedData:l,existingKey:t,deletedKey:r,newKey:i,message:o="At least one item is required"}=e;return n.gl().test("must-have-at-least-one-item",o,function(e,n){var o,a,s;let{parent:d}=n,c=(null==l||null==(o=l[t])?void 0:o.length)||0,u=(null==d||null==(a=d[r])?void 0:a.length)||0;return c-u+((null==d||null==(s=d[i])?void 0:s.length)||0)>0})}},80310:(e,l,t)=>{"use strict";t.d(l,{o:()=>h});var r=t(95155),i=t(92091),n=t(65150),o=t(96094),a=t(71114),s=t(2776),d=t(46835),c=t(79350),u=t(97745);let h=(0,t(12115).forwardRef)((e,l)=>{let{name:t,mimeType:h,iconProps:x,...p}=e,f=null==t?void 0:t.toLowerCase().split(".").pop(),m=null==h?void 0:h.toLowerCase(),j="current",g=n.A;switch(!0){case"application/pdf"===m||"pdf"===f:j="fg.error",g=o.A;break;case"application/msword"===m||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===m||["doc","docx"].includes(f):j="blue.500",g=a.A;break;case"application/vnd.ms-excel"===m||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===m||["xls","xlsx","csv"].includes(f):j="csv"===f?"green.600":"green.500",g="csv"===f?s.A:d.A;break;case(null==m?void 0:m.startsWith("image/"))||["jpg","jpeg","png","gif","webp","svg"].includes(f):j="purple.500",g=c.A;break;case"application/zip"===m||"application/x-zip-compressed"===m||"zip"===f:j="orange.500",g=u.A}return(0,r.jsx)(i.I,{ref:l,color:"".concat(j," !important"),...p,children:(0,r.jsx)(g,{stroke:1.5,...x})})});h.displayName="FileIcon"},80320:(e,l,t)=>{"use strict";t.d(l,{z:()=>F,S:()=>P});var r=t(95155),i=t(46426),n=t(25535),o=t(12175),a=t(80310),s=t(58226),d=t(38126),c=t(46767),u=t(53759),h=t(36780),x=t(93454),p=t(60439),f=t(30032),m=t(46977),j=t(98781),g=t(7579),b=t(92091),v=t(2186),w=t(67763),y=t(61456),k=t(12115),A=t(95943);let z=(0,k.forwardRef)(function(e,l){let{children:t,inputProps:i,...n}=e;return(0,r.jsxs)(A.YM,{...n,children:[(0,r.jsx)(A.yD,{ref:l,...i}),t]})}),C=(0,k.forwardRef)(function(e,l){let{children:t,icon:i,label:n,description:o,showIcon:a=!0,showLabel:d=!0,showDescription:c=!0,disabled:u,imgInput:h,...x}=e;return(0,r.jsxs)(A.fT,{ref:l,cursor:"pointer",bg:"body",overflow:"auto",p:4*!h,...x,_hover:{bg:"gray.subtle"},children:[a&&(0,r.jsx)(b.I,{fontSize:"2xl",color:"fg.muted",opacity:u?.4:1,children:i||(0,r.jsx)(w.A,{})}),t,(d||c)&&(0,r.jsxs)(A.YO,{opacity:u?.4:1,mb:h?"28px":"",children:[d&&(0,r.jsx)(s.P,{children:n}),c&&o&&(0,r.jsx)(s.P,{color:"fg.muted",children:o||".* up to 5MB"})]})]})});A.MD,A.h_;let _=A.k,S=e=>{let{inputValue:l,onChange:t,existing:i,...o}=e;return(0,r.jsx)(n.T,{gap:2,...o,children:null==l?void 0:l.map((e,n)=>{let o={fileName:e.name,fileMimeType:e.type,fileSize:(0,m.z3)(e.size),fileUrl:(0,f.M)(e)||""};return(0,r.jsx)(u.I,{idx:i.length+n,fileData:o,actions:[{type:"remove",icon:(0,r.jsx)(v.A,{}),onClick:()=>{let e=l.filter((e,l)=>l!==n);null==t||t(e.length>0?e:null)}}]},n)})})},P=e=>{let{fRef:l,children:t,onChange:u,inputValue:x,accept:f,acceptPlaceholder:v,invalid:y,placeholder:A,label:P,dropzone:F,maxFileSize:I=50,maxFiles:T=1,description:R,disabled:L,existing:V,showDropzoneIcon:H=!0,showDropzoneLabel:M=!0,showDropzoneDescription:E=!0,imgInput:N,...W}=e,{l:B}=(0,h.A)(),D=(0,j.f)(),[O,K]=(0,k.useState)(1),Z=(Array.isArray(V)?V:[]).length,U=null==x?void 0:x[0],X=1===T&&!(0,p.VP)(x),q=X?(0,r.jsx)(a.o,{name:U.name,mimeType:U.type,size:"2xl"}):void 0,Y=X?null==U?void 0:U.name:A||B.msg_file_input_dropzone,G=X?(0,m.z3)(null==U?void 0:U.size):R||"up to ".concat(I," mB, max ").concat(T||1," file").concat(T>1?"s":""," ").concat(v?"(".concat(v,")"):""),$=D.disabled||L||Z>=T;return(0,k.useEffect)(()=>{$&&(null==u||u(void 0),K(e=>e+1))},[$]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(z,{ref:l,alignItems:"stretch",onFileChange:function(e){K(e=>e+1);let l=e.acceptedFiles||[];if(T&&Z+l.length>T){let e=B.error_invalid_file.title,l=B.error_invalid_file.description;d.X.error({title:e,description:l,action:{label:"Close",onClick:()=>{}}}),K(e=>e+1);return}null==u||u(l.length>0?l:void 0)},onFileReject:()=>{d.X.error({title:B.error_invalid_file.title,description:B.error_invalid_file.description,action:{label:"Close",onClick:()=>{}}})},maxFileSize:1024*I*1024,maxFiles:T,gap:2,accept:f,disabled:$,pos:"relative",...W,children:(0,r.jsxs)(r.Fragment,{children:[F&&X&&(0,r.jsx)(c.m,{content:"Reset",children:(0,r.jsx)(o.J,{pos:"absolute",top:"6px",right:"6px",size:"xs",variant:"plain",color:"fg.subtle",onClick:()=>{null==u||u(void 0),K(e=>e+1)}})}),F?(0,r.jsx)(C,{flex:1,icon:q,label:Y,description:G,border:"2px dashed",borderColor:(null!=y?y:null==D?void 0:D.invalid)?"border.error":"border.muted",disabled:$,cursor:$?"disabled":"pointer",showIcon:H,showLabel:M,showDescription:E,imgInput:N,children:(0,r.jsx)(g.o,{mt:!N||(0,p.VP)(x)&&(0,p.VP)(V)?-4:7,children:t})}):(0,r.jsx)(_,{asChild:!0,borderColor:y?"fg.error":"",children:(0,r.jsxs)(i.t,{variant:"outline",borderColor:(null!=y?y:null==D?void 0:D.invalid)?"border.error":"border.muted",children:[(0,r.jsx)(b.I,{scale:.8,children:(0,r.jsx)(w.A,{})})," ",P||"File upload"]})}),!X&&x&&!(0,p.VP)(x)&&(0,r.jsxs)(n.T,{gap:2,children:[(!(0,p.VP)(V)||!(0,p.VP)(x))&&(0,r.jsx)(s.P,{fontSize:"sm",color:"fg.subtle",children:"Total : ".concat((0,m.ZV)(x.length+V.length))}),(0,r.jsx)(S,{inputValue:x,onChange:u,setKey:K,existing:V})]})]})},"".concat(O))})},F=e=>{let{existingFiles:l,onDeleteFile:t,onUndoDeleteFile:i,...o}=e,{l:a}=(0,h.A)(),{themeConfig:d}=(0,x.p)(),c=(0,j.f)().disabled,[f,m]=(0,k.useState)(l||[]),[g,b]=(0,k.useState)([]);return(0,r.jsxs)(n.T,{gap:3,children:[!(0,p.VP)(f)&&(0,r.jsx)(n.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:d.radii.container,children:(0,r.jsxs)(n.T,{gap:2,opacity:c?.5:1,cursor:c?"disabled":"auto",children:[(0,r.jsx)(s.P,{fontWeight:"medium",pl:1,children:a.uploaded_file}),null==f?void 0:f.map((e,l)=>(0,r.jsx)(u.I,{idx:l,fileData:e,actions:[{type:"delete",icon:(0,r.jsx)(y.A,{stroke:1.5}),onClick:()=>{m(l=>l.filter(l=>l.id!==e.id)),b(l=>[...l,e]),null==t||t(e)}}]},l))]})}),!(0,p.VP)(g)&&(0,r.jsx)(n.T,{p:2,gap:3,border:"2px dashed",borderColor:"border.muted",rounded:d.radii.container,children:(0,r.jsxs)(n.T,{gap:2,opacity:c?.5:1,cursor:c?"disabled":"auto",children:[(0,r.jsx)(s.P,{fontWeight:"medium",pl:1,children:a.deleted_file}),null==g?void 0:g.map((e,l)=>(0,r.jsx)(u.I,{fileData:e,actions:[{type:"undo_delete",label:"Undo",onClick:()=>{m(l=>[...l,e]),b(l=>l.filter(l=>l.id!==e.id)),null==i||i(e)}}]},l))]})}),(0,r.jsx)(P,{existing:f,...o})]})}},85147:(e,l,t)=>{"use strict";t.d(l,{A:()=>o});var r=t(95155),i=t(25535),n=t(12115);let o=e=>{var l;let{fRef:t,children:o,...a}=e,s=(0,n.useRef)(null),d=null!=t?t:s,c=(0,n.useRef)(0),u=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=d.current;if(!e)return;e.style.overscrollBehavior="contain";let l=l=>{if(!(e.scrollWidth>e.clientWidth))return;let t=Math.abs(l.deltaX);if(!(Math.abs(l.deltaY)>t))return;l.preventDefault(),l.stopPropagation();let r=1;1===l.deltaMode?r=16:2===l.deltaMode&&(r=window.innerHeight),c.current+=.25*l.deltaY*r,(e=>{if(null!=u.current)return;let l=()=>{e&&(e.scrollLeft+=c.current,c.current*=.85,Math.abs(c.current)>.5?u.current=requestAnimationFrame(l):u.current=null)};u.current=requestAnimationFrame(l)})(e)};return e.addEventListener("wheel",l,{passive:!1}),()=>{e.removeEventListener("wheel",l),u.current&&(cancelAnimationFrame(u.current),u.current=null),e.style.overscrollBehavior=""}},[d.current]),(0,r.jsx)(i.T,{ref:d,overflowY:"hidden",w:"full",className:"scrollX ".concat(null!=(l=a.className)?l:""),...a,children:o})}},89639:(e,l,t)=>{"use strict";t.d(l,{o:()=>n});var r=t(95155),i=t(76150);let n=e=>{let{children:l,borderless:t=!1,...n}=e;return(0,r.jsx)(i.z,{borderBottom:"1px solid",borderColor:t?"transparent":"border.subtle",justify:"space-between",wrap:"wrap",px:4,py:3,gap:4,...n,children:l})}},98488:(e,l,t)=>{"use strict";t.d(l,{A:()=>n});var r=t(95155),i=t(58226);let n=e=>{let{children:l,...t}=e;return(0,r.jsx)(i.P,{fontWeight:"semibold",...t,children:l})}},98886:(e,l,t)=>{"use strict";t.d(l,{D:()=>a});var r=t(95155),i=t(36780),n=t(14200),o=t(54515);let a=(0,t(12115).forwardRef)(function(e,l){let{label:t,children:a,helperText:s,errorText:d,optionalText:c,optional:u,...h}=e,{l:x}=(0,i.A)();return(0,r.jsxs)(n.XO,{ref:l,gap:2,...h,children:[t&&(0,r.jsxs)(n.dh,{fontSize:"md",children:[t,u&&(0,r.jsx)(o.Ex,{colorScheme:"gray",color:"fg.muted",children:x.optional.toLocaleLowerCase()}),(0,r.jsx)(n.tR,{fallback:c})]}),a,s&&(0,r.jsx)(n.sp,{children:s}),d&&(0,r.jsx)(n.wp,{children:d})]})})}},e=>{e.O(0,[9721,7596,586,2084,9964,9320,1668,9595,6524,358,5161,2619,7267,8128,3968,3788,8832,819,5478,8902,8441,4696,7358],()=>e(e.s=32764)),_N_E=e.O()}]);