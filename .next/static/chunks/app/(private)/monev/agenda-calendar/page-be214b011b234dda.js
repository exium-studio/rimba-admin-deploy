(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4191],{20243:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var i=r(95155),n=r(93454),l=r(19971);let a=e=>{let{...t}=e,{themeConfig:r}=(0,n.p)();return(0,i.jsx)(l.EA,{rounded:r.radii.component,...t})}},22484:(e,t,r)=>{"use strict";r.d(t,{O5:()=>l,c4:()=>n,gL:()=>a});var i=r(32309);function n(){return(0,i.c7)("__auth_token")||null}function l(e){(0,i.cT)("__auth_token",e)}function a(){let e=(0,i.c7)("__user_data");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse user data:",e),null}}},25342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ej});var i=r(95155),n=r(46426),l=r(25535),a=r(58226),s=r(94571),o=r(20243),d=r(57562),c=r(66825),u=r(95145),m=r(98886),h=r(40814),x=r(31120),p=r(79987),f=r(86021),j=r(80192),g=r(69040),v=r(50588),_=r(95345),T=r(36780),b=r(93885),y=r(40773),A=r(2431),D=r(12115);let C=e=>{let t="select_".concat("monev_agenda_category"),{...r}=e,{l:n}=(0,T.A)(),l=(0,b.A)(e=>e.rt),{req:a,loading:s}=(0,y.A)({id:t,showLoadingToast:!1,showSuccessToast:!1}),[o,d]=(0,D.useState)();function c(){a({config:{url:"/api/master-data/activity-category/index",method:"GET",params:{limit:"all",without_trashed:1}},onResolve:{onSuccess:e=>{var t,r,i;d(null==e||null==(i=e.data)||null==(r=i.data)||null==(t=r.data)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.title})).sort((e,t)=>{var r;return null==e||null==(r=e.label)?void 0:r.localeCompare(null==t?void 0:t.label)}))}}})}return(0,D.useEffect)(()=>{c()},[l]),(0,i.jsx)(_.p,{id:t,title:(0,A.kR)(n.settings_navs.monev_master_data.agenda_category),loading:s,selectOptions:o,fetch:c,...r})};var S=r(93454),k=r(3370),w=r(60439),P=r(32309),V=r(96307),z=r(46977),q=r(86487),E=r(14200),I=r(76150),R=r(92091),L=r(50857),F=r(89712),Y=r(62251),O=r(44748),N=r(61456),M=r(85332),B=r(88954),H=r(45600),X=r(24751),U=r(41521),Z=r(35068);let W="/api/monev/activity-calendar",K="monev_agenda_calendar",Q=e=>{let t="".concat(K,"_create"),{open:r,initialStartedDate:l}=e,{l:a}=(0,T.A)(),{themeConfig:s}=(0,S.p)(),o=(0,b.A)(e=>e.setRt),{req:f,loading:j}=(0,y.A)({id:t,loadingMessage:{title:(0,A.ZH)("".concat(a.add," Agenda"))},successMessage:{title:(0,A.ZH)("".concat(a.add," Agenda ").concat(a.successful))}}),v=(0,U.Wx)({validateOnChange:!1,initialValues:{category:null,name:"",description:"",location:"",startedDate:null,finishedDate:null,startedTime:"",finishedTime:""},validationSchema:Z.Ik().shape({category:Z.YO().required(a.msg_required_form),name:Z.Yj().required(a.msg_required_form),description:Z.Yj().required(a.msg_required_form),location:Z.Yj().required(a.msg_required_form),startedDate:Z.YO().required(a.msg_required_form),finishedDate:Z.YO().required(a.msg_required_form),startedTime:Z.Yj().required(a.msg_required_form),finishedTime:Z.Yj().required(a.msg_required_form)}),onSubmit:(e,t)=>{var r,i,n;let{resetForm:l}=t;(0,P.aX)();let a={activityCategoryId:null!=(n=null==(i=e.category)||null==(r=i[0])?void 0:r.id)?n:null,name:e.name,description:e.description,location:e.location,startedDate:e.startedDate[0],finishedDate:e.finishedDate[0],startedTime:e.startedTime,finishedTime:e.finishedTime};f({config:{url:"".concat(W,"/create"),method:"POST",data:a},onResolve:{onSuccess:()=>{o(e=>!e),l()}}})}});return(0,D.useEffect)(()=>{l&&v.setFieldValue("startedDate",[l])},[l]),(0,i.jsx)(c.i0,{open:r,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(c.L7,{children:[(0,i.jsx)(c.$Z,{children:(0,i.jsx)(u.G,{title:"".concat(a.add," Agenda")})}),(0,i.jsx)(c.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:v.handleSubmit,children:(0,i.jsxs)(E.XO,{gap:4,disabled:j,children:[(0,i.jsx)(m.D,{label:a.category,invalid:!!v.errors.category,errorText:v.errors.category,children:(0,i.jsxs)(I.z,{w:"full",children:[(0,i.jsx)(C,{inputValue:v.values.category,onConfirm:e=>{v.setFieldValue("category",e)},flex:1}),(0,i.jsx)(g.L,{children:(0,i.jsx)(n.t,{iconButton:!0,variant:"outline",children:(0,i.jsx)(R.I,{children:(0,i.jsx)(F.A,{stroke:1.5})})})})]})}),(0,i.jsx)(m.D,{label:a.name,invalid:!!v.errors.name,errorText:v.errors.name,children:(0,i.jsx)(h.Y,{inputValue:v.values.name,onChange:e=>{v.setFieldValue("name",e)}})}),(0,i.jsx)(m.D,{label:a.description,invalid:!!v.errors.description,errorText:v.errors.description,children:(0,i.jsx)(x.T,{inputValue:v.values.description,onChange:e=>{v.setFieldValue("description",e)}})}),(0,i.jsx)(m.D,{label:a.location,invalid:!!v.errors.location,errorText:v.errors.location,children:(0,i.jsx)(x.T,{inputValue:v.values.location,onChange:e=>{v.setFieldValue("location",e)}})}),(0,i.jsx)(m.D,{label:a.start_date,invalid:!!v.errors.startedDate,errorText:v.errors.startedDate,children:(0,i.jsx)(d.t,{id:"start-date",inputValue:v.values.startedDate,onConfirm:e=>{v.setFieldValue("startedDate",e)},disabled:!!l})}),(0,i.jsx)(m.D,{label:a.end_date,invalid:!!v.errors.finishedDate,errorText:v.errors.finishedDate,children:(0,i.jsx)(d.t,{id:"end-date",inputValue:v.values.finishedDate,onConfirm:e=>{v.setFieldValue("finishedDate",e)}})}),(0,i.jsx)(m.D,{label:a.start_time,invalid:!!v.errors.startedTime,errorText:v.errors.startedTime,children:(0,i.jsx)(p.u,{id:"start-time",inputValue:v.values.startedTime,onConfirm:e=>{v.setFieldValue("startedTime",e)}})}),(0,i.jsx)(m.D,{label:a.end_time,invalid:!!v.errors.finishedTime,errorText:v.errors.finishedTime,children:(0,i.jsx)(p.u,{id:"end-time",inputValue:v.values.finishedTime,onConfirm:e=>{v.setFieldValue("finishedTime",e)}})})]})})}),(0,i.jsx)(c.PK,{children:(0,i.jsx)(n.t,{type:"submit",form:t,colorPalette:s.colorPalette,children:a.add})})]})})},G=e=>{let{id:t="".concat(K,"_create"),children:r,initialStartedDate:n,...a}=e,{open:s,onOpen:o,onClose:d}=(0,L.j)();return(0,k.A)((0,V.t6)(t),s,o,d),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.T,{w:"fit",onClick:o,...a,children:r}),(0,i.jsx)(Q,{open:s,initialStartedDate:n})]})},$=e=>{let t="".concat(K,"_edit"),{open:r,agenda:l}=e,{l:a}=(0,T.A)(),{themeConfig:s}=(0,S.p)(),o=(0,b.A)(e=>e.setRt),{req:f,loading:j}=(0,y.A)({id:t,loadingMessage:{title:(0,A.ZH)("Edit Agenda")},successMessage:{title:(0,A.ZH)("Edit Agenda ".concat(a.successful))}}),v=(0,U.Wx)({validateOnChange:!1,initialValues:{category:null,name:"",description:"",location:"",startedDate:null,finishedDate:null,startedTime:"",finishedTime:""},validationSchema:Z.Ik().shape({category:Z.YO().required(a.msg_required_form),name:Z.Yj().required(a.msg_required_form),description:Z.Yj().required(a.msg_required_form),location:Z.Yj().required(a.msg_required_form),startedDate:Z.YO().required(a.msg_required_form),finishedDate:Z.YO().required(a.msg_required_form),startedTime:Z.Yj().required(a.msg_required_form),finishedTime:Z.Yj().required(a.msg_required_form)}),onSubmit:(e,t)=>{var r,i,n;let{resetForm:a}=t;(0,P.aX)();let s={activityCategoryId:null!=(n=null==(i=e.category)||null==(r=i[0])?void 0:r.id)?n:null,name:e.name,description:e.description,location:e.location,startedDate:e.startedDate[0],finishedDate:e.finishedDate[0],startedTime:e.startedTime,finishedTime:e.finishedTime};f({config:{url:"".concat(W,"/update/").concat(l.id),method:"PATCH",data:s},onResolve:{onSuccess:()=>{o(e=>!e),a()}}})}});return(0,D.useEffect)(()=>{var e,t;v.setValues({category:[{id:null==l||null==(e=l.activityCategory)?void 0:e.id,label:null==l||null==(t=l.activityCategory)?void 0:t.title}],name:l.name,description:l.description,location:l.location,startedDate:[new Date(l.startedDate).toISOString()],finishedDate:[new Date(l.finishedDate).toISOString()],startedTime:l.startedTime,finishedTime:l.finishedTime})},[l]),(0,i.jsx)(c.i0,{open:r,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(c.L7,{children:[(0,i.jsx)(c.$Z,{children:(0,i.jsx)(u.G,{title:"Edit Agenda"})}),(0,i.jsx)(c.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:v.handleSubmit,children:(0,i.jsxs)(E.XO,{gap:4,disabled:j,children:[(0,i.jsx)(m.D,{label:a.category,invalid:!!v.errors.category,errorText:v.errors.category,children:(0,i.jsxs)(I.z,{w:"full",children:[(0,i.jsx)(C,{inputValue:v.values.category,onConfirm:e=>{v.setFieldValue("category",e)},flex:1}),(0,i.jsx)(g.L,{children:(0,i.jsx)(n.t,{iconButton:!0,variant:"outline",children:(0,i.jsx)(R.I,{children:(0,i.jsx)(F.A,{stroke:1.5})})})})]})}),(0,i.jsx)(m.D,{label:a.name,invalid:!!v.errors.name,errorText:v.errors.name,children:(0,i.jsx)(h.Y,{inputValue:v.values.name,onChange:e=>{v.setFieldValue("name",e)}})}),(0,i.jsx)(m.D,{label:a.description,invalid:!!v.errors.description,errorText:v.errors.description,children:(0,i.jsx)(x.T,{inputValue:v.values.description,onChange:e=>{v.setFieldValue("description",e)}})}),(0,i.jsx)(m.D,{label:a.location,invalid:!!v.errors.location,errorText:v.errors.location,children:(0,i.jsx)(x.T,{inputValue:v.values.location,onChange:e=>{v.setFieldValue("location",e)}})}),(0,i.jsx)(m.D,{label:a.start_date,invalid:!!v.errors.startedDate,errorText:v.errors.startedDate,children:(0,i.jsx)(d.t,{id:"start-date",inputValue:v.values.startedDate,onConfirm:e=>{v.setFieldValue("startedDate",e)}})}),(0,i.jsx)(m.D,{label:a.end_date,invalid:!!v.errors.finishedDate,errorText:v.errors.finishedDate,children:(0,i.jsx)(d.t,{id:"end-date",inputValue:v.values.finishedDate,onConfirm:e=>{v.setFieldValue("finishedDate",e)}})}),(0,i.jsx)(m.D,{label:a.start_time,invalid:!!v.errors.startedTime,errorText:v.errors.startedTime,children:(0,i.jsx)(p.u,{id:"start-time",inputValue:v.values.startedTime,onConfirm:e=>{v.setFieldValue("startedTime",e)}})}),(0,i.jsx)(m.D,{label:a.end_time,invalid:!!v.errors.finishedTime,errorText:v.errors.finishedTime,children:(0,i.jsx)(p.u,{id:"end-time",inputValue:v.values.finishedTime,onConfirm:e=>{v.setFieldValue("finishedTime",e)}})})]})})}),(0,i.jsx)(c.PK,{children:(0,i.jsx)(n.t,{type:"submit",form:t,colorPalette:s.colorPalette,children:a.save})})]})})},J=e=>{let{id:t="".concat(K,"_edit"),agenda:r,children:n,...a}=e,{open:s,onOpen:o,onClose:d}=(0,L.j)();return(0,k.A)((0,V.t6)(t),s,o,d),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.T,{w:"fit",onClick:o,...a,children:n}),(0,i.jsx)($,{open:s,agenda:r})]})};function ee(e){let{open:t,date:r,agendas:s}=e,{l:o}=(0,T.A)(),{themeConfig:d}=(0,S.p)(),m=(0,b.A)(e=>e.setRt),{req:h,loading:x}=(0,y.A)({id:"delete-agenda",loadingMessage:{title:"".concat(o.delete_," Agenda")},successMessage:{title:"".concat(o.delete_," Agenda ").concat(o.successful)}});return(0,i.jsx)(c.i0,{open:t,lazyLoad:!0,children:(0,i.jsxs)(c.L7,{children:[(0,i.jsx)(c.$Z,{children:(0,i.jsx)(u.G,{title:"Agenda ".concat((0,z.Yq)(r,{timezoneKey:(0,q.Vm)().key,variant:"dayShortMonthYear"}))})}),(0,i.jsxs)(c.Ql,{children:[(0,w.VP)(s)&&(0,i.jsx)(v.A,{}),(0,i.jsx)(l.T,{gap:4,children:null==s?void 0:s.map(e=>{var t;return(0,i.jsxs)(l.T,{rounded:d.radii.component,border:"1px solid",borderColor:"border.muted",children:[(0,i.jsxs)(I.z,{align:"start",children:[(0,i.jsx)(l.T,{gap:1,p:4,py:3,children:(0,i.jsx)(a.P,{fontSize:"lg",fontWeight:"semibold",lineHeight:1.4,children:null==e?void 0:e.name})}),(0,i.jsxs)(I.z,{w:"fit",p:1,gap:0,children:[(0,i.jsx)(J,{id:"edit-agenda-".concat(e.id),agenda:e,children:(0,i.jsx)(n.t,{iconButton:!0,size:"md",variant:"ghost",children:(0,i.jsx)(R.I,{children:(0,i.jsx)(Y.A,{stroke:1.5})})})}),(0,i.jsx)(j.H,{id:"delete-agenda-".concat(e.id),title:o.perma_delete,description:o.msg_cannot_be_undone,confirmLabel:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R.I,{children:(0,i.jsx)(O.A,{stroke:1.5})}),"".concat(o.perma_delete)]}),onConfirm:()=>{(0,P.aX)(),h({config:{url:"".concat(W,"/delete"),method:"DELETE",data:{deleteIds:[null==e?void 0:e.id]}},onResolve:{onSuccess:()=>{m(e=>!e)}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},loading:x,children:(0,i.jsx)(n.t,{iconButton:!0,size:"md",variant:"ghost",children:(0,i.jsx)(R.I,{children:(0,i.jsx)(N.A,{stroke:1.5})})})})]})]}),(0,i.jsx)(l.T,{px:4,children:(0,i.jsx)(a.P,{color:"fg.muted",children:null==e?void 0:e.description})}),(0,i.jsxs)(l.T,{gap:2,p:4,pb:4,children:[(0,i.jsxs)(I.z,{color:"fg.subtle",align:"start",children:[(0,i.jsx)(R.I,{boxSize:5,mt:"1px",children:(0,i.jsx)(M.A,{stroke:1.5})}),(0,i.jsx)(a.P,{children:null==e||null==(t=e.activityCategory)?void 0:t.title})]}),(0,i.jsxs)(I.z,{color:"fg.subtle",align:"start",children:[(0,i.jsx)(R.I,{boxSize:5,mt:"1px",children:(0,i.jsx)(B.A,{stroke:1.5})}),(0,i.jsx)(a.P,{children:"".concat((0,z.Yq)(e.startedDate,{timezoneKey:(0,q.Vm)().key,variant:"dayShortMonthYear"})," - ").concat((0,z.Yq)(e.finishedDate,{timezoneKey:(0,q.Vm)().key,variant:"dayShortMonthYear"}))})]}),(0,i.jsxs)(I.z,{color:"fg.subtle",align:"start",children:[(0,i.jsx)(R.I,{boxSize:5,mt:"1px",children:(0,i.jsx)(H.A,{stroke:1.5})}),(0,i.jsx)(a.P,{children:"".concat((0,z.fU)(e.startedTime)," - ").concat((0,z.fU)(e.finishedTime))})]}),(0,i.jsxs)(I.z,{color:"fg.subtle",align:"start",children:[(0,i.jsx)(R.I,{boxSize:5,mt:"1px",children:(0,i.jsx)(X.A,{stroke:1.5})}),(0,i.jsx)(a.P,{children:null==e?void 0:e.location})]})]})]},null==e?void 0:e.id)})})]}),(0,i.jsxs)(c.PK,{children:[(0,i.jsx)(f.A,{}),(0,i.jsx)(G,{id:"create-agenda-".concat(r),w:["full",null,"fit"],initialStartedDate:new Date(r).toISOString(),children:(0,i.jsxs)(n.t,{pl:3,size:"md",colorPalette:d.colorPalette,children:[(0,i.jsx)(R.I,{children:(0,i.jsx)(F.A,{stroke:1.5})}),o.add]})})]})]})})}let et=e=>{let{id:t,date:r,agendas:n,children:a,...s}=e,{open:o,onOpen:d,onClose:c}=(0,L.j)();return(0,k.A)((0,V.t6)("agenda-".concat(t)),o,d,c),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.T,{onClick:d,...s,children:a}),(0,i.jsx)(ee,{open:o,date:r,agendas:n})]})};var er=r(77141),ei=r(55803),en=r(65609),el=r(35189),ea=r(50572),es=r(6906),eo=r(41307),ed=r(46845),ec=r(77535),eu=r(26074),em=r(68848),eh=r(70261);let ex={month:new Date().getMonth(),year:new Date().getFullYear()},ep=e=>{let{period:t,setPeriod:r,...l}=e;function a(e){var i,n;let l=null!=(i=t.month)?i:0,a=null!=(n=t.year)?n:new Date().getFullYear(),s=l,o=a;"decrement"===e?0===l?(s=11,o=a-1):s=l-1:11===l?(s=0,o=a+1):s=l+1,r({month:s,year:o})}return(0,i.jsxs)(eo.Y,{...l,children:[(0,i.jsx)(n.t,{iconButton:!0,clicky:!1,variant:"outline",onClick:()=>a("decrement"),size:"md",children:(0,i.jsx)(R.I,{boxSize:4,children:(0,i.jsx)(em.A,{})})}),(0,i.jsx)(s.w,{flex:1,size:"md",justifyContent:"center",inputValue:t,invalid:!1,onConfirm:e=>{r(e)},required:!0,w:"140px"}),(0,i.jsx)(n.t,{iconButton:!0,clicky:!1,variant:"outline",onClick:()=>a("increment"),size:"md",children:(0,i.jsx)(R.I,{boxSize:4,children:(0,i.jsx)(eh.A,{})})})]})},ef=e=>{let{period:t}=e,{themeConfig:r}=(0,S.p)(),{firstVisible:n,lastVisible:s}=(0,es.et)(t),{error:d,initialLoading:c,loading:u,data:m,onRetry:h}=(0,el.A)({initialData:void 0,url:"".concat("/api/monev/activity-calendar","/index"),params:{startDate:n,endDate:s},dependencies:[t],dataResource:!1}),x={loading:(0,i.jsx)(o.E,{flex:1}),error:(0,i.jsx)(er.A,{onRetry:h}),empty:(0,i.jsx)(v.A,{}),loaded:(0,i.jsx)(l.T,{flex:1,className:"scrollYAlt",children:(0,i.jsx)(ed.r,{columns:[7],flex:1,minH:["600px",null,"700px"],gridAutoRows:"1fr",children:null==m?void 0:m.map((e,n)=>{var s,o;let d=new Date,c=e.date,m=Number(e.date.split("-")[1]),h=d.toISOString().split("T")[0]===e.date,x=m-1===t.month;return(0,i.jsxs)(et,{id:"".concat(c),date:c,agendas:null==e?void 0:e.agendas,borderLeft:n%7!=0?"1px solid":"",borderTop:n>6?"1px solid":"",borderColor:"border.muted",cursor:"pointer",_hover:{bg:"d1"},transition:"200ms",flex:1,children:[(0,i.jsxs)(ec.B,{flexDir:["column",null,"row"],align:"center",justify:"space-between",p:2,children:[(0,i.jsx)(eu.j,{w:"30px",h:"30px",border:h?"1px solid":"",borderColor:r.primaryColor,children:(0,i.jsx)(a.P,{fontSize:["sm",null,"md"],fontWeight:h?"extrabold":"",opacity:u?.3:x?1:.3,children:"".concat(Number(c.split("-")[2]))})}),(null==e||null==(s=e.agendas)?void 0:s.length)>2&&(0,i.jsx)(ei.P3,{})]}),(0,i.jsx)(l.T,{p:1,gap:1,mt:"auto",children:null==e||null==(o=e.agendas)?void 0:o.map((e,t)=>t<2&&(0,i.jsx)(l.T,{p:1,px:2,rounded:r.radii.component,bg:"".concat(r.colorPalette,".subtle"),children:(0,i.jsx)(a.P,{fontSize:["sm",null,"md"],lineClamp:1,children:null==e?void 0:e.name})},null==e?void 0:e.id))})]},"".concat(c))})})})};return(0,i.jsxs)(i.Fragment,{children:[c&&x.loading,!c&&(0,i.jsxs)(i.Fragment,{children:[d&&x.error,!d&&(0,i.jsxs)(i.Fragment,{children:[m&&x.loaded,(!m||(0,w.VP)(m))&&x.empty]})]})]})};function ej(){let{l:e}=(0,T.A)(),{themeConfig:t}=(0,S.p)(),r=(0,ea.Q)(),[s,o]=(0,D.useState)(ex),d=[e.monday,e.tuesday,e.wednesday,e.thursday,e.friday,e.saturday,e.sunday];return(0,i.jsx)(en.L,{children:(0,i.jsxs)(en.T,{children:[(0,i.jsxs)(I.z,{wrap:["wrap",null,"nowrap"],p:3,justify:"space-between",children:[(0,i.jsx)(ep,{period:s,setPeriod:o,zIndex:2,w:["full",null,"fit"]}),(0,i.jsx)(G,{w:["full",null,"fit"],children:(0,i.jsxs)(n.t,{pl:3,size:"md",colorPalette:t.colorPalette,children:[(0,i.jsx)(R.I,{children:(0,i.jsx)(F.A,{stroke:1.5})}),e.add]})})]}),(0,i.jsxs)(l.T,{flex:1,borderTop:"1px solid",borderColor:"border.muted",overflow:"auto",children:[(0,i.jsx)(ed.r,{columns:[7],borderBottom:"1px solid",borderColor:"border.muted",children:d.map((e,t)=>(0,i.jsx)(l.T,{py:1,px:[2,null,4],borderLeft:t>0?"1px solid":"",borderColor:"border.muted",children:(0,i.jsx)(a.P,{fontSize:["sm",null,"md"],fontWeight:"medium",children:r?e.slice(0,3):e})},t))}),(0,i.jsx)(ef,{period:s})]})]})})}},31120:(e,t,r)=>{"use strict";r.d(t,{T:()=>c});var i=r(95155),n=r(93454),l=r(98781),a=r(24443),s=r(38126),o=r(36780),d=r(2431);let c=e=>{let{name:t,onChange:r,inputValue:c,invalid:u,placeholder:m="Input text",maxChar:h=null,...x}=e,{themeConfig:p}=(0,n.p)(),f=(0,l.f)(),{l:j}=(0,o.A)();return(0,i.jsx)(a.T,{name:t,borderColor:(null!=u?u:null==f?void 0:f.invalid)?"border.error":"border.muted",fontSize:"md",fontWeight:"medium",outline:"none !important",_placeholder:{fontSize:"md"},_focus:{borderColor:p.primaryColor},rounded:p.radii.component,placeholder:m,onChange:e=>{let t=e.target.value;null!==h&&t.length>h&&(t=t.slice(0,h),s.X.create({title:j.info_max_char_reached.title,description:(0,d.zl)(j.info_max_char_reached.description,{maxChar:h})})),null==r||r(t)},px:4,value:c,autoresize:!0,...x})};c.displayName="Textarea"},35189:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var i=r(12115),n=r(40773),l=r(93885),a=r(79310);let s=e=>{let{initialData:t,dummyData:r,payload:s,params:o,url:d,method:c,dependencies:u=[],conditions:m=!0,noRt:h=!1,initialPage:x=1,initialLimit:p=15,intialOffset:f=0,dataResource:j=!0,withLoadingBar:g=!0}=e,v=(0,a.z)(e=>e.setLoadingBar),[_,T]=(0,i.useState)(r||t),[b,y]=(0,i.useState)(!0),[A,D]=(0,i.useState)(!1),[C,S]=(0,i.useState)(x),[k,w]=(0,i.useState)(p),[P,V]=(0,i.useState)(f),[z,q]=(0,i.useState)(void 0),{rt:E}=(0,l.A)(),{req:I,response:R,loading:L,error:F,status:Y}=(0,n.A)({id:d||"data-state",showLoadingToast:!1,showErrorToast:!0,showSuccessToast:!1}),O={limit:k,page:C,...s},N={limit:k,page:C,...o},M={url:d,method:c,data:O,params:j?N:null},B=(0,i.useRef)(null),H=(0,i.useRef)(null);function X(){if(!d)return;H.current=d;let e=new AbortController;B.current=e;let t={...M,signal:e.signal};Promise.resolve().then(()=>{H.current===d&&I({config:t,onResolve:{onSuccess:e=>{var t,i,n,l,a,s,o;q(null==e||null==(i=e.data)||null==(t=i.data)?void 0:t.pagination),y(!1),r?T(r):T(j?Array.isArray(null==e||null==(n=e.data)?void 0:n.data)?null==e||null==(l=e.data)?void 0:l.data:null==e||null==(s=e.data)||null==(a=s.data)?void 0:a.data:null==e||null==(o=e.data)?void 0:o.data)},onError:()=>{y(!1)}}})})}return(0,i.useEffect)(()=>{if(!m||!d)return;let e=setTimeout(()=>{X()},50);return()=>{clearTimeout(e),B.current&&B.current.abort()}},[m,d,C,k,...h?[]:[E],...u||[]]),(0,i.useEffect)(()=>{w(p)},[p]),(0,i.useEffect)(()=>{d||y(!1)},[d]),(0,i.useEffect)(()=>{g&&v(L)},[L]),{makeRequest:X,onRetry:function(){y(!0),X()},data:_,setData:T,initialLoading:b,setInitialLoading:y,loading:L,error:F,loadMore:function(){D(!0),I({config:{...M},onResolve:{onSuccess:e=>{var t,r,i;T(_?[..._,...null==e||null==(t=e.data)?void 0:t.data]:null==e||null==(r=e.data)?void 0:r.data),q(null==e||null==(i=e.data)?void 0:i.pagination),D(!1)}}})},loadingLoadMore:A,setLoadingLoadMore:D,pagination:z,page:C,setPage:S,limit:k,setLimit:w,offset:P,setOffset:V,response:R,status:Y}}},40773:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var i=r(38126),n=r(64254),l=r(36780),a=r(95125),s=r(22484);let o=a.A.create({baseURL:"https://rimba.webgis.app/api",headers:{Accept:"application/json"}});async function d(){try{let e=(await a.A.post("".concat("https://rimba.webgis.app/api","/auth/refresh"),{},{withCredentials:!0})).data.accessToken;return(0,s.O5)(e),e}catch(e){return null}}o.interceptors.request.use(e=>{let t=(0,s.c4)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){r._retry=!0;let e=await d();if(e)return r.headers.Authorization="Bearer ".concat(e),o(r)}return Promise.reject(e)});var c=r(20063),u=r(12115);function m(e){let{id:t,showLoadingToast:r=!0,showSuccessToast:a=!0,showErrorToast:s=!0,loadingMessage:d,successMessage:m,errorMessage:h,signinPath:x="/"}=e,{l:p}=(0,l.A)(),f=(0,n.A)(e=>e.removeAuth),j=(0,c.useRouter)(),g=(0,u.useRef)(null),[v,_]=(0,u.useState)({loading:!1,status:null,error:null,response:null}),{loading:T,status:b,error:y,response:A}=v,D={title:(null==d?void 0:d.title)||p.loading_default.title,description:(null==d?void 0:d.description)||p.loading_default.description},C={title:(null==m?void 0:m.title)||p.success_default.title,description:(null==m?void 0:m.description)||p.success_default.description},S=(0,u.useCallback)(e=>{_(t=>({...t,...e}))},[]);return{req:(0,u.useCallback)(async e=>{var n,l,d;let{config:c,onResolve:u}=e;try{r&&i.X.loading({id:t,title:D.title,description:D.description,action:{label:"Close",onClick:()=>{}}}),S({loading:!0,error:null,status:null}),c.url="".concat("https://rimba.webgis.app/api").concat(c.url),g.current&&g.current.abort();let e=new AbortController;g.current=e,c.signal=e.signal;let l=await o(c);return S({loading:!1,status:l.status,response:l}),[200,201,304].includes(l.status)&&(null==u||null==(n=u.onSuccess)||n.call(u,l),a?i.X.update(t,{type:"success",title:C.title,description:C.description,action:{label:"Close",onClick:()=>{}}}):i.X.dismiss(t)),l}catch(a){if("ERR_CANCELED"===a.code)return void S({loading:!1});let e=null==(l=a.response)?void 0:l.status;switch(S({loading:!1,error:!0,status:e,response:a.response}),e){case 401:case 403:f(),null==j||j.push(x);break;case 503:null==j||j.push("/maintenance")}let n=(e=>{var t,r,i;let n=null==(t=e.response)?void 0:t.status,l=null==(i=e.response)||null==(r=i.data)?void 0:r.case;if("ERR_NETWORK"===e.code)return p.error_network;if(n&&(null==h?void 0:h[n]))return l&&h[n][l]?h[n][l]:h[n].default||{title:p.error_default.title,description:p.error_default.description};switch(n){case 400:if("INVALID_CREDENTIALS"===l)return p.error_signin_wrong_credentials;return p.error_400_default;case 401:return p.error_401_default;case 403:return p.error_403_default;case 404:return p.error_404_default;case 422:switch(l){case"TARGET_REQUIRED":return p.error_422_target_required;case"MINIMUM_FILE_REQUIRED":return p.error_422_file_required;case"DUPLICATE_FILENAME":return p.error_422_duplicate_file_name;case"DUPLICATE_TITLE":return p.error_422_duplicate_kmis_topic_title;case"DUPLICATE_ANSWERS":return p.error_422_duplicate_kmis_quiz_option;case"DUPLICATE_QUESTION":return p.error_422_duplicate_question;default:return p.error_422_default}case 429:return p.error_429_default;case 500:return p.error_500_default;default:return p.error_default}})(a);throw s&&(r?i.X.update(t,{type:"error",...n,action:{label:"Close",onClick:()=>{}}}):i.X.create({type:"error",...n,action:{label:"Close",onClick:()=>{}}})),null==u||null==(d=u.onError)||d.call(u,a),a}},[t,r,a,s,D,C,x,h,p,j,S]),loading:T,status:b,error:y,response:A,setReqState:_}}},45977:(e,t,r)=>{Promise.resolve().then(r.bind(r,25342))},64254:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i=r(32309);let n=(0,r(25959).v)((e,t)=>({authToken:(0,i.c7)("__auth_token"),setAuthToken:t=>e(()=>({authToken:t})),verifiedAuthToken:null,setVerifiedAuthToken:t=>e(()=>((0,i.cT)("__auth_token",t||""),{verifiedAuthToken:t})),role:null,setRole:t=>e(()=>({role:t})),permissions:null,setPermissions:t=>e(()=>({permissions:t})),hasPermissions:e=>{var r;let i=null!=(r=t().permissions)?r:[];return e.every(e=>i.includes(e))},removeAuth:()=>{t().removeAuthToken(),t().removePermissions(),t().removeRole(),(0,i.Od)("__user_data"),t().setVerifiedAuthToken(null),t().setAuthToken(null)},removeAuthToken:()=>{(0,i.Od)("__auth_token"),e(()=>({authToken:null,verifiedAuthToken:null}))},removePermissions:()=>e(()=>({permissions:void 0})),removeRole:()=>e(()=>({role:void 0}))}))},65609:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,T:()=>o});var i=r(95155),n=r(25535),l=r(93454),a=r(12115);let s=(0,a.forwardRef)((e,t)=>{let{children:r,...l}=e;return(0,i.jsx)(n.T,{ref:t,flex:1,gap:4,p:[2,null,4],pt:"0 !important",overflow:"auto",...l,children:r})});s.displayName="PageContainer";let o=(0,a.forwardRef)((e,t)=>{let{children:r,...a}=e,{themeConfig:s}=(0,l.p)();return(0,i.jsx)(n.T,{ref:t,flex:1,bg:"body",rounded:s.radii.container,overflow:"auto",...a,children:r})});o.displayName="PageContent"},69040:(e,t,r)=>{"use strict";r.d(t,{L:()=>y});var i=r(95155),n=r(46426),l=r(25535),a=r(66825),s=r(95145),o=r(98886),d=r(40814),c=r(31120),u=r(36780),m=r(93885),h=r(93454),x=r(3370),p=r(40773),f=r(32309),j=r(2431),g=r(45554),v=r(50857),_=r(41521),T=r(35068);let b=e=>{let t="".concat("cms_activity_category","_create"),{open:r}=e,{l}=(0,u.A)(),{themeConfig:x}=(0,h.p)(),v=(0,m.A)(e=>e.setRt),b=l.settings_navs.monev_master_data.agenda_category,{req:y,loading:A}=(0,p.A)({id:t,loadingMessage:{title:(0,j.ZH)("".concat(l.add," ").concat(b))},successMessage:{title:(0,j.ZH)("".concat(l.add," ").concat(b," ").concat(l.successful))}}),D=(0,_.Wx)({validateOnChange:!1,initialValues:{title:"",description:""},validationSchema:T.Ik().shape({title:T.Yj().required(l.msg_required_form),description:T.Yj().required(l.msg_required_form)}),onSubmit:(e,t)=>{let{resetForm:r}=t;(0,f.aX)(),y({config:{url:"".concat("/api/master-data/activity-category","/create"),method:"POST",data:e},onResolve:{onSuccess:()=>{v(e=>!e),r()}}})}});return(0,i.jsx)(a.i0,{open:r,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(a.L7,{children:[(0,i.jsx)(a.$Z,{children:(0,i.jsx)(s.G,{title:"".concat(l.add," ").concat(b)})}),(0,i.jsx)(a.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:D.handleSubmit,children:(0,i.jsxs)(g.Rs,{disabled:A,children:[(0,i.jsx)(o.D,{label:l.name,invalid:!!D.errors.title,errorText:D.errors.title,children:(0,i.jsx)(d.Y,{inputValue:D.values.title,onChange:e=>{D.setFieldValue("title",e)}})}),(0,i.jsx)(o.D,{label:l.description,invalid:!!D.errors.description,errorText:D.errors.description,children:(0,i.jsx)(c.T,{inputValue:D.values.description,onChange:e=>{D.setFieldValue("description",e)}})})]})})}),(0,i.jsx)(a.PK,{children:(0,i.jsx)(n.t,{type:"submit",form:t,colorPalette:x.colorPalette,loading:A,children:l.add})})]})})},y=e=>{let{children:t,id:r,...n}=e,{open:a,onOpen:s,onClose:o}=(0,v.j)();return(0,x.A)(r||"create-monev-agenda-category",a,s,o),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.T,{w:"fit",onClick:s,...n,children:t}),(0,i.jsx)(b,{open:a})]})}},77141:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var i=r(95155),n=r(46426),l=r(25535),a=r(58832),s=r(52012),o=r(36780),d=r(93454),c=r(92091),u=r(44748);function m(e){let{title:t,description:r,icon:m,onRetry:h,children:x,...p}=e,{themeConfig:f}=(0,d.p)(),{l:j}=(0,o.A)();return(0,i.jsxs)(l.T,{w:"fit",m:"auto",minH:s.Y6,justify:"center",...p,children:[(0,i.jsx)(a.A,{icon:(0,i.jsx)(c.I,{mb:t?-2:0,children:m||(0,i.jsx)(u.A,{stroke:1.8})}),title:null!=t?t:j.alert_retry.title,description:null!=r?r:j.alert_retry.description,maxW:"300px"}),(0,i.jsx)(n.t,{w:"120px",className:"clicky",variant:"outline",colorPalette:f.colorPalette,mx:"auto",onClick:h,children:j.retry}),x]})}},79310:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});let i=(0,r(25959).v)(e=>({loadingBar:!1,setLoadingBar:t=>e({loadingBar:t})}))},80192:(e,t,r)=>{"use strict";r.d(t,{H:()=>p});var i=r(95155),n=r(46426),l=r(25535),a=r(66825),s=r(95145),o=r(58226),d=r(93454),c=r(3370),u=r(50857),m=r(86021),h=r(96307);let x=e=>{let{open:t,title:r,description:l,confirmLabel:c,onConfirm:u,confirmButtonProps:h,loading:x=!1,addonElement:p}=e,{themeConfig:f}=(0,d.p)();return(0,i.jsx)(a.i0,{open:t,size:"xs",children:(0,i.jsxs)(a.L7,{children:[(0,i.jsx)(a.$Z,{children:(0,i.jsx)(s.G,{title:"".concat(r)})}),(0,i.jsxs)(a.Ql,{children:[(0,i.jsx)(o.P,{children:l}),p]}),(0,i.jsxs)(a.PK,{children:[(0,i.jsx)(m.A,{disabled:x}),(0,i.jsx)(n.t,{onClick:u,loading:x,colorPalette:f.colorPalette,...h,children:c})]})]})})},p=e=>{let{children:t,id:r,title:n,description:a,confirmLabel:s,onConfirm:o,confirmButtonProps:d,loading:m,disabled:p,addonElement:f,...j}=e,{open:g,onOpen:v,onClose:_}=(0,u.j)();return(0,c.A)((0,h.t6)("".concat(r)),g,v,_),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.T,{w:"fit",onClick:p?()=>{}:v,...j,children:t}),(0,i.jsx)(x,{open:g,title:n,description:a,confirmLabel:s,onConfirm:o,confirmButtonProps:d,loading:m,addonElement:f})]})}},93885:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(25959).v)((e,t)=>({rt:!1,setRt:r=>{"function"==typeof r?e({rt:r(t().rt)}):e({rt:r})}}))}},e=>{e.O(0,[7596,586,9964,9320,1668,9595,6524,358,5246,5309,3783,5842,8832,819,5478,8956,3066,8441,4696,7358],()=>e(e.s=45977)),_N_E=e.O()}]);