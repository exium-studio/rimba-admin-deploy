(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5389],{11558:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var l=r(95155),s=r(12115),i=r(25535),n=r(93454);let a=(0,s.forwardRef)((e,t)=>{let{children:r,scrollY:s=!1,...a}=e,{themeConfig:d}=(0,n.p)();return(0,l.jsx)(i.T,{ref:t,className:s?"scrollY":"",bg:"body",rounded:d.radii.container,...a,children:r})});a.displayName="ItemContainer"},36909:(e,t,r)=>{Promise.resolve().then(r.bind(r,46437))},38582:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(30313).A)("outline","layout-grid","LayoutGrid",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-3"}]])},46437:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>es});var l=r(95155),s=r(46426),i=r(25535),n=r(66825),a=r(95145),d=r(88890),o=r(58226),c=r(571),x=r(20243),h=r(86021),p=r(66168),u=r(86430),j=r(98064),g=r(63041),m=r(48930),v=r(50588),b=r(77141),f=r(11558),w=r(89639),P=r(98488),k=r(65609),y=r(36780),z=r(54515);let A=e=>{let{quizAttempStatus:t,...r}=e,{l:s}=(0,y.A)(),i="",n="gray";switch(t){case 1:i=s.on_progress,n="orange";break;case 2:i=s.finished,n="green";break;default:i="Unknown",n="gray"}return(0,l.jsx)(z.Ex,{fontSize:"sm",colorPalette:n,...r,children:i})};var _=r(55803),S=r(76150),C=r(77535),T=r(92091),q=r(46845),R=r(8898),M=r(49294),F=r(68595),L=r(12115);let O=e=>{var t,r,s;let{optionLetter:i,optionKey:n,quizResponse:a,...d}=e,c=i===(null==a||null==(t=a.quiz)?void 0:t.correctOption),x=i!==(null==a||null==(r=a.quiz)?void 0:r.correctOption)&&i===(null==a?void 0:a.selectedOption),h=(null==a?void 0:a.selectedOption)===i;return(0,l.jsxs)(S.z,{align:"start",justifyContent:"start",py:2,px:4,variant:"outline",border:"1px solid",borderColor:c?"border.success":x?"border.error":"border.muted",rounded:"lg",...d,children:[(0,l.jsx)(o.P,{children:i}),(0,l.jsx)(o.P,{children:null==a||null==(s=a.quiz)?void 0:s[n]}),h&&(0,l.jsx)(_.P3,{ml:"auto",mt:"6px"})]})},E=e=>{var t,r,n,a,d;let{quizResponses:c,...x}=e,{l:h}=(0,y.A)(),[p,u]=(0,L.useState)(0),j=null==c||null==(t=c.exam)?void 0:t[p];return(0,l.jsxs)(C.B,{flexDir:["column",null,"row"],gap:4,...x,children:[(0,l.jsxs)(f.b,{gap:2,p:4,border:"1px solid",borderColor:"border.muted",children:[(0,l.jsx)(o.P,{fontWeight:"semibold",children:"No. ".concat(p+1)}),(0,l.jsx)(o.P,{fontWeight:"medium",children:null==j||null==(r=j.quiz)?void 0:r.question}),(0,l.jsx)(i.T,{gap:2,mt:2,children:[{optionLetter:"A",optionKey:"answerA"},{optionLetter:"B",optionKey:"answerB"},{optionLetter:"C",optionKey:"answerC"},{optionLetter:"D",optionKey:"answerD"}].map(e=>{let{optionLetter:t,optionKey:r}=e;return(0,l.jsx)(O,{optionLetter:t,optionKey:r,quizResponse:j},r)})}),(0,l.jsxs)(S.z,{align:"start",color:"fg.muted",mt:4,px:1,children:[(0,l.jsx)(o.P,{flexShrink:0,children:h.explanation}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(null==j||null==(n=j.quiz)?void 0:n.explanation)||"-"})]}),(0,l.jsxs)(S.z,{mt:4,justify:"end",children:[(0,l.jsxs)(s.t,{variant:"ghost",disabled:0===p,onClick:()=>{u(e=>e-1)},children:[(0,l.jsx)(T.I,{children:(0,l.jsx)(M.A,{stroke:1.5})}),h.previous]}),(0,l.jsxs)(s.t,{variant:"ghost",disabled:c&&p===(null==c||null==(a=c.exam)?void 0:a.length)-1,onClick:()=>{u(e=>e+1)},children:[h.next,(0,l.jsx)(T.I,{children:(0,l.jsx)(F.A,{stroke:1.5})})]})]})]}),(0,l.jsxs)(f.b,{w:["full",null,"fit"],h:"fit",gap:4,p:4,border:"1px solid",borderColor:"border.muted",children:[(0,l.jsx)(o.P,{fontWeight:"semibold",children:h.list_of_questions}),(0,l.jsx)(q.r,{columns:5,gap:2,w:"max",children:null==c||null==(d=c.exam)?void 0:d.map((e,t)=>{let r=p===t,i=e.isCorrect,n=!!e.selectedOption;return(0,l.jsx)(s.t,{iconButton:!0,size:"xs",variant:"outline",bg:n?i?"p.400":"fg.error":"",color:n?"white":"",border:"1px solid",borderColor:"body",boxShadow:r?"0 0 0 2px {colors.p.400}":"",onClick:()=>u(t),children:t+1},t)})}),(0,l.jsxs)(i.T,{gap:2,px:"2px",children:[(0,l.jsxs)(S.z,{children:[(0,l.jsx)(R.a,{w:"12px",aspectRatio:1,bg:"fg.success",border:"1px solid",borderColor:"fg.success",rounded:"xs"}),(0,l.jsx)(o.P,{children:h.correct_answer})]}),(0,l.jsxs)(S.z,{children:[(0,l.jsx)(R.a,{w:"12px",aspectRatio:1,bg:"fg.error",border:"1px solid",borderColor:"fg.error",rounded:"xs"}),(0,l.jsx)(o.P,{children:h.wrong_answer})]}),(0,l.jsxs)(S.z,{children:[(0,l.jsx)(R.a,{w:"12px",aspectRatio:1,bg:"bg.subtle",border:"1px solid",borderColor:"fg.subtle",rounded:"xs"}),(0,l.jsx)(o.P,{children:h.not_answered})]})]})]})]})};var I=r(70637),D=r(3455),K=r(93454),B=r(3370),N=r(35189),U=r(60439),V=r(96307),Y=r(46977),Z=r(2431),G=r(7791),W=r(50857),Q=r(30313);let H=(0,Q.A)("filled","star-filled","StarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]);var J=r(68034);let $=(0,Q.A)("outline","clipboard-check","ClipboardCheck",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]]);var X=r(20063);let ee="kmis_quiz_assessment",et=e=>{let{filter:t,setFilter:r,...s}=e;return(0,l.jsxs)(S.z,{p:3,...s,children:[(0,l.jsx)(c.A,{inputValue:t.search,onChange:e=>{r({...t,search:e})}}),(0,l.jsx)(u.F,{navKey:ee})]})},er=e=>{var t,r;let{item:c,...u}=e,{l:j}=(0,y.A)(),{themeConfig:g}=(0,K.p)(),{open:m,onOpen:k,onClose:z}=(0,W.j)();(0,B.A)((0,V.t6)("answer-detail-".concat(c.id)),m,k,z);let{error:_,initialLoading:C,data:R,onRetry:M}=(0,N.A)({url:"/api/kmis/learning-participant/show/".concat(c.id),dependencies:[m],conditions:m,dataResource:!1}),F={loading:(0,l.jsx)(x.E,{w:"full",h:"400px"}),error:(0,l.jsx)(b.A,{onRetry:M,h:"400px"}),empty:(0,l.jsx)(v.A,{h:"400px"}),loaded:(0,l.jsxs)(i.T,{gap:4,children:[(0,l.jsxs)(q.r,{columns:[1,null,2],gap:4,px:1,children:[(0,l.jsxs)(f.b,{rounded:g.radii.component,border:"1px solid",borderColor:"border.muted",children:[(0,l.jsx)(w.o,{borderless:!0,children:(0,l.jsx)(P.A,{children:(0,Z.kR)(j.basic_info)})}),(0,l.jsxs)(i.T,{gap:4,p:4,pt:2,children:[(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.name}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(p.v,{children:c.attemptUser.name})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:"Email"}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(p.v,{children:c.attemptUser.email})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.category}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(p.v,{children:c.topic.category.title})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.private_navs.kmis.topic}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(p.v,{children:c.topic.title})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.description}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(p.v,{children:c.topic.description})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.duration}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(0,Y.a3)(c.topic.quizDuration)})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.start_date_time}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(0,Y.Yq)(c.quizStarted,{variant:"numeric",withTime:!0})})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.end_date_time}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(0,Y.Yq)(c.quizFinished,{variant:"numeric",withTime:!0})})]})]})]}),(0,l.jsxs)(f.b,{rounded:g.radii.component,border:"1px solid",borderColor:"border.muted",children:[(0,l.jsx)(w.o,{borderless:!0,children:(0,l.jsx)(P.A,{children:(0,Z.kR)(j.quiz_info)})}),(0,l.jsxs)(i.T,{gap:4,p:4,pt:2,children:[(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.progress_status}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(A,{quizAttempStatus:c.attemptStatus})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.grade}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:"".concat(c.scoreTotal)})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.total_answered}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(0,Y.ZV)(c.questionsAnswered||0)})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.total_correct}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(0,Y.ZV)(c.correctCount)})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.total_wrong}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(0,Y.ZV)(c.wrongCount)})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.total_empty}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:(0,Y.ZV)(c.emptyCount)})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:"Rating"}),(0,l.jsx)(o.P,{children:":"}),c.feedback?(0,l.jsx)(S.z,{gap:1,children:Array.from({length:c.feedback},(e,t)=>(0,l.jsx)(T.I,{color:"yellow.500",boxSize:5,children:(0,l.jsx)(H,{})},t))}):"-"]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:"Feedback"}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(o.P,{children:c.feedbackComment||"-"})]}),(0,l.jsxs)(S.z,{align:"start",children:[(0,l.jsx)(o.P,{w:"120px",color:"fg.muted",flexShrink:0,children:j.certificate}),(0,l.jsx)(o.P,{children:":"}),(0,l.jsx)(d.k,{to:(0,G.iw)(null==(r=c.certificate)||null==(t=r[0])?void 0:t.filePath),external:!0,children:(0,l.jsxs)(s.t,{variant:"plain",p:0,h:"fit",color:"".concat(g.colorPalette,".fg"),children:[j.view,(0,l.jsx)(T.I,{boxSize:5,children:(0,l.jsx)(J.A,{stroke:1.5})})]})})]})]})]})]}),(0,l.jsx)(E,{quizResponses:R,px:1})]})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.T,{w:"fit",onClick:k,...u}),(0,l.jsx)(n.i0,{open:m,lazyLoad:!0,size:"xl",children:(0,l.jsxs)(n.L7,{children:[(0,l.jsx)(n.$Z,{children:(0,l.jsx)(a.G,{title:"".concat((0,Z.kR)(j.result_detail))})}),(0,l.jsxs)(n.Ql,{children:[C&&F.loading,!C&&(0,l.jsxs)(l.Fragment,{children:[_&&F.error,!_&&(0,l.jsxs)(l.Fragment,{children:[R&&F.loaded,!R&&F.empty]})]})]}),(0,l.jsx)(n.PK,{children:(0,l.jsx)(h.A,{})})]})})]})},el=e=>{var t,r;let{filter:i,routeTitle:n}=e,{l:a}=(0,y.A)(),d="table"===(0,D.a)(e=>e.getDisplay(ee)),{error:o,initialLoading:c,data:x,onRetry:h,limit:u,setLimit:f,page:w,setPage:P,pagination:k}=(0,N.A)({url:"".concat("/api/kmis/learning-participant","/index"),params:i,dependencies:[i]}),z={headers:[{th:a.private_navs.kmis.topic,sortable:!0},{th:a.private_navs.kmis.student,sortable:!0},{th:a.start_date_time,sortable:!0},{th:a.progress_status,sortable:!0,align:"center"},{th:a.grade,sortable:!0,align:"center"},{th:a.result_detail,align:"center"},{th:a.added,sortable:!0},{th:a.updated,sortable:!0},{th:a.deleted,sortable:!0}],rows:null==x?void 0:x.map((e,t)=>({id:e.id,idx:t,data:e,dim:!!e.deletedAt,columns:[{td:(0,l.jsx)(p.v,{children:e.topic.title}),value:e.topic.title},{td:(0,l.jsx)(p.v,{children:e.attemptUser.name}),value:e.attemptUser.name},{td:(0,Y.Yq)(e.quizStarted,{variant:"numeric",withTime:!0}),value:e.quizStarted},{td:(0,l.jsx)(A,{quizAttempStatus:e.attemptStatus}),value:e.attemptStatus,dataType:"number",align:"center"},{td:"".concat(e.scoreTotal),value:e.scoreTotal,dataType:"number",align:"center"},{td:(0,l.jsx)(er,{item:e,children:(0,l.jsxs)(s.t,{size:"xs",variant:d?"ghost":"outline",pl:"6px",children:[(0,l.jsx)(T.I,{boxSize:5,children:(0,l.jsx)($,{stroke:1.5})}),a.result_detail]})}),value:"",align:"center"},{td:(0,Y.Yq)(e.createdAt,{variant:"numeric",withTime:!0}),value:e.createdAt,dataType:"date",dashEmpty:!0},{td:(0,Y.Yq)(e.updatedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.updatedAt,dataType:"date"},{td:(0,Y.Yq)(e.deletedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.deletedAt,dataType:"date"}]}))},_={loading:(0,l.jsx)(I.Q,{}),error:(0,l.jsx)(b.A,{onRetry:h}),empty:(0,l.jsx)(v.A,{}),loaded:d?(0,l.jsx)(m.b,{headers:z.headers,rows:z.rows,rowOptions:z.rowOptions,batchOptions:z.batchOptions,limit:u,setLimit:f,page:w,setPage:P,totalPage:null==k||null==(t=k.meta)?void 0:t.last_page}):(0,l.jsx)(j.z,{data:x,dataProps:z,limit:u,setLimit:f,page:w,setPage:P,totalPage:null==k||null==(r=k.meta)?void 0:r.last_page,renderItem:e=>{var t,r;let{item:s,row:i,details:a,selectedRows:d,toggleRowSelection:o}=e;return(0,l.jsx)(g.G,{item:{id:s.id,showImg:!0,img:(0,G.JU)(null==(r=s.topic.topicCover)||null==(t=r[0])?void 0:t.filePath),title:s.topic.title,description:s.attemptUser.name},dataProps:z,row:i,selectedRows:d,toggleRowSelection:o,routeTitle:n,details:a},s.id)}})};return(0,l.jsxs)(l.Fragment,{children:[c&&_.loading,!c&&(0,l.jsxs)(l.Fragment,{children:[o&&_.error,!o&&(0,l.jsxs)(l.Fragment,{children:[x&&_.loaded,(!x||(0,U.VP)(x))&&_.empty]})]})]})};function es(){let{l:e}=(0,y.A)(),t=(0,X.usePathname)(),r=(0,G.xD)(t),s=(0,Z.Ds)(e,(0,U.HV)(r).labelKey),[i,n]=(0,L.useState)({search:""});return(0,l.jsx)(k.L,{children:(0,l.jsxs)(k.T,{children:[(0,l.jsx)(et,{filter:i,setFilter:n,routeTitle:s}),(0,l.jsx)(el,{filter:i,routeTitle:s})]})})}},54515:(e,t,r)=>{"use strict";r.d(t,{Ex:()=>i});let{PropsProvider:l,withContext:s}=(0,r(27318).a)({key:"badge"}),i=s("span");i.displayName="Badge"},57514:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(30313).A)("outline","table","Table",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]])},68595:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(30313).A)("outline","arrow-right","ArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]])},86430:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var l=r(95155),s=r(46426),i=r(92091),n=r(57514),a=r(38582),d=r(50572),o=r(3455);function c(e){let{navKey:t}=e,r=(0,o.a)(e=>e.displays),c=(0,o.a)(e=>e.setDisplay),x=(0,d.Q)(),h="table"===(r[t]||"table");return(0,l.jsxs)(s.t,{iconButton:x,size:"md",w:x?void 0:"100px",variant:"outline",onClick:()=>c(t,h?"grid":"table"),children:[(0,l.jsx)(i.I,{children:h?(0,l.jsx)(n.A,{stroke:1.5}):(0,l.jsx)(a.A,{stroke:1.5})}),!x&&(h?"Table":"Grid")]})}},89639:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var l=r(95155),s=r(76150);let i=e=>{let{children:t,borderless:r=!1,...i}=e;return(0,l.jsx)(s.z,{borderBottom:"1px solid",borderColor:r?"transparent":"border.subtle",justify:"space-between",wrap:"wrap",px:4,py:3,gap:4,...i,children:t})}},98488:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var l=r(95155),s=r(58226);let i=e=>{let{children:t,...r}=e;return(0,l.jsx)(s.P,{fontWeight:"semibold",...r,children:t})}}},e=>{e.O(0,[7596,586,9964,9320,1668,9595,6524,358,5246,6236,3783,4923,2946,1372,8832,819,5478,8902,806,4557,8441,4696,7358],()=>e(e.s=36909)),_N_E=e.O()}]);