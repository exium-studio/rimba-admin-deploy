(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9892],{1721:(e,t,l)=>{"use strict";l.d(t,{X:()=>o});var i=l(95155),r=l(46977),a=l(12115),n=l(40814);let o=(0,a.forwardRef)((e,t)=>{let{inputValue:l,onChange:o,placeholder:s="Input number",invalid:d,containerProps:c,formatFunction:u,formatted:p=!0,integer:h=!0,min:x=0,max:m,...v}=e,[j,g]=(0,a.useState)(""),f=(0,a.useRef)(null),b=(0,a.useRef)(null);return(0,a.useEffect)(()=>{"function"==typeof t?t(b.current):t&&(t.current=b.current)},[t]),(0,a.useEffect)(()=>{if(null!=l){let e=h&&"number"==typeof l?Math.round(l):l;g((p?u?u(e):(0,r.ZV)(e):e.toString())||"")}else g("")},[l,u,p,h]),(0,i.jsx)(n.Y,{ref:b,onChange:function(e){if(void 0===e)return;if(b.current&&(f.current=b.current.selectionStart),""===e.trim()){g(""),null==o||o(null);return}if(!/^[0-9.,]+$/.test(e))return;let t=e;if(t=h?t.replace(/[.,]/g,""):t.replace(/\./g,""),h&&(t=t.replace(/^0+(?=\d)/,"")),t.split(",")[0].length>15)return;let l=(e=>{if(!e)return null;let t=parseFloat(e.replace(/\./g,"").replace(",","."));return isNaN(t)?null:t})(t);if(void 0!==l){if(h&&(l=Math.round(l)),!Number.isSafeInteger(l))return;void 0!==m&&l>m&&(l=m,t=String(m)),void 0!==x&&l<x&&(l=x,t=String(x))}if(!p){g(t),void 0!==l&&(null==o||o(l));return}let i=t.replace(/\B(?=(\d{3})+(?!\d))/g,".");if(!h&&t.includes(",")){let e=t.split(",");i="".concat(e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),",").concat(e[1])}g(i),void 0!==l&&(null==o||o(l)),requestAnimationFrame(()=>{if(!b.current||null===f.current)return;let t=e.slice(0,f.current).replace(/[^0-9]/g,"").length,l=0,r=i.length;for(let e=0;e<i.length;e++)if(/[0-9]/.test(i[e])&&l++,l===t){r=e+1;break}b.current.setSelectionRange(r,r)})},inputValue:j,invalid:d,placeholder:s,containerProps:c,fontVariantNumeric:"tabular-nums",...v})});o.displayName="NumInput"},38752:(e,t,l)=>{"use strict";l.d(t,{X:()=>u});var i=l(95155),r=l(85897),a=l(25535),n=l(58226),o=l(85775),s=l(11698),d=l(7791),c=l(76150);let u=e=>{var t,l,u,p;let{user:h,...x}=e;return(0,i.jsxs)(c.z,{gap:3,...x,children:[(0,i.jsx)(o.E,{id:"avatar-".concat(h.id),src:(0,d.JU)(null==h||null==(l=h.photoProfile)||null==(t=l[0])?void 0:t.filePath),fallbackSrc:"".concat(s.CS,"/no-avatar.svg"),children:(0,i.jsx)(r.e,{src:(0,d.JU)(null==h||null==(p=h.photoProfile)||null==(u=p[0])?void 0:u.filePath),name:h.name,size:"sm"})}),(0,i.jsxs)(a.T,{children:[(0,i.jsx)(n.P,{lineHeight:1.2,children:h.name}),(0,i.jsx)(n.P,{fontSize:"sm",color:"fg.subtle",children:null==h?void 0:h.email})]})]})}},66277:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>eq});var i=l(95155),r=l(46426),a=l(25535),n=l(66825),o=l(95145),s=l(88121),d=l(98886),c=l(50851),u=l(54424),p=l(35891),h=l(88890),x=l(1721),m=l(58226),v=l(571),j=l(40814),g=l(31120),f=l(46767),b=l(86021),y=l(66168),P=l(80192),T=l(76539),_=l(86430),A=l(98064),q=l(63041),D=l(48930),z=l(50588),S=l(77141),C=l(85775),w=l(38752),k=l(65609),V=l(95345),I=l(36780),F=l(93885),R=l(40773),O=l(2431),E=l(12115);let L=e=>{let t="select_".concat("kmis_category"),{...l}=e,{l:r}=(0,I.A)(),a=(0,F.A)(e=>e.rt),{req:n,loading:o}=(0,R.A)({id:t,showLoadingToast:!1,showSuccessToast:!1}),[s,d]=(0,E.useState)();function c(){n({config:{url:"/api/kmis/public-request/get-all-category",method:"GET",params:{with_trashed:0,limit:"all"}},onResolve:{onSuccess:e=>{var t,l,i;d(null==e||null==(i=e.data)||null==(l=i.data)||null==(t=l.data)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.title})).sort((e,t)=>{var l;return null==e||null==(l=e.label)?void 0:l.localeCompare(null==t?void 0:t.label)}))}}})}return(0,E.useEffect)(()=>{c()},[a]),(0,i.jsx)(V.p,{id:t,title:(0,O.kR)(r.category),loading:o,selectOptions:s,fetch:c,...l})},Y=e=>{let t="select_".concat("kmis_educator"),{...l}=e,{l:r}=(0,I.A)(),{req:a,loading:n}=(0,R.A)({id:t,showLoadingToast:!1,showSuccessToast:!1}),[o,s]=(0,E.useState)();function d(){a({config:{url:"/api/public-request/get-all-user-educator-admin",method:"GET",params:{limit:"all"}},onResolve:{onSuccess:e=>{var t,l,i;s(null==e||null==(i=e.data)||null==(l=i.data)||null==(t=l.data)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.name})).sort((e,t)=>{var l;return null==e||null==(l=e.label)?void 0:l.localeCompare(null==t?void 0:t.label)}))}}})}return(0,E.useEffect)(()=>{d()},[]),(0,i.jsx)(V.p,{id:t,title:(0,O.kR)(r.educator),loading:n,selectOptions:o,fetch:d,...l})};var H=l(93736);let K=e=>{let{...t}=e,{l}=(0,I.A)(),[r]=(0,E.useState)(H.Io);return(0,i.jsx)(V.p,{id:"select_".concat("kmis_material_type"),title:(0,O.kR)(l.topic_type),selectOptions:r,...t})};var Z=l(70637),M=l(3455),N=l(93454),B=l(3370),Q=l(35189),J=l(50572),X=l(60439),U=l(32309),G=l(96307),$=l(46977),W=l(7791),ee=l(68502),et=l(50857),el=l(92091),ei=l(45554),er=l(76150),ea=l(54515),en=l(89712),eo=l(62251),es=l(93452),ed=l(61456),ec=l(94612),eu=l(41521),ep=l(20063),eh=l(35068);let ex="/api/kmis/topic",em="kmis_topic",ev=e=>{let{children:t,content:l,...r}=e;return(0,i.jsx)(f.m,{content:l,positioning:{placement:"right"},...r,children:t})},ej=e=>{var t,l;let a="".concat(em,"_create"),{routeTitle:s}=e,{l:c}=(0,I.A)(),{themeConfig:p}=(0,N.p)(),h=(0,F.A)(e=>e.setRt),m=(0,J.Q)(),{open:v,onOpen:b,onClose:y}=(0,et.j)();(0,B.A)((0,G.t6)(a),v,b,y);let{req:P,loading:_}=(0,R.A)({id:a,loadingMessage:{title:(0,O.ZH)("".concat(c.add," ").concat(s))},successMessage:{title:(0,O.ZH)("".concat(c.add," ").concat(s," ").concat(c.successful))}}),A=(0,eu.Wx)({validateOnChange:!1,initialValues:{files:null,category:null,topicType:null,userPic:null,title:"",description:"",quizDuration:null},validationSchema:eh.Ik().shape({files:(0,ee.q)({maxSizeMB:10,allowedExtensions:["jpg","jpeg","png"]}).required(c.msg_required_form),category:eh.YO().required(c.msg_required_form),topicType:eh.YO().required(c.msg_required_form),userPic:eh.YO().required(c.msg_required_form),title:eh.Yj().required(c.msg_required_form),description:eh.Yj().required(c.msg_required_form),quizDuration:eh.ai().when("topicType",(e,t)=>{var l;return Array.isArray(e)&&(null==(l=e[0])?void 0:l.id)==="Pelatihan"?t.required(c.msg_required_form):t.nullable()})}),onSubmit:(e,t)=>{var l,i,r,a,n;let{resetForm:o}=t;(0,U.aX)();let s=new FormData;s.append("files",null==(l=e.files)?void 0:l[0]),s.append("categoryId","".concat(null==(r=e.category)||null==(i=r[0])?void 0:i.id)),s.append("topicType","".concat(null==(n=e.topicType)||null==(a=n[0])?void 0:a.id)),e.userPic&&e.userPic.forEach(e=>s.append("userPic","".concat(e.id))),s.append("title",e.title),s.append("description",e.description),s.append("totalQuiz","0"),e.quizDuration&&s.append("quizDuration","".concat(60*e.quizDuration)),P({config:{url:"".concat(ex,"/create"),method:"POST",data:s},onResolve:{onSuccess:()=>{o(),h(e=>!e)}}})}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.m,{content:"".concat(c.add," data"),children:(0,i.jsxs)(r.t,{iconButton:!!m,size:"md",pl:m?"":3,colorPalette:p.colorPalette,onClick:b,children:[(0,i.jsx)(el.I,{children:(0,i.jsx)(en.A,{stroke:1.5})}),!m&&c.add]})}),(0,i.jsx)(n.i0,{open:v,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(n.L7,{children:[(0,i.jsx)(n.$Z,{children:(0,i.jsx)(o.G,{title:"".concat(c.add," ").concat(s)})}),(0,i.jsx)(n.Ql,{children:(0,i.jsx)("form",{id:a,onSubmit:A.handleSubmit,children:(0,i.jsxs)(ei.Rs,{disabled:_,children:[(0,i.jsx)(d.D,{label:c.category,invalid:!!A.errors.category,errorText:A.errors.category,children:(0,i.jsxs)(er.z,{w:"full",children:[(0,i.jsx)(L,{inputValue:A.values.category,onConfirm:e=>{A.setFieldValue("category",e)},flex:1}),(0,i.jsx)(T.i,{children:(0,i.jsx)(r.t,{iconButton:!0,variant:"outline",children:(0,i.jsx)(el.I,{children:(0,i.jsx)(en.A,{stroke:1.5})})})})]})}),(0,i.jsx)(d.D,{label:c.topic_type,invalid:!!A.errors.topicType,errorText:A.errors.topicType,children:(0,i.jsx)(K,{inputValue:A.values.topicType,onConfirm:e=>{A.setFieldValue("topicType",e)}})}),(0,i.jsx)(d.D,{label:"PIC ".concat(c.educator),invalid:!!A.errors.userPic,errorText:A.errors.userPic,children:(0,i.jsx)(Y,{multiple:!0,inputValue:A.values.userPic,onConfirm:e=>{A.setFieldValue("userPic",e)}})}),(0,i.jsx)(d.D,{label:"Thumbnail",invalid:!!A.errors.files,errorText:A.errors.files,children:(0,i.jsx)(u.u,{inputValue:A.values.files,onChange:e=>{A.setFieldValue("files",e)}})}),(0,i.jsx)(d.D,{label:c.title,invalid:!!A.errors.title,errorText:A.errors.title,children:(0,i.jsx)(j.Y,{inputValue:A.values.title,onChange:e=>{A.setFieldValue("title",e)}})}),(0,i.jsx)(d.D,{label:c.description,invalid:!!A.errors.description,errorText:A.errors.description,children:(0,i.jsx)(g.T,{inputValue:A.values.description,onChange:e=>{A.setFieldValue("description",e)}})}),(0,i.jsx)(d.D,{label:"".concat(c.quiz_duration," (").concat(c.minute.toLowerCase(),")"),invalid:!!A.errors.quizDuration,errorText:A.errors.quizDuration,disabled:(null==(l=A.values.topicType)||null==(t=l[0])?void 0:t.id)!=="Pelatihan",children:(0,i.jsx)(x.X,{inputValue:A.values.quizDuration,onChange:e=>{A.setFieldValue("quizDuration",e)}})})]})})}),(0,i.jsx)(n.PK,{children:(0,i.jsx)(r.t,{type:"submit",form:a,colorPalette:p.colorPalette,loading:_,children:c.add})})]})})]})},eg=e=>{var t;let{filter:l,setFilter:r,routeTitle:a,...n}=e,{l:o}=(0,I.A)();return(0,i.jsxs)(er.z,{p:3,...n,children:[(0,i.jsx)(v.A,{inputValue:l.search,onChange:e=>{r({...l,search:e})}}),(0,i.jsx)(K,{multiple:!0,inputValue:null==(t=l.topicType)?void 0:t.map(e=>({id:e,label:e})),onConfirm:e=>{r({...l,topicType:null==e?void 0:e.map(e=>e.id)})},placeholder:o.topic_type,w:"140px"}),(0,i.jsx)(_.F,{navKey:em}),(0,i.jsx)(ej,{routeTitle:a})]})},ef=e=>{let{data:t}=e,{l}=(0,I.A)(),r={id:t.id,label:t.title},a="?topic=".concat(encodeURIComponent(JSON.stringify(r)));return(0,i.jsx)(h.k,{to:"/kmis/material".concat(a),w:"full",children:(0,i.jsx)(ev,{content:l.private_navs.kmis.material,children:(0,i.jsx)(p.Dr,{value:"material",children:(0,i.jsx)(m.P,{lineClamp:1,children:l.private_navs.kmis.material})})})})},eb=e=>{let{data:t}=e,{l}=(0,I.A)(),r={id:t.id,label:t.title},a=(null==t?void 0:t.topicType)!=="Pelatihan",n="?topic=".concat(encodeURIComponent(JSON.stringify(r)));return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.k,{to:a?"#":"/kmis/quiz".concat(n),w:"full",children:(0,i.jsx)(ev,{content:l.private_navs.kmis.quiz,children:(0,i.jsx)(p.Dr,{value:"quiz",disabled:a,children:(0,i.jsx)(m.P,{lineClamp:1,children:l.private_navs.kmis.quiz})})})})})},ey=e=>{var t,l;let a="".concat(em,"_update"),{data:s,routeTitle:c}=e,{l:h}=(0,I.A)(),{themeConfig:m}=(0,N.p)(),v=(0,F.A)(e=>e.setRt),{open:f,onOpen:b,onClose:y}=(0,et.j)();(0,B.A)((0,G.t6)("".concat(a,"-").concat(null==s?void 0:s.id)),f,b,y);let{req:P,loading:_}=(0,R.A)({id:a,loadingMessage:{title:(0,O.ZH)("Edit ".concat(c))},successMessage:{title:(0,O.ZH)("Edit ".concat(c," ").concat(h.successful))}}),A=(0,eu.Wx)({validateOnChange:!1,initialValues:{files:null,category:null,topicType:null,userPic:null,title:"",description:"",materialOrder:[],totalQuiz:null,quizDuration:null,deleteDocumentIds:[]},validationSchema:eh.Ik().shape({files:(0,ee.q)({maxSizeMB:10,allowedExtensions:["jpg","jpeg","png"]}).concat((0,ee.$)({resolvedData:s,existingKey:"topicCover",deletedKey:"deleteDocumentIds",newKey:"files",message:h.msg_required_form})),category:eh.YO().required(h.msg_required_form),topicType:eh.YO().required(h.msg_required_form),userPic:eh.YO().required(h.msg_required_form),title:eh.Yj().required(h.msg_required_form),description:eh.Yj().required(h.msg_required_form),quizDuration:eh.ai().when("topicType",(e,t)=>{var l;return Array.isArray(e)&&(null==(l=e[0])?void 0:l.id)==="Pelatihan"?t.required(h.msg_required_form):t.nullable()})}),onSubmit:e=>{var t,l,i,r,a,n;(0,U.aX)();let o=new FormData;(null==(t=e.files)?void 0:t[0])&&o.append("files",e.files[0]),o.append("deleteDocumentIds",JSON.stringify(e.deleteDocumentIds)),o.append("categoryId","".concat(null==(i=e.category)||null==(l=i[0])?void 0:l.id)),o.append("topicType","".concat(null==(a=e.topicType)||null==(r=a[0])?void 0:r.id)),e.userPic&&e.userPic.forEach(e=>o.append("userPic","".concat(e.id))),o.append("title",e.title),o.append("description",e.description),o.append("materialOrderIds",JSON.stringify(null==(n=e.materialOrder)?void 0:n.map(e=>e.id))),o.append("totalQuiz","".concat(e.totalQuiz)),e.quizDuration&&o.append("quizDuration","".concat(60*e.quizDuration)),P({config:{url:"".concat(ex,"/update/").concat(s.id),method:"PATCH",data:o},onResolve:{onSuccess:()=>{v(e=>!e)}}})}});return(0,E.useEffect)(()=>{var e,t;A.setValues({files:[],category:[{id:null==(e=s.category)?void 0:e.id,label:null==(t=s.category)?void 0:t.title}],topicType:[{id:s.topicType,label:s.topicType}],userPic:s.userPic?s.userPic.map(e=>({id:e.id,label:e.name})):null,title:s.title,description:s.description,materialOrder:s.materialOrder,totalQuiz:s.totalQuiz,quizDuration:s.quizDuration?s.quizDuration/60:null,deleteDocumentIds:[]})},[f,s]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ev,{content:"Edit",children:(0,i.jsxs)(p.Dr,{value:"edit",onClick:b,children:["Edit",(0,i.jsx)(el.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(eo.A,{stroke:1.5})})]})}),(0,i.jsx)(n.i0,{open:f,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(n.L7,{children:[(0,i.jsx)(n.$Z,{children:(0,i.jsx)(o.G,{title:"Edit ".concat(c)})}),(0,i.jsx)(n.Ql,{children:(0,i.jsx)("form",{id:a,onSubmit:A.handleSubmit,children:(0,i.jsxs)(ei.Rs,{disabled:_,children:[(0,i.jsx)(d.D,{label:h.category,invalid:!!A.errors.category,errorText:A.errors.category,children:(0,i.jsxs)(er.z,{w:"full",children:[(0,i.jsx)(L,{inputValue:A.values.category,onConfirm:e=>{A.setFieldValue("category",e)},flex:1}),(0,i.jsx)(T.i,{children:(0,i.jsx)(r.t,{iconButton:!0,variant:"outline",children:(0,i.jsx)(el.I,{children:(0,i.jsx)(en.A,{stroke:1.5})})})})]})}),(0,i.jsx)(d.D,{label:h.topic_type,invalid:!!A.errors.topicType,errorText:A.errors.topicType,children:(0,i.jsx)(K,{inputValue:A.values.topicType,onConfirm:e=>{A.setFieldValue("topicType",e)}})}),(0,i.jsx)(d.D,{label:"PIC ".concat(h.educator),invalid:!!A.errors.userPic,errorText:A.errors.userPic,children:(0,i.jsx)(Y,{multiple:!0,inputValue:A.values.userPic,onConfirm:e=>{A.setFieldValue("userPic",e)}})}),(0,i.jsx)(d.D,{label:"Thumbnail",invalid:!!A.errors.files,errorText:A.errors.files,children:(0,i.jsx)(u.u,{inputValue:A.values.files,onChange:e=>{A.setFieldValue("files",e)},existingFiles:s.topicCover,onDeleteFile:e=>{A.setFieldValue("deleteDocumentIds",Array.from(new Set([...A.values.deleteDocumentIds,e.id])))},onUndoDeleteFile:e=>{A.setFieldValue("deleteDocumentIds",A.values.deleteDocumentIds.filter(t=>t!==e.id))}})}),(0,i.jsx)(d.D,{label:h.title,invalid:!!A.errors.title,errorText:A.errors.title,children:(0,i.jsx)(j.Y,{inputValue:A.values.title,onChange:e=>{A.setFieldValue("title",e)}})}),(0,i.jsx)(d.D,{label:h.description,invalid:!!A.errors.description,errorText:A.errors.description,children:(0,i.jsx)(g.T,{inputValue:A.values.description,onChange:e=>{A.setFieldValue("description",e)}})}),(0,i.jsx)(d.D,{label:"".concat(h.quiz_duration," (").concat(h.minute.toLowerCase(),")"),invalid:!!A.errors.quizDuration,errorText:A.errors.quizDuration,disabled:(null==(l=A.values.topicType)||null==(t=l[0])?void 0:t.id)!=="Pelatihan",children:(0,i.jsx)(x.X,{inputValue:A.values.quizDuration,onChange:e=>{A.setFieldValue("quizDuration",e)}})})]})})}),(0,i.jsx)(n.PK,{children:(0,i.jsx)(r.t,{type:"submit",form:a,colorPalette:m.colorPalette,loading:_,children:h.save})})]})})]})},eP=e=>{let t="".concat(em,"_restore"),{restoreIds:l,clearSelectedRows:r,disabled:a,routeTitle:n}=e,{l:o}=(0,I.A)(),s=(0,F.A)(e=>e.setRt),{req:d,loading:c}=(0,R.A)({id:t,loadingMessage:{title:(0,O.ZH)("".concat(o.restore," ").concat(n))},successMessage:{title:(0,O.ZH)("".concat(o.restore," ").concat(n," ").concat(o.successful))}});return(0,i.jsx)(P.H,{w:"full",id:"".concat(t,"-").concat(l),title:"".concat(o.restore," ").concat(n),description:o.msg_restore,confirmLabel:"".concat(o.restore),onConfirm:function(){(0,U.aX)(),d({config:{url:"".concat(ex,"/restore"),method:"PATCH",data:{restoreIds:l}},onResolve:{onSuccess:()=>{s(e=>!e),null==r||r()}}})},loading:c,disabled:a,children:(0,i.jsx)(ev,{content:o.restore,children:(0,i.jsxs)(p.Dr,{value:"restore",disabled:a,children:[o.restore,(0,i.jsx)(el.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(es.A,{stroke:1.5})})]})})})},eT=e=>{let t="".concat(em,"_delete"),{deleteIds:l,clearSelectedRows:r,disabled:a,routeTitle:n}=e,{l:o}=(0,I.A)(),s=(0,F.A)(e=>e.setRt),{req:d,loading:c}=(0,R.A)({id:t,loadingMessage:{title:(0,O.ZH)("".concat(o.delete_," ").concat(n))},successMessage:{title:(0,O.ZH)("".concat(o.delete_," ").concat(n," ").concat(o.successful))}});return(0,i.jsx)(P.H,{w:"full",id:"".concat(t,"-").concat(l),title:"".concat(o.delete_," ").concat(n),description:o.msg_soft_delete,confirmLabel:"".concat(o.delete_),onConfirm:function(){(0,U.aX)(),d({config:{url:"".concat(ex,"/delete"),method:"DELETE",data:{deleteIds:l}},onResolve:{onSuccess:()=>{s(e=>!e),null==r||r()}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},loading:c,disabled:a,children:(0,i.jsx)(ev,{content:o.delete_,children:(0,i.jsxs)(p.Dr,{value:"delete",color:"fg.error",disabled:a,children:[o.delete_,(0,i.jsx)(el.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(ed.A,{stroke:1.5})})]})})})},e_=e=>{var t;let{item:l,...r}=e,{l:s}=(0,I.A)(),{open:d,onOpen:c,onClose:u}=(0,et.j)();return(0,B.A)((0,G.t6)("educator-list-".concat(null==l?void 0:l.id)),d,c,u),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.T,{w:"fit",onClick:c,...r}),(0,i.jsx)(n.i0,{open:d,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(n.L7,{children:[(0,i.jsx)(n.$Z,{children:(0,i.jsx)(o.G,{title:"PIC ".concat(s.educator)})}),(0,i.jsxs)(n.Ql,{children:[(0,X.VP)(null==l?void 0:l.userPic)&&(0,i.jsx)(z.A,{}),!(0,X.VP)(null==l?void 0:l.userPic)&&(0,i.jsx)(a.T,{gap:4,children:null==l||null==(t=l.userPic)?void 0:t.map(e=>(0,i.jsx)(w.X,{user:e},null==e?void 0:e.id))})]}),(0,i.jsx)(n.PK,{children:(0,i.jsx)(b.A,{})})]})})]})},eA=e=>{var t,l;let{filter:a,routeTitle:n}=e,{l:o}=(0,I.A)(),d="table"===(0,M.a)(e=>e.getDisplay(em)),{error:u,initialLoading:p,data:h,onRetry:x,limit:m,setLimit:v,page:j,setPage:g,pagination:f}=(0,Q.A)({initialData:void 0,url:"".concat(ex,"/index"),params:a,dependencies:[a]}),b={headers:[{th:"Thumbnail",align:"center"},{th:o.title,sortable:!0},{th:o.description,sortable:!0},{th:o.category,sortable:!0},{th:o.topic_type,sortable:!0},{th:"PIC ".concat(o.educator)},{th:o.added,sortable:!0},{th:o.updated,sortable:!0},{th:o.deleted,sortable:!0}],rows:null==h?void 0:h.map((e,t)=>{var l,a,n,s,u,p,h,x;return{id:e.id,idx:t,data:e,dim:!!e.deletedAt,columns:[{td:(0,i.jsx)(C.E,{id:"topic-cover-".concat(e.id),src:(0,W.JU)(null==e||null==(a=e.topicCover)||null==(l=a[0])?void 0:l.filePath),children:(0,i.jsx)(c.E,{src:(0,W.JU)(null==e||null==(s=e.topicCover)||null==(n=s[0])?void 0:n.filePath),h:"24px",aspectRatio:1.1},(0,W.JU)(null==e||null==(p=e.topicCover)||null==(u=p[0])?void 0:u.filePath))}),value:(0,W.JU)(null==e||null==(x=e.topicCover)||null==(h=x[0])?void 0:h.filePath),dataType:"image",align:"center"},{td:(0,i.jsx)(y.v,{children:"".concat(e.title)}),value:e.title},{td:(0,i.jsx)(y.v,{children:"".concat(e.description)}),value:e.description},{td:(0,i.jsx)(y.v,{children:"".concat(e.category.title)}),value:e.category.title},{td:(0,i.jsx)(y.v,{children:"".concat(e.topicType)}),value:e.topicType},{td:(0,i.jsx)(e_,{item:e,children:(0,i.jsxs)(r.t,{size:"xs",variant:d?"ghost":"outline",pl:"6px",children:[(0,i.jsx)(el.I,{boxSize:5,children:(0,i.jsx)(ec.A,{stroke:1.5})}),"PIC ".concat(o.educator)]})}),value:"",align:"center"},{td:(0,$.Yq)(e.createdAt,{variant:"numeric",withTime:!0}),value:e.createdAt,dataType:"date",dashEmpty:!0},{td:(0,$.Yq)(e.updatedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.updatedAt,dataType:"date"},{td:(0,$.Yq)(e.deletedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.deletedAt,dataType:"date"}]}}),rowOptions:[e=>({override:(0,i.jsx)(ey,{data:e.data,routeTitle:n})}),e=>({override:(0,i.jsx)(eP,{restoreIds:[e.data.id],disabled:!e.data.deletedAt,routeTitle:n})}),e=>({override:(0,i.jsx)(eT,{deleteIds:[e.data.id],disabled:!!e.data.deletedAt,routeTitle:n})}),e=>({override:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.c,{my:1}),(0,i.jsx)(ef,{data:e.data})]})}),e=>({override:(0,i.jsx)(eb,{data:e.data})})],batchOptions:[(e,t)=>{let{clearSelectedRows:l}=t;return{override:(0,i.jsx)(eP,{restoreIds:e,clearSelectedRows:l,disabled:(0,X.VP)(e)||(null==h?void 0:h.filter(t=>e.includes(t.id)).some(e=>!e.deletedAt)),routeTitle:n})}},(e,t)=>{let{clearSelectedRows:l}=t;return{override:(0,i.jsx)(eT,{deleteIds:e,clearSelectedRows:l,disabled:(0,X.VP)(e)||(null==h?void 0:h.filter(t=>e.includes(t.id)).some(e=>!!e.deletedAt)),routeTitle:n})}}]},P={loading:(0,i.jsx)(Z.Q,{}),error:(0,i.jsx)(S.A,{onRetry:x}),empty:(0,i.jsx)(z.A,{}),loaded:d?(0,i.jsx)(D.b,{headers:b.headers,rows:b.rows,rowOptions:b.rowOptions,batchOptions:b.batchOptions,limit:m,setLimit:v,page:j,setPage:g,totalPage:null==f||null==(t=f.meta)?void 0:t.last_page}):(0,i.jsx)(A.z,{data:h,dataProps:b,limit:m,setLimit:v,page:j,setPage:g,totalPage:null==f||null==(l=f.meta)?void 0:l.last_page,renderItem:e=>{var t,l;let{item:r,row:a,details:o,selectedRows:s,toggleRowSelection:d}=e;return(0,i.jsx)(q.G,{item:{id:r.id,showImg:!0,img:(0,W.JU)(null==(l=r.topicCover)||null==(t=l[0])?void 0:t.filePath),title:(0,i.jsxs)(er.z,{pos:"relative",children:[(0,i.jsx)(y.v,{w:"full",fontWeight:"semibold",lineClamp:1,children:r.title}),(0,i.jsx)(ea.Ex,{pos:"absolute",top:"-40px",left:-1,lineClamp:1,maxW:"100px",children:(0,i.jsx)(y.v,{w:"full",fontSize:"xs",mt:"1.5px",children:r.category.title})})]}),description:r.description,deletedAt:r.deletedAt},dataProps:b,row:a,selectedRows:s,toggleRowSelection:d,routeTitle:n,details:o},r.id)}})};return(0,i.jsxs)(i.Fragment,{children:[p&&P.loading,!p&&(0,i.jsxs)(i.Fragment,{children:[u&&P.error,!u&&(0,i.jsxs)(i.Fragment,{children:[h&&P.loaded,(!h||(0,X.VP)(h))&&P.empty]})]})]})};function eq(){let{l:e}=(0,I.A)(),t=(0,ep.usePathname)(),l=(0,W.xD)(t),r=(0,O.Ds)(e,(0,X.HV)(l).labelKey),[a,n]=(0,E.useState)({search:"",topicType:["Pelatihan","Pengetahuan"]});return(0,i.jsx)(k.L,{children:(0,i.jsxs)(k.T,{children:[(0,i.jsx)(eg,{filter:a,setFilter:n,routeTitle:r}),(0,i.jsx)(eA,{filter:a,routeTitle:r})]})})}},76539:(e,t,l)=>{"use strict";l.d(t,{i:()=>T});var i=l(95155),r=l(46426),a=l(25535),n=l(66825),o=l(95145),s=l(98886),d=l(40814),c=l(31120),u=l(36780),p=l(93885),h=l(93454),x=l(3370),m=l(40773),v=l(32309),j=l(2431),g=l(45554),f=l(50857),b=l(41521),y=l(35068);let P=e=>{let t="".concat("kmis_category","_create"),{open:l}=e,{l:a}=(0,u.A)(),{themeConfig:x}=(0,h.p)(),f=(0,p.A)(e=>e.setRt),P=a.settings_navs.kmis_master_data.topic_category,{req:T,loading:_}=(0,m.A)({id:t,loadingMessage:{title:(0,j.ZH)("".concat(a.add," ").concat(P))},successMessage:{title:(0,j.ZH)("".concat(a.add," ").concat(P," ").concat(a.successful))}}),A=(0,b.Wx)({validateOnChange:!1,initialValues:{title:"",description:""},validationSchema:y.Ik().shape({title:y.Yj().required(a.msg_required_form),description:y.Yj().required(a.msg_required_form)}),onSubmit:(e,t)=>{let{resetForm:l}=t;(0,v.aX)();let i=new FormData;i.append("title",e.title),i.append("description",e.description),T({config:{url:"".concat("/api/kmis/category","/create"),method:"POST",data:i},onResolve:{onSuccess:()=>{f(e=>!e),l()}}})}});return(0,i.jsx)(n.i0,{open:l,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(n.L7,{children:[(0,i.jsx)(n.$Z,{children:(0,i.jsx)(o.G,{title:"".concat(a.add," ").concat(P)})}),(0,i.jsx)(n.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:A.handleSubmit,children:(0,i.jsxs)(g.Rs,{disabled:_,children:[(0,i.jsx)(s.D,{label:a.name,invalid:!!A.errors.title,errorText:A.errors.title,children:(0,i.jsx)(d.Y,{inputValue:A.values.title,onChange:e=>{A.setFieldValue("title",e)}})}),(0,i.jsx)(s.D,{label:a.description,invalid:!!A.errors.description,errorText:A.errors.description,children:(0,i.jsx)(c.T,{inputValue:A.values.description,onChange:e=>{A.setFieldValue("description",e)}})})]})})}),(0,i.jsx)(n.PK,{children:(0,i.jsx)(r.t,{type:"submit",form:t,colorPalette:x.colorPalette,loading:_,children:a.add})})]})})},T=e=>{let{children:t,id:l,...r}=e,{open:n,onOpen:o,onClose:s}=(0,f.j)();return(0,x.A)(l||"create-kmis-category",n,o,s),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.T,{w:"fit",onClick:o,...r,children:t}),(0,i.jsx)(P,{open:n})]})}},85897:(e,t,l)=>{"use strict";l.d(t,{e:()=>n});var i=l(95155),r=l(91980),a=l(12115);let n=(0,a.forwardRef)(function(e,t){let{name:l,src:a,srcSet:n,loading:s,icon:d,fallback:c,children:u,...p}=e;return(0,i.jsxs)(r.Cy,{ref:t,...p,children:[(0,i.jsx)(o,{name:l,icon:d,children:c}),(0,i.jsx)(r.BK,{src:a,srcSet:n,loading:s}),u]})}),o=(0,a.forwardRef)(function(e,t){let{name:l,icon:a,children:n,...o}=e;return(0,i.jsxs)(r.q5,{ref:t,...o,children:[n,null!=l&&null==n&&(0,i.jsx)(i.Fragment,{children:function(e){let t=e.trim().split(" "),l=null!=t[0]?t[0]:"",i=t.length>1?t[t.length-1]:"";return l&&i?"".concat(l.charAt(0)).concat(i.charAt(0)):l.charAt(0)}(l)}),null==l&&null==n&&(0,i.jsx)(r.hS,{asChild:!!a,children:a})]})})},88121:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});var i=l(95155),r=l(8898);let a=e=>{let{dir:t="horizontal",...l}=e;return"horizontal"===t?(0,i.jsx)(r.a,{w:"full",h:"1px",bg:"d2",...l}):(0,i.jsx)(r.a,{w:"1px",h:"full",bg:"d2",...l})}},89640:(e,t,l)=>{Promise.resolve().then(l.bind(l,66277))},93736:(e,t,l)=>{"use strict";l.d(t,{Io:()=>n,LR:()=>r,TX:()=>i,um:()=>o,vI:()=>a});let i=[{id:1,label:"Budha"},{id:2,label:"Hindu"},{id:3,label:"Islam"},{id:4,label:"Katolik"},{id:5,label:"Konghucu"},{id:6,label:"Kristen"}],r=[{id:"text",label:"Text"},{id:"gambar",label:"Gambar"},{id:"video",label:"Video"},{id:"dokumen",label:"Dokumen"}],a=[{id:"A",label:"A"},{id:"B",label:"B"},{id:"C",label:"C"},{id:"D",label:"D"}],n=[{id:"Pelatihan",label:"Pelatihan"},{id:"Pengetahuan",label:"Pengetahuan"}],o=[{id:"Swakelola 1",label:"Swakelola 1"},{id:"Swakelola 2",label:"Swakelola 2"},{id:"Swakelola 3",label:"Swakelola 3"},{id:"Kontraktual",label:"Kontraktual"}]}},e=>{e.O(0,[7596,586,9964,9320,1668,9595,6524,358,5246,6351,9872,7368,5309,3783,4289,1372,2619,7267,8128,8637,8832,819,5478,456,6776,7230,8441,4696,7358],()=>e(e.s=89640)),_N_E=e.O()}]);