(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8072],{571:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var l=s(95155),n=s(40814),i=s(36780),a=s(12115),r=s(90946),o=s(92091),c=s(76150),d=s(77252),u=s(20063),h=s(46767);function p(e){let{inputRef:t,inputValue:s,onChange:p,tooltipLabel:x,placeholder:g,additionalPlaceholder:m="",inputProps:j,icon:v,iconProps:f,invalid:b=!1,noIcon:y=!1,debounceTime:w=500,queryKey:_="q",...k}=e,{l:A}=(0,i.A)(),S=(0,u.useSearchParams)(),K=function(e,t){let s=(0,a.useRef)(null);return function(){for(var l=arguments.length,n=Array(l),i=0;i<l;i++)n[i]=arguments[i];s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{e(...n)},t)}}(e=>{null==p||p(e)},w),[P,z]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=S.get(_);null!==e?(z(e),null==p||p(e)):(z(s||""),null==p||p(s||""))},[s,_]),(0,a.useEffect)(()=>{let e=new URLSearchParams(S.toString());P?e.set(_,P):e.delete(_),window.history.replaceState(null,"","?".concat(e.toString()))},[P,_]),(0,l.jsx)(h.m,{content:x||g||A.search,children:(0,l.jsx)(r.M,{w:"full",startElement:!y&&(0,l.jsx)(o.I,{boxSize:5,color:"fg.subtle",...f,children:v||(0,l.jsx)(d.A,{})}),...k,children:(0,l.jsx)(c.z,{position:"relative",w:"full",children:(0,l.jsx)(n.Y,{ref:t||null,pl:y?4:10,placeholder:g||"".concat(A.search," ").concat(m),pr:"40px",onChange:e=>{let t=e||"";z(t),K(t)},inputValue:P,boxShadow:"none !important",borderColor:b?"border.error":"border.muted",...j})})})})}},7791:(e,t,s)=>{"use strict";s.d(t,{JU:()=>i,iw:()=>a,xD:()=>n});var l=s(56812);function n(e){let t=s=>{for(let l of s){if(l.path===e)return[l];if(l.subMenus){for(let e of l.subMenus)if(e.list){let s=t(e.list);if(s)return[l,...s]}}}return null};for(let e of l.v){let s=t(e.list);if(s)return s}for(let e of l.KS){let s=t(e.list);if(s)return s}return[]}function i(e){if(e)return"".concat("https://rimba.webgis.app/cms").concat(e.startsWith("/")?"":"/").concat(e)}function a(e){if(e)return"".concat("https://rimba.webgis.app/cms").concat(e.startsWith("/")?"":"/").concat(e)}},17772:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var l=s(32309),n=s(25959);let i="dateFormat",a=(0,n.v)(e=>({dateFormat:(()=>{try{let e=(0,l.c7)(i);if(e)return e;(0,l.cT)(i,"dmy")}catch(e){console.error("Failed to access dateFormat from localStorage:",e)}return"dmy"})(),setDateFormat:t=>e(e=>e.dateFormat!==t?((0,l.cT)(i,t),{dateFormat:t}):e)}))},26333:(e,t,s)=>{"use strict";s.d(t,{Wv:()=>d,hl:()=>c,yt:()=>o});var l=s(95155),n=s(87909),i=s(58579),a=s(12115);s(12175);var r=s(93454);let o=e=>{let{children:t,...s}=e;return(0,l.jsx)(n.yt,{autoFocus:!1,...s,children:t})},c=(0,a.forwardRef)(function(e,t){let{themeConfig:s}=(0,r.p)(),{portalled:a=!0,portalRef:o,...c}=e;return(0,l.jsx)(i.Z,{disabled:!a,container:o,children:(0,l.jsx)(n.Ug,{children:(0,l.jsx)(n.hl,{ref:t,p:0,bg:"body",border:"1px solid",borderColor:"d1",rounded:s.radii.container,shadow:"none",className:"ss",...c})})})});n.eO,n.ui,n.Nq,n.DI,n.ej;let d=n.Wv},33788:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eb});var l=s(95155),n=s(75128),i=s(76150),a=s(12115),r=s(53380);let o=(0,a.forwardRef)(function(e,t){let{children:s,indicatorPlacement:a="end",...o}=e;return(0,l.jsxs)(n.Sx,{...o,ref:t,children:["start"===a&&(0,l.jsx)(n.Fr,{boxSize:5,rotate:{base:"-90deg",_open:"0deg"},children:(0,l.jsx)(r.zrT,{})}),(0,l.jsx)(i.z,{gap:"4",flex:"1",textAlign:"start",width:"full",children:s}),"end"===a&&(0,l.jsx)(n.Fr,{children:(0,l.jsx)(r.zrT,{})})]})}),c=(0,a.forwardRef)(function(e,t){return(0,l.jsx)(n.b,{rounded:"0 !important",children:(0,l.jsx)(n.i$,{...e,ref:t})})}),d=n.Xl,u=n.As;var h=s(85897),p=s(46426),x=s(25535),g=s(88121),m=s(35891),j=s(88890),v=s(58226),f=s(26333),b=s(571),y=s(46767),w=s(86021),_=s(74816),k=s(46977);function A(e){let{showSeconds:t=!1,showTimezone:s=!0,...n}=e,r=(0,_.A)(e=>e.timeZone),o=null==r?void 0:r.key,[c,d]=(0,a.useState)(()=>(0,k.fU)(u(),{showSeconds:t,timezoneKey:o}));function u(){let e=new Date,t=String(e.getUTCHours()).padStart(2,"0"),s=String(e.getUTCMinutes()).padStart(2,"0"),l=String(e.getUTCSeconds()).padStart(2,"0");return"".concat(t,":").concat(s,":").concat(l)}return(0,a.useEffect)(()=>{let e=()=>d((0,k.fU)(u(),{showSeconds:t,timezoneKey:o}));e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[t,o]),(0,l.jsxs)(i.z,{...n,children:[s&&(0,l.jsx)(v.P,{color:"fg.subtle",children:r.formattedOffset}),(0,l.jsx)(v.P,{children:c})]})}var S=s(84528),K=s(55803),P=s(50851),z=s(80192),T=s(78393),R=s(11698),C=s(64254),D=s(36780),E=s(93454),M=s(40773),I=s(22484),L=s(32309),F=s(92091),N=s(68113),W=s(69950),H=s(20063);let U=e=>{let{l:t}=(0,D.A)(),{themeConfig:s}=(0,E.p)(),n=(0,C.A)(e=>e.removeAuth),{req:i}=(0,M.A)({id:"sign_out",loadingMessage:{...t.loading_signout},successMessage:{...t.success_signout}}),a=(0,H.useRouter)();a.prefetch("/");let r=(0,I.gL)();return(0,l.jsxs)(x.T,{rounded:s.radii.container,overflow:"clip",color:"ibody",...e,children:[(0,l.jsxs)(x.T,{children:[(0,l.jsx)(P.E,{src:(null==r?void 0:r.avatar)||"".concat(R.CS,"/no-avatar.svg"),alt:"avatar",aspectRatio:1}),(0,l.jsxs)(x.T,{bg:"body",p:4,borderColor:"border.muted",children:[(0,l.jsx)(v.P,{fontWeight:"semibold",children:(null==r?void 0:r.name)||"Signed out"}),(0,l.jsx)(v.P,{color:"fg.subtle",children:(null==r?void 0:r.email)||(null==r?void 0:r.username)||"-"})]})]}),(0,l.jsx)(g.c,{}),(0,l.jsxs)(x.T,{gap:1,p:"6px",children:[(0,l.jsx)(T.E,{w:"full",children:(0,l.jsxs)(p.t,{clicky:!1,px:2,variant:"ghost",justifyContent:"start",pos:"relative",children:[(0,l.jsx)(F.I,{boxSize:5,children:(0,l.jsx)(N.A,{stroke:1.5})}),"Reset password"]})}),(0,l.jsx)(z.H,{id:"signout",title:"Sign out",description:t.msg_signout,confirmLabel:"Sign out",onConfirm:function(){(0,L.aX)(),i({config:{url:"/api/signout",method:"GET"},onResolve:{onSuccess:()=>{(0,L.Od)("__auth_token"),(0,L.Od)("__user_data"),n(),a.push("/")},onError:()=>{n(),a.push("/")}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},w:"full",children:(0,l.jsxs)(p.t,{clicky:!1,px:2,variant:"ghost",color:"fg.error",justifyContent:"start",children:[(0,l.jsx)(F.I,{boxSize:5,children:(0,l.jsx)(W.A,{stroke:1.5})}),"Sign out"]})})]})]})};var V=s(87936),B=s(17772);let J=e=>{let{dateVariant:t="weekdayDayShortMonthYear",...s}=e,n=(0,_.A)(e=>e.timeZone),i=(0,B.A)(e=>e.dateFormat);return(0,l.jsx)(v.P,{...s,children:(0,k.Yq)(new Date().toISOString(),{variant:t,dateFormat:i,timezoneKey:n.key})})};var O=s(18653),q=s(7579),Y=s(93343);let Z=e=>{let{...t}=e;return(0,l.jsx)(x.T,{justify:"center",align:"center",minH:"100dvh",w:"100vw",...t,children:(0,l.jsxs)(q.o,{pos:"relative",color:"fg.subtle",children:[(0,l.jsx)(F.I,{boxSize:8,children:(0,l.jsx)(Y.A,{})}),(0,l.jsx)(O.A,{boxSize:"50px",pos:"absolute"})]})})};var Q=s(56812),G=s(52012),X=s(25959);let $="navsExpanded",ee=null===(0,L.c7)($)||"true"===(0,L.c7)($),et=(0,X.v)((e,t)=>({navsExpanded:ee,setNavsExpanded:s=>{let l="function"==typeof s?s(t().navsExpanded):s;(0,L.cT)($,String(l)),e({navsExpanded:l})},toggleNavsExpanded:()=>{let s=!t().navsExpanded;(0,L.cT)($,String(s)),e({navsExpanded:s})}}));var es=s(50572),el=s(17516),en=s(60439),ei=s(2431),ea=s(7791),er=s(77535),eo=s(30889),ec=s(58255),ed=s(30137),eu=s(55048),eh=s(78171);let ep="gray",ex="bgContent",eg=e=>{let{children:t,...s}=e;return(0,l.jsx)(y.m,{positioning:{placement:"right",offset:{mainAxis:16}},...s,children:t})},em=e=>{let{backPath:t,resolvedActiveNavs:s,...n}=e,{l:a}=(0,D.A)();return(0,l.jsxs)(i.z,{...n,children:[t&&(0,l.jsx)(w.A,{iconButton:!0,clicky:!1,backPath:t}),s.map((e,s)=>(0,l.jsxs)(i.z,{children:[0!==s&&(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)(F.I,{boxSize:5,color:"fg.subtle",children:(0,l.jsx)(eo.A,{stroke:1.5})}),!t&&(0,l.jsx)(K.P3,{color:"d4"})]}),(0,l.jsx)(v.P,{fontSize:"lg",fontWeight:"semibold",lineClamp:1,children:(0,ei.Ds)(a,e.labelKey)})]},s))]})},ej=e=>{let{children:t,...s}=e;return(0,l.jsx)(j.k,{minW:"50px",align:"center",gap:1,pos:"relative",...s,children:t})},ev=e=>{var t,s;let{children:n,...r}=e,{l:o}=(0,D.A)(),c=(0,H.usePathname)(),{sw:d}=(0,el.A)(),u=(0,I.gL)(),p=(0,ea.xD)(c),g=d<360?[p[p.length-1]]:p,b=null==(t=(0,en.HV)(p))?void 0:t.backPath,y=c.includes("/settings"),w=c.includes("/profile");return(0,l.jsxs)(x.T,{flex:1,overflowY:"auto",...r,children:[(0,l.jsxs)(x.T,{flex:1,bg:ex,overflowY:"auto",children:[(0,l.jsxs)(x.T,{children:[(0,l.jsxs)(i.z,{w:"full",justify:"space-between",pt:2,px:4,children:[(0,l.jsx)(V.T,{h:"20px",gap:1}),(0,l.jsxs)(i.z,{children:[(0,l.jsx)(A,{showTimezone:d>320}),(0,l.jsx)(J,{dateVariant:"numeric"})]})]}),(0,l.jsx)(i.z,{gap:4,h:"52px",p:4,justify:"space-between",children:(0,l.jsx)(em,{backPath:b,resolvedActiveNavs:g,ml:b?-1:0})})]}),n]}),(0,l.jsxs)(i.z,{gap:4,px:4,pt:3,pb:5,borderTop:"1px solid",borderColor:"border.subtle",overflowX:"auto",children:[Q.v.map((e,t)=>(0,l.jsx)(a.Fragment,{children:e.list.map(e=>{let t=c.includes(e.path);return(0,l.jsxs)(a.Fragment,{children:[e.subMenus&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(m.il,{positioning:{placement:"top",offset:{mainAxis:22}},children:[(0,l.jsx)(m.cQ,{asChild:!0,children:(0,l.jsxs)(x.T,{minW:"50px",align:"center",gap:1,color:t?"":"fg.muted",pos:"relative",cursor:"pointer",children:[(0,l.jsx)(F.I,{boxSize:6,children:(0,l.jsx)(e.icon,{stroke:1.5})}),(0,l.jsx)(v.P,{fontSize:"sm",textAlign:"center",lineClamp:1,children:(0,ei.Ds)(o,e.labelKey)}),t&&(0,l.jsx)(K.HI,{})]},e.path)}),(0,l.jsx)(m.rm,{children:e.subMenus.map((e,t)=>(0,l.jsx)(m.Uh,{title:e.groupLabelKey?(0,ei.Ds)(o,e.groupLabelKey):"",children:e.list.map(e=>{let t=c===e.path;return(0,l.jsx)(j.k,{to:e.path,w:"full",children:(0,l.jsxs)(m.Dr,{value:e.path,h:"44px",children:[(0,l.jsx)(v.P,{lineClamp:1,children:(0,ei.Ds)(o,e.labelKey)}),t&&(0,l.jsx)(K.P3,{ml:"auto",mr:1})]})},e.path)})},t))})]})}),!e.subMenus&&(0,l.jsxs)(ej,{to:e.subMenus?"":e.path,color:t?"":"fg.muted",children:[(0,l.jsx)(F.I,{boxSize:6,children:(0,l.jsx)(e.icon,{stroke:1.5})}),(0,l.jsx)(v.P,{textAlign:"center",lineClamp:1,fontSize:"sm",children:(0,ei.Ds)(o,e.labelKey)}),t&&(0,l.jsx)(K.HI,{})]},e.path)]},e.path)})},t)),(0,l.jsxs)(ej,{to:"/settings",color:y?"":"fg.muted",children:[(0,l.jsx)(F.I,{boxSize:6,children:(0,l.jsx)(ec.A,{stroke:1.5})}),(0,l.jsx)(v.P,{textAlign:"center",lineClamp:1,fontSize:"sm",children:o.settings}),y&&(0,l.jsx)(K.HI,{})]}),(0,l.jsxs)(f.yt,{positioning:{placement:"top",offset:{mainAxis:22}},children:[(0,l.jsx)(f.Wv,{asChild:!0,children:(0,l.jsxs)(ej,{children:[(0,l.jsx)(h.e,{src:null==u||null==(s=u.photoProfile)?void 0:s.fileUrl,name:null==u?void 0:u.name,size:"2xs"}),(0,l.jsx)(v.P,{fontSize:"sm",textAlign:"center",color:w?"":"fg.muted",lineClamp:1,children:o.profile}),w&&(0,l.jsx)(K.HI,{})]})}),(0,l.jsx)(f.hl,{w:"200px",zIndex:10,children:(0,l.jsx)(U,{})})]})]})]})},ef=e=>{var t,s,n;let{children:r,...w}=e,{l:_}=(0,D.A)(),{themeConfig:k}=(0,E.p)(),P=et(e=>e.navsExpanded),z=et(e=>e.toggleNavsExpanded),T=(0,H.usePathname)(),{sw:R}=(0,el.A)(),C=(0,a.useRef)(null),M=(0,I.gL)(),L=(0,ea.xD)(T),N=R<960?[L[L.length-1]]:L,W=null==(t=(0,en.HV)(L))?void 0:t.backPath,[B,O]=(0,a.useState)(""),Y=null==M||null==(s=M.role)?void 0:s.id,Z=(null!=B?B:"").toLowerCase(),X=Q.v.map(e=>{if(!Z){let t=e.list.map(e=>{if(e.subMenus&&e.subMenus.length>0){let t=e.subMenus.map(e=>{var t;return{...e,list:(null!=(t=e.list)?t:[]).filter(e=>!e.allowedRoles||0===e.allowedRoles.length||Y&&e.allowedRoles.includes(Y))}});return t.some(e=>e.list.length>0)?{...e,subMenus:t}:null}return!e.allowedRoles||0===e.allowedRoles.length||Y&&e.allowedRoles.includes(Y)?e:null}).filter(Boolean);return t.length>0?{...e,list:t}:null}let t=e.list.flatMap(e=>{var t;return e.subMenus&&e.subMenus.length>0?e.subMenus.flatMap(e=>{var t;return(null!=(t=e.list)?t:[]).filter(e=>{var t;return!!(!e.allowedRoles||0===e.allowedRoles.length||Y&&e.allowedRoles.includes(Y))&&(null==(t=(0,ei.Ds)(_,e.labelKey))?void 0:t.toLowerCase().includes(Z))})}):(!e.allowedRoles||0===e.allowedRoles.length||Y&&e.allowedRoles.includes(Y))&&(null==(t=(0,ei.Ds)(_,e.labelKey))?void 0:t.toLowerCase().includes(Z))?[e]:[]});return t.length>0?{...e,list:t}:null}).filter(Boolean);return(0,a.useEffect)(()=>{if(P){var e;null==(e=C.current)||e.focus()}else O("")},[P]),(0,l.jsxs)(i.z,{align:"stretch",gap:0,h:"100dvh",bg:"body",color:"ibody",overflowY:"auto",...w,children:[(0,l.jsxs)(x.T,{flexShrink:0,w:P?"250px":"54px",gap:6,transition:"200ms",children:[(0,l.jsxs)(x.T,{gap:1,p:2,children:[!P&&(0,l.jsx)(j.k,{to:"/",children:(0,l.jsx)(q.o,{w:"40px",h:"40px",mr:"auto",_hover:{bg:"bg.subtle"},children:(0,l.jsx)(V.T,{h:"24px",compact:!0})})}),(0,l.jsxs)(i.z,{justify:"space-between",children:[P&&(0,l.jsx)(j.k,{to:"/",children:(0,l.jsx)(i.z,{ml:"12px",gap:3,children:(0,l.jsx)(V.T,{h:"24px"})})}),(0,l.jsx)(er.B,{flexDir:P?"row":"column",gap:1,children:(0,l.jsx)(y.m,{content:P?_.minimize:_.maximize,positioning:{placement:"right",offset:{mainAxis:16}},children:(0,l.jsx)(p.t,{order:P?2:1,iconButton:!0,clicky:!1,w:"40px",variant:"ghost",colorPalette:ep,onClick:z,children:(0,l.jsx)(F.I,{boxSize:5,children:(0,l.jsx)(ed.A,{stroke:1.5})})})})})]})]}),(0,l.jsxs)(x.T,{className:"scrollY",gap:1,p:2,pr:"calc(8px - ".concat(G.J0,")"),children:[P&&(0,l.jsx)(x.T,{mb:1,children:(0,l.jsx)(b.A,{queryKey:"navs",inputRef:C,inputProps:{variant:"flushed",rounded:0,borderColor:"d2"},inputValue:B,onChange:e=>{O(e||"")}})}),(0,en.VP)(X)&&(0,l.jsx)(S.A,{}),!(0,en.VP)(X)&&X.map((e,t)=>(0,l.jsxs)(x.T,{gap:1,children:[P&&e.groupLabelKey&&(0,l.jsx)(v.P,{fontSize:"sm",fontWeight:"semibold",letterSpacing:"wide",color:"fg.subtle",ml:"10px",children:(0,ei.Ds)(_,e.groupLabelKey)}),e.list.map(e=>{var t,s;let n=e.subMenus,r=T.includes(e.path);return(0,l.jsxs)(a.Fragment,{children:[n&&P&&(0,l.jsx)(d,{multiple:!0,children:(0,l.jsxs)(u,{value:e.path,border:"none",rounded:k.radii.component,_open:{bg:"d0"},children:[(0,l.jsx)(eg,{content:(0,ei.Ds)(_,e.labelKey),children:(0,l.jsxs)(p.t,{as:o,clicky:!1,colorPalette:ep,variant:"ghost",px:2,pos:"relative",bg:"transparent",_hover:{bg:"d1"},children:[r&&(0,l.jsx)(K.rJ,{}),(0,l.jsxs)(i.z,{gap:4,children:[(0,l.jsx)(F.I,{boxSize:5,children:(0,l.jsx)(e.icon,{stroke:1.5})}),(0,l.jsx)(v.P,{lineClamp:1,textAlign:"left",children:(0,ei.Ds)(_,e.labelKey)})]})]})},e.path),(0,l.jsx)(c,{p:0,children:(0,l.jsx)(x.T,{gap:1,p:1,children:null==(t=e.subMenus)?void 0:t.map((e,t)=>(0,l.jsxs)(x.T,{gap:1,children:[e.groupLabelKey&&(0,l.jsx)(v.P,{fontSize:"sm",fontWeight:"semibold",color:"fg.subtle",ml:"12px",mt:1,children:(0,ei.Ds)(_,e.groupLabelKey)}),e.list.map(e=>{let t=T===e.path;return(0,l.jsx)(j.k,{to:e.path,w:"full",children:(0,l.jsx)(y.m,{content:(0,ei.Ds)(_,e.labelKey),positioning:{placement:"right",offset:{mainAxis:18}},children:(0,l.jsxs)(p.t,{iconButton:!P,clicky:!1,w:"full",gap:3,px:2,rounded:"calc(".concat(k.radii.component,")"),justifyContent:"start",variant:"ghost",colorPalette:ep,children:[(0,l.jsx)(q.o,{boxSize:5,children:(0,l.jsx)(F.I,{boxSize:2,color:t?k.primaryColor:"d2",ml:"-6px",children:(0,l.jsx)(eu.A,{stroke:1.5})})}),(0,l.jsx)(v.P,{lineClamp:1,textAlign:"left",children:(0,ei.Ds)(_,e.labelKey)})]})})},e.path)})]},t))})})]})}),n&&!P&&(0,l.jsxs)(m.il,{positioning:{placement:"right-start",offset:{mainAxis:22}},children:[(0,l.jsx)(eg,{content:(0,ei.Ds)(_,e.labelKey),children:(0,l.jsx)(x.T,{children:(0,l.jsx)(m.cQ,{asChild:!0,children:(0,l.jsxs)(p.t,{iconButton:!0,clicky:!1,px:2,justifyContent:"start",variant:"ghost",colorPalette:ep,pos:"relative",children:[r&&(0,l.jsx)(K.rJ,{}),(0,l.jsx)(F.I,{boxSize:5,children:(0,l.jsx)(e.icon,{stroke:1.5})})]})})})}),(0,l.jsx)(m.rm,{children:null==(s=e.subMenus)?void 0:s.map((e,t)=>(0,l.jsx)(m.Uh,{gap:1,title:e.groupLabelKey?(0,ei.Ds)(_,e.groupLabelKey):"",children:e.list.map(e=>{let t=T===e.path;return(0,l.jsx)(j.k,{to:e.path,w:"full",children:(0,l.jsx)(y.m,{content:(0,ei.Ds)(_,e.labelKey),positioning:{placement:"right",offset:{mainAxis:12}},children:(0,l.jsxs)(m.Dr,{value:e.path,children:[(0,l.jsx)(v.P,{lineClamp:1,children:(0,ei.Ds)(_,e.labelKey)}),t&&(0,l.jsx)(K.P3,{ml:"auto",mr:1})]})})},e.path)})},t))})]}),!n&&(0,l.jsx)(j.k,{to:e.path,w:"full",children:(0,l.jsx)(eg,{content:(0,ei.Ds)(_,e.labelKey),children:(0,l.jsxs)(p.t,{iconButton:!P,clicky:!1,gap:4,px:2,justifyContent:"start",variant:"ghost",colorPalette:ep,children:[r&&e.icon&&(0,l.jsx)(K.rJ,{}),e.icon&&(0,l.jsx)(F.I,{boxSize:5,children:(0,l.jsx)(e.icon,{stroke:1.5})}),!e.icon&&(0,l.jsx)(F.I,{boxSize:2,color:r?k.primaryColor:"d2",children:(0,l.jsx)(eu.A,{stroke:1.5})}),P&&(0,l.jsx)(v.P,{lineClamp:1,textAlign:"left",children:(0,ei.Ds)(_,e.labelKey)})]})})},e.path)]},e.path)})]},t))]}),(0,l.jsxs)(x.T,{mt:"auto",gap:2,p:2,children:[(0,l.jsx)(j.k,{to:"/settings",w:"full",children:(0,l.jsx)(eg,{content:_.settings,children:(0,l.jsxs)(p.t,{clicky:!1,gap:4,justifyContent:"start",variant:"ghost",colorPalette:ep,px:2,pos:"relative",children:[T.includes("/settings")&&(0,l.jsx)(K.rJ,{}),(0,l.jsx)(F.I,{boxSize:5,children:(0,l.jsx)(ec.A,{stroke:1.5})}),P&&(0,l.jsx)(v.P,{lineClamp:1,textAlign:"left",children:_.settings})]})})}),(0,l.jsx)(g.c,{}),(0,l.jsxs)(f.yt,{positioning:{placement:"right-end",offset:{mainAxis:22,crossAxis:-6}},children:[(0,l.jsx)(f.Wv,{asChild:!0,children:(0,l.jsxs)(i.z,{gap:3,px:P?2:"7px",py:2,rounded:k.radii.component,cursor:"pointer",_hover:{bg:"gray.subtle"},transition:"200ms",pos:"relative",children:[T.includes("/pvt/profile")&&(0,l.jsx)(K.rJ,{}),(0,l.jsx)(h.e,{src:null==M||null==(n=M.photoProfile)?void 0:n.fileUrl,name:null==M?void 0:M.name,size:P?"md":"2xs"}),P&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x.T,{children:[(0,l.jsx)(v.P,{lineClamp:1,fontWeight:"semibold",children:(null==M?void 0:M.name)||"Signed out"}),(0,l.jsx)(v.P,{lineClamp:1,color:"fg.subtle",children:(null==M?void 0:M.email)||(null==M?void 0:M.username)||"-"})]}),(0,l.jsx)(F.I,{boxSize:5,color:"fg.subtle",children:(0,l.jsx)(eh.A,{stroke:1.5})})]})]})}),(0,l.jsx)(f.hl,{w:"254px",zIndex:10,children:(0,l.jsx)(U,{})})]})]})]}),(0,l.jsxs)(x.T,{bg:ex,overflowY:"auto",color:"ibody",children:[(0,l.jsxs)(i.z,{gap:4,h:"52px",p:4,justify:"space-between",children:[(0,l.jsx)(em,{backPath:W,resolvedActiveNavs:N}),(0,l.jsx)(i.z,{flexShrink:0,gap:1,children:(0,l.jsxs)(i.z,{mx:1,children:[(0,l.jsx)(A,{}),(0,l.jsx)(J,{})]})})]}),(0,l.jsx)(x.T,{flex:1,overflowY:"auto",children:r})]})]})},eb=e=>{let{...t}=e,s=(0,I.c4)(),n=(0,C.A)(e=>e.verifiedAuthToken),i=(0,C.A)(e=>e.setRole),r=(0,C.A)(e=>e.setPermissions),o=(0,C.A)(e=>e.setVerifiedAuthToken),c=(0,es.Q)(),d=(0,H.useRouter)(),{req:u,loading:h}=(0,M.A)({id:"user-profile",showLoadingToast:!1,showSuccessToast:!1,showErrorToast:!1}),[p,g]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{if(!s)return void g(!0);s&&!n?u({config:{method:"GET",url:"/api/profile/get-user-profile"},onResolve:{onSuccess:e=>{let t=e.data.data;(0,L.cT)("__auth_token",s,"local",2592e5),(0,L.cT)("__user_data",JSON.stringify(t),"local",2592e5),o(s),i(t.role),r(t.role.permissions),g(!0)},onError:()=>{g(!0)}}}):g(!0)},[s,n]),(0,a.useEffect)(()=>{p&&!n&&d.replace("/")},[p,n]),!p||h)?(0,l.jsx)(Z,{}):(0,l.jsx)(x.T,{id:"app_layout",h:"100dvh",...t,children:c?(0,l.jsx)(ev,{...e}):(0,l.jsx)(ef,{...e})})}},56812:(e,t,s)=>{"use strict";s.d(t,{KS:()=>x,v:()=>p});var l=s(44542),n=s(94612),i=s(91562),a=s(58255),r=s(41871),o=s(82830),c=s(54708),d=s(85332),u=s(14990),h=s(65546);let p=[{groupLabelKey:"main",list:[{icon:l.A,labelKey:"private_navs.cms.index",path:"/cms",allowedRoles:["1"],subMenus:[{list:[{labelKey:"private_navs.cms.static_content",path:"/cms/static-content",allowedRoles:["1"]},{labelKey:"private_navs.cms.legal_document",path:"/cms/legal-document",allowedRoles:["1"]},{labelKey:"private_navs.cms.activity",path:"/cms/activity",allowedRoles:["1"]},{labelKey:"private_navs.cms.news",path:"/cms/news",allowedRoles:["1"]},{labelKey:"private_navs.cms.animal_composition",path:"/cms/animal-population",allowedRoles:["1"]},{labelKey:"private_navs.cms.faqs",path:"/cms/faqs",allowedRoles:["1"]}]}]},{icon:n.A,labelKey:"private_navs.kmis.index",path:"/kmis",allowedRoles:["1","2"],subMenus:[{list:[{labelKey:"private_navs.kmis.dashboard",path:"/kmis/dashboard",allowedRoles:["1","2"]},{labelKey:"private_navs.kmis.topic",path:"/kmis/topic",allowedRoles:["1"]},{labelKey:"private_navs.kmis.material",path:"/kmis/material",allowedRoles:["1","2"]},{labelKey:"private_navs.kmis.quiz",path:"/kmis/quiz",allowedRoles:["1","2"]},{labelKey:"private_navs.kmis.quiz_assessment",path:"/kmis/learning-progress",allowedRoles:["1","2"]},{labelKey:"private_navs.kmis.educator",path:"/kmis/educator",allowedRoles:["1"]},{labelKey:"private_navs.kmis.student",path:"/kmis/student",allowedRoles:["1"]}]}]},{icon:i.A,labelKey:"private_navs.monev.index",path:"/monev",allowedRoles:["1","3"],subMenus:[{list:[{labelKey:"private_navs.monev.dashboard",path:"/monev/dashboard",allowedRoles:["1","3"]},{labelKey:"private_navs.monev.package_information",path:"/monev/package-information",allowedRoles:["1","3"]},{labelKey:"private_navs.monev.activity_calendar",path:"/monev/agenda-calendar",allowedRoles:["1","3"]},{labelKey:"private_navs.monev.data_sharing",path:"/monev/data-sharing",allowedRoles:["1","3"]}]}]}]}],x=[{groupLabelKey:"other",list:[{icon:a.A,labelKey:"private_navs.settings",path:"/settings",subMenus:[{groupLabelKey:"settings_navs.main.index",list:[{icon:r.A,labelKey:"settings_navs.main.display",path:"/settings/display",backPath:"/settings"},{icon:o.A,labelKey:"settings_navs.main.regional",path:"/settings/regional",backPath:"/settings"},{icon:c.A,labelKey:"settings_navs.main.permissions",path:"/settings/permissions",backPath:"/settings"}]},{groupLabelKey:"settings_navs.cms_master_data.index",allowedRoles:["1"],list:[{icon:d.A,labelKey:"settings_navs.cms_master_data.activity_category",path:"/settings/activity-category",backPath:"/settings"},{icon:d.A,labelKey:"settings_navs.cms_master_data.news_category",path:"/settings/news-category",backPath:"/settings"},{icon:d.A,labelKey:"settings_navs.cms_master_data.animal_category",path:"/settings/animal-category",backPath:"/settings"}]},{groupLabelKey:"settings_navs.kmis_master_data.index",allowedRoles:["1"],list:[{icon:d.A,labelKey:"settings_navs.kmis_master_data.topic_category",path:"/settings/topic-category",backPath:"/settings"}]},{groupLabelKey:"settings_navs.monev_master_data.index",allowedRoles:["1"],list:[{icon:d.A,labelKey:"settings_navs.monev_master_data.agenda_category",path:"/settings/agenda-category",backPath:"/settings"},{icon:u.A,labelKey:"settings_navs.monev_master_data.pic_division",path:"/settings/pic-division",backPath:"/settings"},{icon:h.A,labelKey:"settings_navs.monev_master_data.pic_assignment",path:"/settings/pic-assignment",backPath:"/settings"}]}]}]}]},60439:(e,t,s)=>{"use strict";s.d(t,{HV:()=>n,VP:()=>l});let l=e=>!!(!e||Array.isArray(e)&&0===e.length),n=(e,t)=>e&&0!==e.length?e[e.length-1]:t},67818:(e,t,s)=>{Promise.resolve().then(s.bind(s,33788))},74816:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(32309),n=s(86487),i=s(25959);let a="timezone",r=(0,i.v)(e=>({timeZone:(()=>{try{let e=(0,l.c7)(a);if(e){let t=JSON.parse(e);return t.label.startsWith("Auto")?(0,n.Vm)():t}}catch(e){console.error("Failed to parse timezone from localStorage:",e)}return(0,n.Vm)()})(),setTimeZone:t=>{e(e=>e.timeZone.key!==t.key?((0,l.cT)(a,JSON.stringify(t)),{timeZone:t}):e)}}))},80192:(e,t,s)=>{"use strict";s.d(t,{H:()=>g});var l=s(95155),n=s(46426),i=s(25535),a=s(66825),r=s(95145),o=s(58226),c=s(93454),d=s(3370),u=s(50857),h=s(86021),p=s(96307);let x=e=>{let{open:t,title:s,description:i,confirmLabel:d,onConfirm:u,confirmButtonProps:p,loading:x=!1,addonElement:g}=e,{themeConfig:m}=(0,c.p)();return(0,l.jsx)(a.i0,{open:t,size:"xs",children:(0,l.jsxs)(a.L7,{children:[(0,l.jsx)(a.$Z,{children:(0,l.jsx)(r.G,{title:"".concat(s)})}),(0,l.jsxs)(a.Ql,{children:[(0,l.jsx)(o.P,{children:i}),g]}),(0,l.jsxs)(a.PK,{children:[(0,l.jsx)(h.A,{disabled:x}),(0,l.jsx)(n.t,{onClick:u,loading:x,colorPalette:m.colorPalette,...p,children:d})]})]})})},g=e=>{let{children:t,id:s,title:n,description:a,confirmLabel:r,onConfirm:o,confirmButtonProps:c,loading:h,disabled:g,addonElement:m,...j}=e,{open:v,onOpen:f,onClose:b}=(0,u.j)();return(0,d.A)((0,p.t6)("".concat(s)),v,f,b),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.T,{w:"fit",onClick:g?()=>{}:f,...j,children:t}),(0,l.jsx)(x,{open:v,title:n,description:a,confirmLabel:r,onConfirm:o,confirmButtonProps:c,loading:h,addonElement:m})]})}},84528:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(95155),n=s(25535),i=s(58226),a=s(36780);function r(e){let{children:t,...s}=e,{l:r}=(0,a.A)();return(0,l.jsxs)(n.T,{w:"fit",m:"auto",minH:"100px",justify:"center",align:"center",color:"fg.subtle",gap:1,...s,children:[(0,l.jsx)(i.P,{textAlign:"center",children:r.alert_not_found.title}),t]})}}},e=>{e.O(0,[7596,586,2150,9964,9320,1668,9595,6524,358,5246,6351,9872,7368,5309,4289,5888,9863,3161,8832,819,5478,456,307,8441,4696,7358],()=>e(e.s=67818)),_N_E=e.O()}]);