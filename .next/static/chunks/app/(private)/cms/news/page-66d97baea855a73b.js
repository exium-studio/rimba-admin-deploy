(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1249],{21159:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ex});var i=n(95155),l=n(46426),r=n(25535),s=n(66825),a=n(95145),d=n(98886),o=n(50851),c=n(54424),u=n(35891),m=n(90499),p=n(571),g=n(40814),h=n(31120),x=n(46767),j=n(66168),f=n(80192),E=n(67941),v=n(86430),I=n(98064),_=n(63041),b=n(48930),y=n(50588),S=n(77141),V=n(85775),T=n(65609),q=n(60560),w=n(95345),P=n(36780),A=n(93885),C=n(40773),F=n(2431),D=n(12115);let Y=e=>{let t="select_".concat("cms_activity_category"),{...n}=e,{l,lang:r}=(0,P.A)(),s=(0,A.A)(e=>e.rt),{req:a,loading:d}=(0,C.A)({id:t,showLoadingToast:!1,showSuccessToast:!1}),[o,c]=(0,D.useState)();function u(){a({config:{url:"/api/cms/public-request/get-all-news-category",method:"GET",params:{limit:"all"}},onResolve:{onSuccess:e=>{var t,n,i;c(null==e||null==(i=e.data)||null==(n=i.data)||null==(t=n.data)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.name[r]})).sort((e,t)=>{var n;return null==e||null==(n=e.label)?void 0:n.localeCompare(null==t?void 0:t.label)}))}}})}return(0,D.useEffect)(()=>{u()},[s]),(0,i.jsx)(w.p,{id:t,title:(0,F.kR)(l.category),loading:d,selectOptions:o,fetch:u,...n})};var z=n(70637),M=n(3455),O=n(93454),R=n(3370),H=n(35189),k=n(50572),W=n(60439),J=n(32309),L=n(96307),N=n(46977),Z=n(7791),K=n(68502),B=n(50857),G=n(92091),U=n(45554),Q=n(46845),X=n(76150),$=n(90946),ee=n(89712),et=n(62251),en=n(93452),ei=n(61456),el=n(41521),er=n(20063),es=n(35068);let ea="/api/cms/news",ed="cms_news",eo=e=>{let{children:t,content:n,...l}=e;return(0,i.jsx)(x.m,{content:n,positioning:{placement:"right"},...l,children:t})},ec=e=>{let t="".concat(ed,"_create"),{routeTitle:n}=e,{l:o}=(0,P.A)(),{themeConfig:u}=(0,O.p)(),p=(0,A.A)(e=>e.setRt),j=(0,k.Q)(),{open:f,onOpen:v,onClose:I}=(0,B.j)();(0,R.A)((0,L.t6)(t),f,v,I);let{req:_,loading:b}=(0,C.A)({id:t,loadingMessage:{title:(0,F.ZH)("".concat(o.add," ").concat(n))},successMessage:{title:(0,F.ZH)("".concat(o.add," ").concat(n," ").concat(o.successful))}}),[y,S]=(0,D.useState)(!1),V=(0,el.Wx)({validateOnChange:!1,initialValues:{category:null,files:null,titleId:"",titleEn:"",slugId:"",slugEn:"",descriptionId:"",descriptionEn:"",contentId:"",contentEn:""},validationSchema:es.Ik().shape({category:es.YO().required(o.msg_required_form),files:(0,K.q)({maxSizeMB:10,allowedExtensions:["jpg","jpeg","png"]}).required(o.msg_required_form),titleId:es.Yj().required(o.msg_required_form),titleEn:es.Yj().required(o.msg_required_form),slugId:es.Yj().required(o.msg_required_form),slugEn:es.Yj().required(o.msg_required_form),descriptionId:es.Yj().required(o.msg_required_form),descriptionEn:es.Yj().required(o.msg_required_form),contentId:es.Yj().required(o.msg_required_form),contentEn:es.Yj().required(o.msg_required_form)}),onSubmit:e=>{var t,n;(0,J.aX)();let i=new FormData;i.append("categoryId","".concat(null==(n=e.category)||null==(t=n[0])?void 0:t.id)),i.append("files",e.files[0]),i.append("title",JSON.stringify({id:e.titleId,en:e.titleEn})),i.append("slug",JSON.stringify({id:e.slugId,en:e.slugEn})),i.append("description",JSON.stringify({id:e.descriptionId,en:e.descriptionEn})),i.append("newsContent",JSON.stringify({id:e.contentId,en:e.contentEn})),_({config:{url:"".concat(ea,"/create"),method:"POST",data:i},onResolve:{onSuccess:()=>{p(e=>!e)}}})}});return(0,D.useEffect)(()=>{V.setFieldValue("slugId",(0,F.Yv)(V.values.titleId))},[V.values.titleId]),(0,D.useEffect)(()=>{V.setFieldValue("slugEn",(0,F.Yv)(V.values.titleEn))},[V.values.titleEn]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.m,{content:"".concat(o.add," data"),children:(0,i.jsxs)(l.t,{iconButton:!!j,size:"md",pl:j?"":3,colorPalette:u.colorPalette,onClick:v,children:[(0,i.jsx)(G.I,{children:(0,i.jsx)(ee.A,{stroke:1.5})}),!j&&o.add]})}),(0,i.jsx)(s.i0,{open:f,lazyLoad:!0,size:y?"full":"xl",children:(0,i.jsxs)(s.L7,{positionerProps:{p:4*!y},children:[(0,i.jsx)(s.$Z,{children:(0,i.jsx)(a.G,{title:"".concat(o.add," ").concat(n),withMaximizeButton:!0,onMaximizeChange:e=>{S(e)}})}),(0,i.jsx)(s.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:V.handleSubmit,children:(0,i.jsxs)(U.Rs,{disabled:b,children:[(0,i.jsxs)(Q.r,{columns:[1,null,2],gap:4,children:[(0,i.jsxs)(r.T,{gap:4,children:[(0,i.jsx)(d.D,{label:o.category,invalid:!!V.errors.category,errorText:V.errors.category,children:(0,i.jsxs)(X.z,{w:"full",children:[(0,i.jsx)(Y,{inputValue:V.values.category,onConfirm:e=>{V.setFieldValue("category",e)},flex:1}),(0,i.jsx)(E.O,{children:(0,i.jsx)(l.t,{iconButton:!0,variant:"outline",children:(0,i.jsx)(G.I,{children:(0,i.jsx)(ee.A,{stroke:1.5})})})})]})}),(0,i.jsx)(d.D,{label:"Thumbnail",invalid:!!V.errors.files,errorText:V.errors.files,flex:1,children:(0,i.jsx)(c.u,{inputValue:V.values.files,onChange:e=>{V.setFieldValue("files",e)},minH:"300px",flex:1})})]}),(0,i.jsxs)(r.T,{gap:4,children:[(0,i.jsxs)(d.D,{label:o.title,invalid:!!(V.errors.titleId||V.errors.titleEn),errorText:V.errors.titleId||V.errors.titleEn,children:[(0,i.jsx)($.M,{startElement:"id",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.titleId,onChange:e=>{V.setFieldValue("titleId",e)}})}),(0,i.jsx)($.M,{startElement:"en",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.titleEn,onChange:e=>{V.setFieldValue("titleEn",e)}})})]}),(0,i.jsxs)(d.D,{label:"Slug",invalid:!!(V.errors.slugId||V.errors.slugEn),errorText:V.errors.slugId||V.errors.slugEn,children:[(0,i.jsx)($.M,{startElement:"id",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.slugId,onChange:e=>{V.setFieldValue("slugId",e)}})}),(0,i.jsx)($.M,{startElement:"en",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.slugEn,onChange:e=>{V.setFieldValue("slugEn",e)}})})]}),(0,i.jsxs)(d.D,{label:o.description,invalid:!!(V.errors.descriptionId||V.errors.descriptionEn),errorText:V.errors.descriptionId||V.errors.descriptionEn,children:[(0,i.jsx)($.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,i.jsx)(h.T,{inputValue:V.values.descriptionId,onChange:e=>{V.setFieldValue("descriptionId",e)},pl:"40px !important"})}),(0,i.jsx)($.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,i.jsx)(h.T,{inputValue:V.values.descriptionEn,onChange:e=>{V.setFieldValue("descriptionEn",e)},pl:"40px !important"})})]})]})]}),(0,i.jsx)(d.D,{label:"".concat(o.content," (id)"),invalid:!!V.errors.contentId,errorText:V.errors.contentId,children:(0,i.jsx)(m.o,{inputValue:V.values.contentId,onChange:e=>{V.setFieldValue("contentId",e)}})}),(0,i.jsx)(d.D,{label:"".concat(o.content," (en)"),invalid:!!V.errors.contentEn,errorText:V.errors.contentEn,children:(0,i.jsx)(m.o,{inputValue:V.values.contentEn,onChange:e=>{V.setFieldValue("contentEn",e)}})})]})})}),(0,i.jsx)(s.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:u.colorPalette,loading:b,children:o.add})})]})})]})},eu=e=>{let{filter:t,setFilter:n,routeTitle:l,...r}=e;return(0,i.jsxs)(X.z,{p:3,...r,children:[(0,i.jsx)(p.A,{inputValue:t.search,onChange:e=>{n({...t,search:e})}}),(0,i.jsx)(v.F,{navKey:ed}),(0,i.jsx)(ec,{routeTitle:l})]})},em=e=>{let t="".concat(ed,"_update"),{data:n,routeTitle:o}=e,{l:p,lang:x}=(0,P.A)(),{themeConfig:j}=(0,O.p)(),f=(0,A.A)(e=>e.setRt),{open:E,onOpen:v,onClose:I}=(0,B.j)();(0,R.A)((0,L.t6)("".concat(t,"-").concat(null==n?void 0:n.id)),E,v,I);let{req:_,loading:b}=(0,C.A)({id:t,loadingMessage:{title:(0,F.ZH)("Edit ".concat(o))},successMessage:{title:(0,F.ZH)("Edit ".concat(o," ").concat(p.successful))}}),[y,S]=(0,D.useState)(!1),V=(0,el.Wx)({validateOnChange:!1,initialValues:{category:null,files:null,deleteDocumentIds:[],titleId:"",titleEn:"",slugId:"",slugEn:"",descriptionId:"",descriptionEn:"",contentId:"",contentEn:""},validationSchema:es.Ik().shape({category:es.YO().required(p.msg_required_form),files:(0,K.q)({maxSizeMB:10,allowedExtensions:["jpg","jpeg","png"]}).concat((0,K.$)({resolvedData:n,existingKey:"thumbnail",deletedKey:"deleteDocumentIds",newKey:"files",message:p.msg_required_form})),titleId:es.Yj().required(p.msg_required_form),titleEn:es.Yj().required(p.msg_required_form),slugId:es.Yj().required(p.msg_required_form),slugEn:es.Yj().required(p.msg_required_form),descriptionId:es.Yj().required(p.msg_required_form),descriptionEn:es.Yj().required(p.msg_required_form),contentId:es.Yj().required(p.msg_required_form),contentEn:es.Yj().required(p.msg_required_form)}),onSubmit:e=>{var t,i;(0,J.aX)();let l=new FormData;l.append("categoryId","".concat(null==(i=e.category)||null==(t=i[0])?void 0:t.id)),(0,W.VP)(e.files)||l.append("files",e.files[0]),l.append("title",JSON.stringify({id:e.titleId,en:e.titleEn})),l.append("slug",JSON.stringify({id:e.slugId,en:e.slugEn})),l.append("description",JSON.stringify({id:e.descriptionId,en:e.descriptionEn})),l.append("newsContent",JSON.stringify({id:e.contentId,en:e.contentEn})),_({config:{url:"".concat(ea,"/update/").concat(n.id),method:"PATCH",data:l},onResolve:{onSuccess:()=>{f(e=>!e)}}})}});return(0,D.useEffect)(()=>{V.setValues({category:[{id:n.newsCategory.id,label:n.newsCategory.name[x]}],files:[],titleId:n.title.id,titleEn:n.title.en,slugId:n.slug.id,slugEn:n.slug.en,descriptionId:n.description.id,descriptionEn:n.description.en,deleteDocumentIds:[],contentId:n.newsContent.id,contentEn:n.newsContent.en})},[E,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eo,{content:"Edit",children:(0,i.jsxs)(u.Dr,{value:"edit",onClick:v,children:["Edit",(0,i.jsx)(G.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(et.A,{stroke:1.5})})]})}),(0,i.jsx)(s.i0,{open:E,lazyLoad:!0,size:y?"full":"xl",children:(0,i.jsxs)(s.L7,{positionerProps:{p:4*!y},children:[(0,i.jsx)(s.$Z,{children:(0,i.jsx)(a.G,{title:"Edit ".concat(o),withMaximizeButton:!0,onMaximizeChange:e=>{S(e)}})}),(0,i.jsx)(s.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:V.handleSubmit,children:(0,i.jsxs)(U.Rs,{disabled:b,children:[(0,i.jsxs)(Q.r,{columns:[1,null,2],gap:4,children:[(0,i.jsxs)(r.T,{gap:4,children:[(0,i.jsx)(d.D,{label:p.category,invalid:!!V.errors.category,errorText:V.errors.category,children:(0,i.jsx)(q.R,{inputValue:V.values.category,onChange:e=>{V.setFieldValue("category",e)}})}),(0,i.jsx)(d.D,{label:"Thumbnail",invalid:!!V.errors.files,errorText:V.errors.files,children:(0,i.jsx)(c.u,{inputValue:V.values.files,onChange:e=>{V.setFieldValue("files",e)},existingFiles:n.thumbnail,onDeleteFile:e=>{V.setFieldValue("deleteDocumentIds",Array.from(new Set([...V.values.deleteDocumentIds,e.id])))},onUndoDeleteFile:e=>{V.setFieldValue("deleteDocumentIds",V.values.deleteDocumentIds.filter(t=>t!==e.id))}})})]}),(0,i.jsxs)(r.T,{gap:4,children:[(0,i.jsxs)(d.D,{label:p.title,invalid:!!(V.errors.titleId||V.errors.titleEn),errorText:V.errors.titleId||V.errors.titleEn,children:[(0,i.jsx)($.M,{startElement:"id",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.titleId,onChange:e=>{V.setFieldValue("titleId",e)}})}),(0,i.jsx)($.M,{startElement:"en",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.titleEn,onChange:e=>{V.setFieldValue("titleEn",e)}})})]}),(0,i.jsxs)(d.D,{label:"Slug",invalid:!!(V.errors.slugId||V.errors.slugEn),errorText:V.errors.slugId||V.errors.slugEn,children:[(0,i.jsx)($.M,{startElement:"id",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.slugId,onChange:e=>{V.setFieldValue("slugId",e)}})}),(0,i.jsx)($.M,{startElement:"en",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(g.Y,{inputValue:V.values.slugEn,onChange:e=>{V.setFieldValue("slugEn",e)}})})]}),(0,i.jsxs)(d.D,{label:p.description,invalid:!!(V.errors.descriptionId||V.errors.descriptionEn),errorText:V.errors.descriptionId||V.errors.descriptionEn,children:[(0,i.jsx)($.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,i.jsx)(h.T,{inputValue:V.values.descriptionId,onChange:e=>{V.setFieldValue("descriptionId",e)},pl:"40px !important",minH:"100px"})}),(0,i.jsx)($.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,i.jsx)(h.T,{inputValue:V.values.descriptionEn,onChange:e=>{V.setFieldValue("descriptionEn",e)},pl:"40px !important",minH:"100px"})})]})]})]}),(0,i.jsx)(d.D,{label:"".concat(p.content," (id)"),invalid:!!V.errors.contentId,errorText:V.errors.contentId,children:(0,i.jsx)(m.o,{inputValue:V.values.contentId,onChange:e=>{V.setFieldValue("contentId",e)}})}),(0,i.jsx)(d.D,{label:"".concat(p.content," (en)"),invalid:!!V.errors.contentEn,errorText:V.errors.contentEn,children:(0,i.jsx)(m.o,{inputValue:V.values.contentEn,onChange:e=>{V.setFieldValue("contentEn",e)}})})]})})}),(0,i.jsx)(s.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:j.colorPalette,loading:b,children:p.save})})]})})]})},ep=e=>{let t="".concat(ed,"_restore"),{restoreIds:n,clearSelectedRows:l,disabled:r,routeTitle:s}=e,{l:a}=(0,P.A)(),d=(0,A.A)(e=>e.setRt),{req:o,loading:c}=(0,C.A)({id:t,loadingMessage:{title:(0,F.ZH)("".concat(a.restore," ").concat(s))},successMessage:{title:(0,F.ZH)("".concat(a.restore," ").concat(s," ").concat(a.successful))}});return(0,i.jsx)(f.H,{w:"full",id:"".concat(t,"-").concat(n),title:"".concat(a.restore," ").concat(s),description:a.msg_restore,confirmLabel:"".concat(a.restore),onConfirm:function(){(0,J.aX)(),o({config:{url:"".concat(ea,"/restore"),method:"PATCH",data:{restoreIds:n}},onResolve:{onSuccess:()=>{d(e=>!e),null==l||l()}}})},loading:c,disabled:r,children:(0,i.jsx)(eo,{content:a.restore,children:(0,i.jsxs)(u.Dr,{value:"restore",disabled:r,children:[a.restore,(0,i.jsx)(G.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(en.A,{stroke:1.5})})]})})})},eg=e=>{let t="".concat(ed,"_delete"),{deleteIds:n,clearSelectedRows:l,disabled:r,routeTitle:s}=e,{l:a}=(0,P.A)(),d=(0,A.A)(e=>e.setRt),{req:o,loading:c}=(0,C.A)({id:t,loadingMessage:{title:(0,F.ZH)("".concat(a.delete_," ").concat(s))},successMessage:{title:(0,F.ZH)("".concat(a.delete_," ").concat(s," ").concat(a.successful))}});return(0,i.jsx)(f.H,{w:"full",id:"".concat(t,"-").concat(n),title:"".concat(a.delete_," ").concat(s),description:a.msg_soft_delete,confirmLabel:"".concat(a.delete_),onConfirm:function(){(0,J.aX)(),o({config:{url:"".concat(ea,"/delete"),method:"DELETE",data:{deleteIds:n}},onResolve:{onSuccess:()=>{d(e=>!e),null==l||l()}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},loading:c,disabled:r,children:(0,i.jsx)(eo,{content:a.delete_,children:(0,i.jsxs)(u.Dr,{value:"delete",color:"fg.error",disabled:r,children:[a.delete_,(0,i.jsx)(G.I,{boxSize:"18px",ml:"auto",children:(0,i.jsx)(ei.A,{stroke:1.5})})]})})})},eh=e=>{var t,n;let{filter:l,routeTitle:r}=e,{l:s,lang:a}=(0,P.A)(),d=(0,M.a)(e=>e.getDisplay(ed)),{error:c,initialLoading:u,data:m,onRetry:p,limit:g,setLimit:h,page:x,setPage:f,pagination:E}=(0,H.A)({initialData:void 0,url:"".concat(ea,"/index"),params:l,dependencies:[l]}),v={headers:[{th:"Thumbnail",align:"center"},{th:s.title,sortable:!0},{th:s.description,sortable:!0},{th:s.added,sortable:!0},{th:s.updated,sortable:!0},{th:s.deleted,sortable:!0}],rows:null==m?void 0:m.map((e,t)=>{var n,l,r,s,d,c,u,m;return{id:e.id,idx:t,data:e,dim:!!e.deletedAt,columns:[{td:(0,i.jsx)(V.E,{id:"topic-cover-".concat(e.id),src:(0,Z.JU)(null==e||null==(l=e.thumbnail)||null==(n=l[0])?void 0:n.filePath),children:(0,i.jsx)(o.E,{src:(0,Z.JU)(null==e||null==(s=e.thumbnail)||null==(r=s[0])?void 0:r.filePath),h:"24px",aspectRatio:1.1},(0,Z.JU)(null==e||null==(c=e.thumbnail)||null==(d=c[0])?void 0:d.filePath))}),value:(0,Z.JU)(null==e||null==(m=e.thumbnail)||null==(u=m[0])?void 0:u.filePath),dataType:"image",align:"center"},{td:(0,i.jsx)(j.v,{children:"".concat(e.title[a])}),value:e.title[a]},{td:(0,i.jsx)(j.v,{children:"".concat(e.description[a])}),value:e.description[a]},{td:(0,N.Yq)(e.createdAt,{variant:"numeric",withTime:!0}),value:e.createdAt,dataType:"date",dashEmpty:!0},{td:(0,N.Yq)(e.updatedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.updatedAt,dataType:"date"},{td:(0,N.Yq)(e.deletedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.deletedAt,dataType:"date"}]}}),rowOptions:[e=>({override:(0,i.jsx)(em,{data:e.data,routeTitle:r})}),e=>({override:(0,i.jsx)(ep,{restoreIds:[e.data.id],disabled:!e.data.deletedAt,routeTitle:r})}),e=>({override:(0,i.jsx)(eg,{deleteIds:[e.data.id],disabled:!!e.data.deletedAt,routeTitle:r})})],batchOptions:[(e,t)=>{let{clearSelectedRows:n}=t;return{override:(0,i.jsx)(ep,{restoreIds:e,clearSelectedRows:n,disabled:(0,W.VP)(e)||(null==m?void 0:m.filter(t=>e.includes(t.id)).some(e=>!e.deletedAt)),routeTitle:r})}},(e,t)=>{let{clearSelectedRows:n}=t;return{override:(0,i.jsx)(eg,{deleteIds:e,clearSelectedRows:n,disabled:(0,W.VP)(e)||(null==m?void 0:m.filter(t=>e.includes(t.id)).some(e=>!!e.deletedAt)),routeTitle:r})}}]},T={loading:(0,i.jsx)(z.Q,{}),error:(0,i.jsx)(S.A,{onRetry:p}),empty:(0,i.jsx)(y.A,{}),loaded:"table"===d?(0,i.jsx)(b.b,{headers:v.headers,rows:v.rows,rowOptions:v.rowOptions,batchOptions:v.batchOptions,limit:g,setLimit:h,page:x,setPage:f,totalPage:null==E||null==(t=E.meta)?void 0:t.last_page}):(0,i.jsx)(I.z,{data:m,dataProps:v,limit:g,setLimit:h,page:x,setPage:f,totalPage:null==E||null==(n=E.meta)?void 0:n.last_page,renderItem:e=>{var t,n;let{item:l,row:s,details:d,selectedRows:o,toggleRowSelection:c}=e;return(0,i.jsx)(_.G,{item:{id:l.id,showImg:!0,img:(0,Z.JU)(null==l||null==(n=l.thumbnail)||null==(t=n[0])?void 0:t.filePath),title:l.title[a],description:l.description[a],deletedAt:l.deletedAt},dataProps:v,row:s,selectedRows:o,toggleRowSelection:c,routeTitle:r,details:d},l.id)}})};return(0,i.jsxs)(i.Fragment,{children:[u&&T.loading,!u&&(0,i.jsxs)(i.Fragment,{children:[c&&T.error,!c&&(0,i.jsxs)(i.Fragment,{children:[m&&T.loaded,(!m||(0,W.VP)(m))&&T.empty]})]})]})};function ex(){let{l:e}=(0,P.A)(),t=(0,er.usePathname)(),n=(0,Z.xD)(t),l=(0,F.Ds)(e,(0,W.HV)(n).labelKey),[r,s]=(0,D.useState)({search:""});return(0,i.jsx)(T.L,{children:(0,i.jsxs)(T.T,{children:[(0,i.jsx)(eu,{filter:r,setFilter:s,routeTitle:l}),(0,i.jsx)(eh,{filter:r,routeTitle:l})]})})}},46569:(e,t,n)=>{Promise.resolve().then(n.bind(n,21159))},60560:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var i=n(95155),l=n(95345),r=n(36780),s=n(93885),a=n(40773),d=n(2431),o=n(12115);let c=e=>{let t="select_".concat("cms_activity_category"),{...n}=e,{l:c,lang:u}=(0,r.A)(),m=(0,s.A)(e=>e.rt),{req:p,loading:g}=(0,a.A)({id:t,showLoadingToast:!1,showSuccessToast:!1}),[h,x]=(0,o.useState)();function j(){p({config:{url:"/api/cms/public-request/get-all-event-category",method:"GET",params:{limit:"all"}},onResolve:{onSuccess:e=>{var t,n,i;x(null==e||null==(i=e.data)||null==(n=i.data)||null==(t=n.data)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.name[u]})).sort((e,t)=>{var n;return null==e||null==(n=e.label)?void 0:n.localeCompare(null==t?void 0:t.label)}))}}})}return(0,o.useEffect)(()=>{j()},[m]),(0,i.jsx)(l.p,{id:t,title:(0,d.kR)(c.category),loading:g,selectOptions:h,fetch:j,...n})}},67941:(e,t,n)=>{"use strict";n.d(t,{O:()=>y});var i=n(95155),l=n(46426),r=n(25535),s=n(66825),a=n(95145),d=n(98886),o=n(40814),c=n(31120),u=n(36780),m=n(93885),p=n(93454),g=n(3370),h=n(40773),x=n(32309),j=n(2431),f=n(45554),E=n(90946),v=n(50857),I=n(41521),_=n(35068);let b=e=>{let t="".concat("cms_news_category","_create"),{open:n}=e,{l:r}=(0,u.A)(),{themeConfig:g}=(0,p.p)(),v=(0,m.A)(e=>e.setRt),b=r.settings_navs.cms_master_data.news_category,{req:y,loading:S}=(0,h.A)({id:t,loadingMessage:{title:(0,j.ZH)("".concat(r.add," ").concat(b))},successMessage:{title:(0,j.ZH)("".concat(r.add," ").concat(b," ").concat(r.successful))}}),V=(0,I.Wx)({validateOnChange:!1,initialValues:{nameId:"",nameEn:"",descriptionId:"",descriptionEn:""},validationSchema:_.Ik().shape({nameId:_.Yj().required(r.msg_required_form),nameEn:_.Yj().required(r.msg_required_form),descriptionId:_.Yj().required(r.msg_required_form),descriptionEn:_.Yj().required(r.msg_required_form)}),onSubmit:(e,t)=>{let{resetForm:n}=t;(0,x.aX)();let i=new FormData;i.append("name",JSON.stringify({id:e.nameId,en:e.nameEn})),i.append("description",JSON.stringify({id:e.descriptionId,en:e.descriptionEn})),y({config:{url:"".concat("/api/master-data/news-category","/create"),method:"POST",data:i},onResolve:{onSuccess:()=>{v(e=>!e),n()}}})}});return(0,i.jsx)(s.i0,{open:n,lazyLoad:!0,size:"xs",children:(0,i.jsxs)(s.L7,{children:[(0,i.jsx)(s.$Z,{children:(0,i.jsx)(a.G,{title:"".concat(r.add," ").concat(b)})}),(0,i.jsx)(s.Ql,{children:(0,i.jsx)("form",{id:t,onSubmit:V.handleSubmit,children:(0,i.jsxs)(f.Rs,{disabled:S,children:[(0,i.jsxs)(d.D,{label:r.name,invalid:!!(V.errors.nameId||V.errors.nameEn),errorText:V.errors.nameId||V.errors.nameEn,children:[(0,i.jsx)(E.M,{startElement:"id",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(o.Y,{inputValue:V.values.nameId,onChange:e=>{V.setFieldValue("nameId",e)}})}),(0,i.jsx)(E.M,{startElement:"en",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,i.jsx)(o.Y,{inputValue:V.values.nameEn,onChange:e=>{V.setFieldValue("nameEn",e)}})})]}),(0,i.jsxs)(d.D,{label:r.description,invalid:!!(V.errors.descriptionId||V.errors.descriptionEn),errorText:V.errors.descriptionId||V.errors.descriptionEn,children:[(0,i.jsx)(E.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,i.jsx)(c.T,{inputValue:V.values.descriptionId,onChange:e=>{V.setFieldValue("descriptionId",e)},pl:"40px !important"})}),(0,i.jsx)(E.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,i.jsx)(c.T,{inputValue:V.values.descriptionEn,onChange:e=>{V.setFieldValue("descriptionEn",e)},pl:"40px !important"})})]})]})})}),(0,i.jsx)(s.PK,{children:(0,i.jsx)(l.t,{type:"submit",form:t,colorPalette:g.colorPalette,loading:S,children:r.add})})]})})},y=e=>{let{children:t,id:n,...l}=e,{open:s,onOpen:a,onClose:d}=(0,v.j)();return(0,g.A)(n||"create-cms-news-category",s,a,d),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.T,{w:"fit",onClick:a,...l,children:t}),(0,i.jsx)(b,{open:s})]})}},90499:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var i=n(95155),l=n(31186);let r=e=>{let{inputValue:t="",onChange:n,...r}=e;return(0,i.jsx)(l.K,{apiKey:"qurvw945m40vowtns7i4jw562zs3uvgpk48ccf9ogucj6c43",init:{height:500,width:"100%",menubar:!1,plugins:"lists link image table code help wordcount",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help | h1 h2 h3 h4 h5 h6",style_formats:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}],highlight_on_focus:!1},value:t,onEditorChange:e=>{null==n||n(e)},...r})}}},e=>{e.O(0,[7596,586,9964,9320,1668,9595,6524,358,5246,6351,9872,7368,5309,3783,4289,1372,2619,7267,8128,495,8832,819,5478,456,6776,7230,8441,4696,7358],()=>e(e.s=46569)),_N_E=e.O()}]);