(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9706],{1721:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(95155),i=r(46977),a=r(12115),l=r(40814);let s=(0,a.forwardRef)((e,t)=>{let{inputValue:r,onChange:s,placeholder:d="Input number",invalid:o,containerProps:c,formatFunction:u,formatted:m=!0,integer:p=!0,min:g=0,max:h,...f}=e,[x,v]=(0,a.useState)(""),j=(0,a.useRef)(null),E=(0,a.useRef)(null);return(0,a.useEffect)(()=>{"function"==typeof t?t(E.current):t&&(t.current=E.current)},[t]),(0,a.useEffect)(()=>{if(null!=r){let e=p&&"number"==typeof r?Math.round(r):r;v((m?u?u(e):(0,i.ZV)(e):e.toString())||"")}else v("")},[r,u,m,p]),(0,n.jsx)(l.Y,{ref:E,onChange:function(e){if(void 0===e)return;if(E.current&&(j.current=E.current.selectionStart),""===e.trim()){v(""),null==s||s(null);return}if(!/^[0-9.,]+$/.test(e))return;let t=e;if(t=p?t.replace(/[.,]/g,""):t.replace(/\./g,""),p&&(t=t.replace(/^0+(?=\d)/,"")),t.split(",")[0].length>15)return;let r=(e=>{if(!e)return null;let t=parseFloat(e.replace(/\./g,"").replace(",","."));return isNaN(t)?null:t})(t);if(void 0!==r){if(p&&(r=Math.round(r)),!Number.isSafeInteger(r))return;void 0!==h&&r>h&&(r=h,t=String(h)),void 0!==g&&r<g&&(r=g,t=String(g))}if(!m){v(t),void 0!==r&&(null==s||s(r));return}let n=t.replace(/\B(?=(\d{3})+(?!\d))/g,".");if(!p&&t.includes(",")){let e=t.split(",");n="".concat(e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),",").concat(e[1])}v(n),void 0!==r&&(null==s||s(r)),requestAnimationFrame(()=>{if(!E.current||null===j.current)return;let t=e.slice(0,j.current).replace(/[^0-9]/g,"").length,r=0,i=n.length;for(let e=0;e<n.length;e++)if(/[0-9]/.test(n[e])&&r++,r===t){i=e+1;break}E.current.setSelectionRange(i,i)})},inputValue:x,invalid:o,placeholder:d,containerProps:c,fontVariantNumeric:"tabular-nums",...f})});s.displayName="NumInput"},3084:(e,t,r)=>{"use strict";r.d(t,{r:()=>T});var n=r(95155),i=r(46426),a=r(25535),l=r(66825),s=r(95145),d=r(98886),o=r(40814),c=r(31120),u=r(36780),m=r(93885),p=r(93454),g=r(3370),h=r(40773),f=r(32309),x=r(2431),v=r(45554),j=r(90946),E=r(50857),y=r(41521),b=r(35068);let I=e=>{let t="".concat("cms_animal_category","_create"),{open:r}=e,{l:a}=(0,u.A)(),{themeConfig:g}=(0,p.p)(),E=(0,m.A)(e=>e.setRt),I=a.settings_navs.cms_master_data.activity_category,{req:T,loading:_}=(0,h.A)({id:t,loadingMessage:{title:(0,x.ZH)("".concat(a.add," ").concat(I))},successMessage:{title:(0,x.ZH)("".concat(a.add," ").concat(I," ").concat(a.successful))}}),S=(0,y.Wx)({validateOnChange:!1,initialValues:{nameId:"",nameEn:"",descriptionId:"",descriptionEn:""},validationSchema:b.Ik().shape({nameId:b.Yj().required(a.msg_required_form),nameEn:b.Yj().required(a.msg_required_form),descriptionId:b.Yj().required(a.msg_required_form),descriptionEn:b.Yj().required(a.msg_required_form)}),onSubmit:(e,t)=>{let{resetForm:r}=t;(0,f.aX)();let n=new FormData;n.append("name",JSON.stringify({id:e.nameId,en:e.nameEn})),n.append("description",JSON.stringify({id:e.descriptionId,en:e.descriptionEn})),T({config:{url:"".concat("/api/master-data/animal-category","/create"),method:"POST",data:n},onResolve:{onSuccess:()=>{E(e=>!e),r()}}})}});return(0,n.jsx)(l.i0,{open:r,lazyLoad:!0,size:"xs",children:(0,n.jsxs)(l.L7,{children:[(0,n.jsx)(l.$Z,{children:(0,n.jsx)(s.G,{title:"".concat(a.add," ").concat(I)})}),(0,n.jsx)(l.Ql,{children:(0,n.jsx)("form",{id:t,onSubmit:S.handleSubmit,children:(0,n.jsxs)(v.Rs,{disabled:_,children:[(0,n.jsxs)(d.D,{label:a.name,invalid:!!(S.errors.nameId||S.errors.nameEn),errorText:S.errors.nameId||S.errors.nameEn,children:[(0,n.jsx)(j.M,{startElement:"id",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,n.jsx)(o.Y,{inputValue:S.values.nameId,onChange:e=>{S.setFieldValue("nameId",e)}})}),(0,n.jsx)(j.M,{startElement:"en",startElementProps:{fontSize:"md",fontWeight:"medium"},children:(0,n.jsx)(o.Y,{inputValue:S.values.nameEn,onChange:e=>{S.setFieldValue("nameEn",e)}})})]}),(0,n.jsxs)(d.D,{label:a.description,invalid:!!(S.errors.descriptionId||S.errors.descriptionEn),errorText:S.errors.descriptionId||S.errors.descriptionEn,children:[(0,n.jsx)(j.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(c.T,{inputValue:S.values.descriptionId,onChange:e=>{S.setFieldValue("descriptionId",e)},pl:"40px !important"})}),(0,n.jsx)(j.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(c.T,{inputValue:S.values.descriptionEn,onChange:e=>{S.setFieldValue("descriptionEn",e)},pl:"40px !important"})})]})]})})}),(0,n.jsx)(l.PK,{children:(0,n.jsx)(i.t,{type:"submit",form:t,colorPalette:g.colorPalette,loading:_,children:a.add})})]})})},T=e=>{let{children:t,id:r,...i}=e,{open:l,onOpen:s,onClose:d}=(0,E.j)();return(0,g.A)(r||"create-cms-animal-category",l,s,d),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.T,{w:"fit",onClick:s,...i,children:t}),(0,n.jsx)(I,{open:l})]})}},24443:(e,t,r)=>{"use strict";r.d(t,{T:()=>p});var n=r(95155),i=r(25674),a=r(95449),l=r(12115),s=r(65114),d=r(56248),o=r(98781);let c=(0,l.forwardRef)((e,t)=>{let{autoresize:r,...c}=e,u=(0,l.useRef)(null),m=(0,o.f)(),p=(0,a.v6)(null==m?void 0:m.getTextareaProps(),{style:{resize:r?"none":void 0}},c);return(0,l.useEffect)(()=>{if(r)return(0,i.w)(u.current)},[r]),(0,n.jsx)(d.X.textarea,{...p,ref:(0,s.t)(t,u)})});c.displayName="FieldTextarea";let{withContext:u,PropsProvider:m}=(0,r(27318).a)({key:"textarea"}),p=u(c);p.displayName="Textarea"},25674:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,w:()=>a});var n=r(4966);function i(e){var t;if(!e)return;let r=(0,n.YE)(e),i=(0,n.zk)(e),a=((t=r.createElement("div")).id="ghost",t.style.cssText="display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;",r.body.appendChild(t),t),l=function(e){if(!e)return;let t=(0,n.L9)(e);return"box-sizing:"+t.boxSizing+";border-left:"+t.borderLeftWidth+" solid red;border-right:"+t.borderRightWidth+" solid red;font-family:"+t.fontFamily+";font-feature-settings:"+t.fontFeatureSettings+";font-kerning:"+t.fontKerning+";font-size:"+t.fontSize+";font-stretch:"+t.fontStretch+";font-style:"+t.fontStyle+";font-variant:"+t.fontVariant+";font-variant-caps:"+t.fontVariantCaps+";font-variant-ligatures:"+t.fontVariantLigatures+";font-variant-numeric:"+t.fontVariantNumeric+";font-weight:"+t.fontWeight+";letter-spacing:"+t.letterSpacing+";margin-left:"+t.marginLeft+";margin-right:"+t.marginRight+";padding-left:"+t.paddingLeft+";padding-right:"+t.paddingRight+";text-indent:"+t.textIndent+";text-transform:"+t.textTransform}(e);function s(){i.requestAnimationFrame(()=>{a.innerHTML=e.value;let t=i.getComputedStyle(a);e?.style.setProperty("width",t.width)})}return l&&(a.style.cssText+=l),s(),e?.addEventListener("input",s),e?.addEventListener("change",s),()=>{r.body.removeChild(a),e?.removeEventListener("input",s),e?.removeEventListener("change",s)}}var a=e=>{if(!e)return;let t=(0,n.L9)(e),r=(0,n.zk)(e),i=(0,n.YE)(e),a=()=>{requestAnimationFrame(()=>{let r;e.style.height="auto",r="content-box"===t.boxSizing?e.scrollHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):e.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),"none"!==t.maxHeight&&r>parseFloat(t.maxHeight)?("hidden"===t.overflowY&&(e.style.overflowY="scroll"),r=parseFloat(t.maxHeight)):"hidden"!==t.overflowY&&(e.style.overflowY="hidden"),e.style.height=`${r}px`})};e.addEventListener("input",a),e.form?.addEventListener("reset",a);let l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value");Object.defineProperty(e,"value",{...l,set(){l?.set?.apply(this,arguments),a()}});let s=new r.ResizeObserver(()=>{requestAnimationFrame(()=>a())});s.observe(e);let d=new r.MutationObserver(()=>a());return d.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),i.fonts?.addEventListener("loadingdone",a),()=>{e.removeEventListener("input",a),e.form?.removeEventListener("reset",a),i.fonts?.removeEventListener("loadingdone",a),s.disconnect(),d.disconnect()}}},31348:(e,t,r)=>{Promise.resolve().then(r.bind(r,95316))},37312:(e,t,r)=>{"use strict";r.d(t,{U:()=>n,r:()=>i});let n=(0,r(91065).y)("fieldset").parts("root","errorText","helperText","legend"),i=n.build()},38582:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(30313).A)("outline","layout-grid","LayoutGrid",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-3"}]])},45554:(e,t,r)=>{"use strict";r.d(t,{Rs:()=>y});var n=r(56248),i=r(95155),a=r(95449),l=r(12115),s=r(65114),d=r(82101),o=r(4966),c=r(22977),u=r(70609),m=r(37312);let p=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{disabled:r=!1,invalid:n=!1}=t,i=(0,c.w)(),a=(0,l.useRef)(!1),s=(0,l.useRef)(!1),d=(0,l.useId)(),p=null!=(e=t.id)?e:d,g=(0,l.useRef)(null),h="fieldset::".concat(p,"::legend"),f="fieldset::".concat(p,"::error-text"),x="fieldset::".concat(p,"::helper-text");(0,u.U)(()=>{let e=g.current;if(!e)return;let t=()=>{let e=i.getRootNode();a.current=!!e.getElementById(f),s.current=!!e.getElementById(x)};t();let r=new(i.getWindow()).MutationObserver(t);return r.observe(e,{childList:!0,subtree:!0}),()=>r.disconnect()},[i,f,x]);let v=(0,l.useMemo)(()=>{let e=[];return a.current&&n&&e.push(f),s.current&&e.push(x),e.join(" ")||void 0},[n,f,x]),j=(0,l.useMemo)(()=>()=>({...m.r.root.attrs,ref:g,disabled:r,"data-disabled":(0,o.sE)(r),"data-invalid":(0,o.sE)(n),"aria-labelledby":h,"aria-describedby":v}),[r,n,h,v]),E=(0,l.useMemo)(()=>()=>({id:h,...m.r.legend.attrs,"data-disabled":(0,o.sE)(r),"data-invalid":(0,o.sE)(n)}),[h,r,n]);return{refs:{rootRef:g},disabled:r,invalid:n,getRootProps:j,getLegendProps:E,getHelperTextProps:(0,l.useMemo)(()=>()=>({id:x,...m.r.helperText.attrs}),[x]),getErrorTextProps:(0,l.useMemo)(()=>()=>({id:f,...m.r.errorText.attrs,"aria-live":"polite"}),[f])}};var g=r(83667);let h=(0,l.forwardRef)((e,t)=>{let[r,l]=(0,d.P)()(e,["id","disabled","invalid"]),o=p(r),c=(0,a.v6)(o.getRootProps(),l);return(0,i.jsx)(g.k,{value:o,children:(0,i.jsx)(n.X.fieldset,{...c,ref:(0,s.t)(t,o.refs.rootRef)})})});h.displayName="FieldsetRoot";let f=(0,l.forwardRef)((e,t)=>{let r=(0,g.t)(),l=(0,a.v6)(r.getErrorTextProps(),e);return r.invalid?(0,i.jsx)(n.X.span,{...l,ref:t}):null});f.displayName="FieldsetErrorText";let x=(0,l.forwardRef)((e,t)=>{let r=(0,g.t)(),l=(0,a.v6)(r.getHelperTextProps(),e);return(0,i.jsx)(n.X.span,{...l,ref:t})});x.displayName="FieldsetHelperText";let v=(0,l.forwardRef)((e,t)=>{let r=(0,g.t)(),l=(0,a.v6)(r.getLegendProps(),e);return(0,i.jsx)(n.X.legend,{...l,ref:t})});v.displayName="FieldsetLegend";let{withProvider:j,withContext:E}=(0,r(57181).c)({key:"fieldset"}),y=j(h,"root");E(f,"errorText"),E(x,"helperText"),E(v,"legend"),E(n.X.div,"content")},48883:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(30313).A)("outline","reload","Reload",[["path",{d:"M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747",key:"svg-0"}],["path",{d:"M20 4v5h-5",key:"svg-1"}]])},57514:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(30313).A)("outline","table","Table",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]])},89712:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(30313).A)("outline","plus","Plus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]])},93452:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(30313).A)("outline","restore","Restore",[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087",key:"svg-0"}],["path",{d:"M3 4.001v5h5",key:"svg-1"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]])},95316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>em});var n=r(95155),i=r(46426),a=r(66825),l=r(95145),s=r(98886),d=r(50851),o=r(54424),c=r(35891),u=r(1721),m=r(571),p=r(31120),g=r(46767),h=r(66168),f=r(80192),x=r(3084),v=r(86430),j=r(98064),E=r(63041),y=r(48930),b=r(50588),I=r(77141),T=r(85775),_=r(65609),S=r(95345),A=r(36780),P=r(93885),w=r(40773),V=r(2431),F=r(12115);let M=e=>{let t="select_".concat("cms_animal_category"),{...r}=e,{l:i,lang:a}=(0,A.A)(),l=(0,P.A)(e=>e.rt),{req:s,loading:d}=(0,w.A)({id:t,showLoadingToast:!1,showSuccessToast:!1}),[o,c]=(0,F.useState)();function u(){s({config:{url:"/api/cms/public-request/get-all-animal-category",method:"GET",params:{limit:"all"}},onResolve:{onSuccess:e=>{var t,r,n;c(null==e||null==(n=e.data)||null==(r=n.data)||null==(t=r.data)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.name[a]})).sort((e,t)=>{var r;return null==e||null==(r=e.label)?void 0:r.localeCompare(null==t?void 0:t.label)}))}}})}return(0,F.useEffect)(()=>{u()},[l]),(0,n.jsx)(S.p,{id:t,title:(0,V.kR)(i.animal_cateogry),loading:d,selectOptions:o,fetch:u,...r})};var R=r(70637),z=r(3455),q=r(93454),C=r(3370),k=r(35189),D=r(50572),L=r(60439),O=r(32309),H=r(96307),Y=r(46977),N=r(7791),W=r(68502),X=r(50857),Z=r(92091),B=r(45554),J=r(76150),K=r(90946),U=r(89712),G=r(62251),$=r(93452),Q=r(61456),ee=r(41521),et=r(20063),er=r(35068);let en="/api/cms/animal-composition",ei="cms_animal_population",ea=e=>{let{children:t,content:r,...i}=e;return(0,n.jsx)(g.m,{content:r,positioning:{placement:"right"},...i,children:t})},el=e=>{let t="".concat(ei,"_create"),{routeTitle:r}=e,{l:d}=(0,A.A)(),{themeConfig:c}=(0,q.p)(),m=(0,P.A)(e=>e.setRt),h=(0,D.Q)(),{open:f,onOpen:v,onClose:j}=(0,X.j)();(0,C.A)((0,H.t6)(t),f,v,j);let{req:E,loading:y}=(0,w.A)({id:t,loadingMessage:{title:(0,V.ZH)("".concat(d.add," ").concat(r))},successMessage:{title:(0,V.ZH)("".concat(d.add," ").concat(r," ").concat(d.successful))}}),b=(0,ee.Wx)({validateOnChange:!1,initialValues:{files:null,category:null,nameId:"",nameEn:"",descriptionId:"",descriptionEn:"",total:null},validationSchema:er.Ik().shape({files:(0,W.q)({maxSizeMB:10,allowedExtensions:["jpg","jpeg","png"]}).required(d.msg_required_form),nameId:er.Yj().required(d.msg_required_form),nameEn:er.Yj().required(d.msg_required_form),descriptionId:er.Yj().required(d.msg_required_form),descriptionEn:er.Yj().required(d.msg_required_form),total:er.ai().required(d.msg_required_form)}),onSubmit:e=>{var t,r;(0,O.aX)();let n=new FormData;(0,L.VP)(e.files)||n.append("files",e.files[0]),n.append("categoryId","".concat(null==(r=b.values.category)||null==(t=r[0])?void 0:t.id)),n.append("name",JSON.stringify({id:e.nameId,en:e.nameEn})),n.append("description",JSON.stringify({id:e.descriptionId,en:e.descriptionEn})),n.append("total","".concat(e.total)),E({config:{url:"".concat(en,"/create"),method:"POST",data:n},onResolve:{onSuccess:()=>{m(e=>!e)}}})}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.m,{content:"".concat(d.add," data"),children:(0,n.jsxs)(i.t,{iconButton:!!h,size:"md",pl:h?"":3,colorPalette:c.colorPalette,onClick:v,children:[(0,n.jsx)(Z.I,{children:(0,n.jsx)(U.A,{stroke:1.5})}),!h&&d.add]})}),(0,n.jsx)(a.i0,{open:f,lazyLoad:!0,size:"xs",children:(0,n.jsxs)(a.L7,{children:[(0,n.jsx)(a.$Z,{children:(0,n.jsx)(l.G,{title:"".concat(d.add," ").concat(r)})}),(0,n.jsx)(a.Ql,{children:(0,n.jsx)("form",{id:t,onSubmit:b.handleSubmit,children:(0,n.jsxs)(B.Rs,{disabled:y,children:[(0,n.jsx)(s.D,{label:d.animal_cateogry,invalid:!!(b.errors.nameId||b.errors.nameEn),errorText:b.errors.nameId||b.errors.nameEn,children:(0,n.jsxs)(J.z,{w:"full",children:[(0,n.jsx)(M,{inputValue:b.values.category,onConfirm:e=>{b.setFieldValue("category",e)},flex:1}),(0,n.jsx)(x.r,{children:(0,n.jsx)(i.t,{iconButton:!0,variant:"outline",children:(0,n.jsx)(Z.I,{children:(0,n.jsx)(U.A,{stroke:1.5})})})})]})}),(0,n.jsx)(s.D,{label:d.image,invalid:!!b.errors.files,errorText:b.errors.files,children:(0,n.jsx)(o.u,{inputValue:b.values.files,onChange:e=>{b.setFieldValue("files",e)}})}),(0,n.jsxs)(s.D,{label:d.name,invalid:!!(b.errors.nameId||b.errors.nameEn),errorText:b.errors.nameId||b.errors.nameEn,children:[(0,n.jsx)(K.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:b.values.nameId,onChange:e=>{b.setFieldValue("nameId",e)},pl:"40px !important"})}),(0,n.jsx)(K.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:b.values.nameEn,onChange:e=>{b.setFieldValue("nameEn",e)},pl:"40px !important"})})]}),(0,n.jsxs)(s.D,{label:d.description,invalid:!!(b.errors.descriptionId||b.errors.descriptionEn),errorText:b.errors.descriptionId||b.errors.descriptionEn,children:[(0,n.jsx)(K.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:b.values.descriptionId,onChange:e=>{b.setFieldValue("descriptionId",e)},pl:"40px !important"})}),(0,n.jsx)(K.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:b.values.descriptionEn,onChange:e=>{b.setFieldValue("descriptionEn",e)},pl:"40px !important"})})]}),(0,n.jsx)(s.D,{label:"Total",invalid:!!(b.errors.descriptionId||b.errors.descriptionEn),errorText:b.errors.descriptionId||b.errors.descriptionEn,children:(0,n.jsx)(u.X,{inputValue:b.values.total,onChange:e=>{b.setFieldValue("total",e)}})})]})})}),(0,n.jsx)(a.PK,{children:(0,n.jsx)(i.t,{type:"submit",form:t,colorPalette:c.colorPalette,loading:y,children:d.add})})]})})]})},es=e=>{let{filter:t,setFilter:r,routeTitle:i,...a}=e;return(0,n.jsxs)(J.z,{p:3,...a,children:[(0,n.jsx)(m.A,{inputValue:t.search,onChange:e=>{r({...t,search:e})}}),(0,n.jsx)(v.F,{navKey:ei}),(0,n.jsx)(el,{routeTitle:i})]})},ed=e=>{let t="".concat(ei,"_update"),{data:r,routeTitle:d}=e,{l:m,lang:g}=(0,A.A)(),{themeConfig:h}=(0,q.p)(),f=(0,P.A)(e=>e.setRt),{open:v,onOpen:j,onClose:E}=(0,X.j)();(0,C.A)((0,H.t6)("".concat(t,"-").concat(null==r?void 0:r.id)),v,j,E);let{req:y,loading:b}=(0,w.A)({id:t,loadingMessage:{title:(0,V.ZH)("Edit ".concat(d))},successMessage:{title:(0,V.ZH)("Edit ".concat(d," ").concat(m.successful))}}),I=(0,ee.Wx)({validateOnChange:!1,initialValues:{files:null,deleteDocumentIds:[],category:null,nameId:"",nameEn:"",descriptionId:"",descriptionEn:"",total:null},validationSchema:er.Ik().shape({files:(0,W.q)({maxSizeMB:10,allowedExtensions:["jpg","jpeg","png"]}).concat((0,W.$)({resolvedData:r,existingKey:"speciesImage",deletedKey:"deleteDocumentIds",newKey:"files",message:m.msg_required_form})),nameId:er.Yj().required(m.msg_required_form),nameEn:er.Yj().required(m.msg_required_form),descriptionId:er.Yj().required(m.msg_required_form),descriptionEn:er.Yj().required(m.msg_required_form),total:er.ai().required(m.msg_required_form)}),onSubmit:e=>{var t,n;(0,O.aX)();let i=new FormData;(0,L.VP)(e.files)||i.append("files",e.files[0]),i.append("categoryId","".concat(null==(n=I.values.category)||null==(t=n[0])?void 0:t.id)),i.append("name",JSON.stringify({id:e.nameId,en:e.nameEn})),i.append("description",JSON.stringify({id:e.descriptionId,en:e.descriptionEn})),i.append("total","".concat(e.total)),y({config:{url:"".concat(en,"/update/").concat("".concat(null==r?void 0:r.id)),method:"PATCH",data:i},onResolve:{onSuccess:()=>{f(e=>!e)}}})}});return(0,F.useEffect)(()=>{I.setValues({files:[],deleteDocumentIds:[],category:[{id:r.animalCategory.id,label:r.animalCategory.name[g]}],nameId:r.name.id,nameEn:r.name.en,descriptionId:r.description.id,descriptionEn:r.description.en,total:r.total})},[v,r]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ea,{content:"Edit",children:(0,n.jsxs)(c.Dr,{value:"edit",onClick:j,children:["Edit",(0,n.jsx)(Z.I,{boxSize:"18px",ml:"auto",children:(0,n.jsx)(G.A,{stroke:1.5})})]})}),(0,n.jsx)(a.i0,{open:v,lazyLoad:!0,size:"xs",children:(0,n.jsxs)(a.L7,{children:[(0,n.jsx)(a.$Z,{children:(0,n.jsx)(l.G,{title:"Edit ".concat(d)})}),(0,n.jsx)(a.Ql,{children:(0,n.jsx)("form",{id:t,onSubmit:I.handleSubmit,children:(0,n.jsxs)(B.Rs,{disabled:b,children:[(0,n.jsx)(s.D,{label:m.animal_cateogry,invalid:!!(I.errors.nameId||I.errors.nameEn),errorText:I.errors.nameId||I.errors.nameEn,children:(0,n.jsxs)(J.z,{w:"full",children:[(0,n.jsx)(M,{inputValue:I.values.category,onConfirm:e=>{I.setFieldValue("category",e)},flex:1}),(0,n.jsx)(x.r,{children:(0,n.jsx)(i.t,{iconButton:!0,variant:"outline",children:(0,n.jsx)(Z.I,{children:(0,n.jsx)(U.A,{stroke:1.5})})})})]})}),(0,n.jsx)(s.D,{label:m.image,invalid:!!I.errors.files,errorText:I.errors.files,children:(0,n.jsx)(o.u,{inputValue:I.values.files,onChange:e=>{I.setFieldValue("files",e)},existingFiles:r.speciesImage,onDeleteFile:e=>{I.setFieldValue("deleteDocumentIds",Array.from(new Set([...I.values.deleteDocumentIds,e.id])))},onUndoDeleteFile:e=>{I.setFieldValue("deleteDocumentIds",I.values.deleteDocumentIds.filter(t=>t!==e.id))}})}),(0,n.jsxs)(s.D,{label:m.name,invalid:!!(I.errors.nameId||I.errors.nameEn),errorText:I.errors.nameId||I.errors.nameEn,children:[(0,n.jsx)(K.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:I.values.nameId,onChange:e=>{I.setFieldValue("nameId",e)},pl:"40px !important"})}),(0,n.jsx)(K.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:I.values.nameEn,onChange:e=>{I.setFieldValue("nameEn",e)},pl:"40px !important"})})]}),(0,n.jsxs)(s.D,{label:m.description,invalid:!!(I.errors.descriptionId||I.errors.descriptionEn),errorText:I.errors.descriptionId||I.errors.descriptionEn,children:[(0,n.jsx)(K.M,{startElement:"id",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:I.values.descriptionId,onChange:e=>{I.setFieldValue("descriptionId",e)},pl:"40px !important"})}),(0,n.jsx)(K.M,{startElement:"en",display:"flex",startElementProps:{fontSize:"md",fontWeight:"medium",alignItems:"start !important",mt:"18px"},children:(0,n.jsx)(p.T,{inputValue:I.values.descriptionEn,onChange:e=>{I.setFieldValue("descriptionEn",e)},pl:"40px !important"})})]}),(0,n.jsx)(s.D,{label:"Total",invalid:!!(I.errors.descriptionId||I.errors.descriptionEn),errorText:I.errors.descriptionId||I.errors.descriptionEn,children:(0,n.jsx)(u.X,{inputValue:I.values.total,onChange:e=>{I.setFieldValue("total",e)}})})]})})}),(0,n.jsx)(a.PK,{children:(0,n.jsx)(i.t,{type:"submit",form:t,colorPalette:h.colorPalette,loading:b,children:m.save})})]})})]})},eo=e=>{let t="".concat(ei,"_restore"),{restoreIds:r,clearSelectedRows:i,disabled:a,routeTitle:l}=e,{l:s}=(0,A.A)(),d=(0,P.A)(e=>e.setRt),{req:o,loading:u}=(0,w.A)({id:t,loadingMessage:{title:(0,V.ZH)("".concat(s.restore," ").concat(l))},successMessage:{title:(0,V.ZH)("".concat(s.restore," ").concat(l," ").concat(s.successful))}});return(0,n.jsx)(f.H,{w:"full",id:"".concat(t,"-").concat(r),title:"".concat(s.restore," ").concat(l),description:s.msg_restore,confirmLabel:"".concat(s.restore),onConfirm:function(){(0,O.aX)(),o({config:{url:"".concat(en,"/restore"),method:"PATCH",data:{restoreIds:r}},onResolve:{onSuccess:()=>{d(e=>!e),null==i||i()}}})},loading:u,disabled:a,children:(0,n.jsx)(ea,{content:s.restore,children:(0,n.jsxs)(c.Dr,{value:"restore",disabled:a,children:[s.restore,(0,n.jsx)(Z.I,{boxSize:"18px",ml:"auto",children:(0,n.jsx)($.A,{stroke:1.5})})]})})})},ec=e=>{let t="".concat(ei,"_delete"),{deleteIds:r,clearSelectedRows:i,disabled:a,routeTitle:l}=e,{l:s}=(0,A.A)(),d=(0,P.A)(e=>e.setRt),{req:o,loading:u}=(0,w.A)({id:t,loadingMessage:{title:(0,V.ZH)("".concat(s.delete_," ").concat(l))},successMessage:{title:(0,V.ZH)("".concat(s.delete_," ").concat(l," ").concat(s.successful))}});return(0,n.jsx)(f.H,{w:"full",id:"".concat(t,"-").concat(r),title:"".concat(s.delete_," ").concat(l),description:s.msg_soft_delete,confirmLabel:"".concat(s.delete_),onConfirm:function(){(0,O.aX)(),o({config:{url:"".concat(en,"/delete"),method:"DELETE",data:{deleteIds:r}},onResolve:{onSuccess:()=>{d(e=>!e),null==i||i()}}})},confirmButtonProps:{color:"fg.error",colorPalette:"gray",variant:"outline"},loading:u,disabled:a,children:(0,n.jsx)(ea,{content:s.delete_,children:(0,n.jsxs)(c.Dr,{value:"delete",color:"fg.error",disabled:a,children:[s.delete_,(0,n.jsx)(Z.I,{boxSize:"18px",ml:"auto",children:(0,n.jsx)(Q.A,{stroke:1.5})})]})})})},eu=e=>{var t,r;let{filter:i,routeTitle:a}=e,{l,lang:s}=(0,A.A)(),o=(0,z.a)(e=>e.getDisplay(ei)),{error:c,initialLoading:u,data:m,onRetry:p,limit:g,setLimit:f,page:x,setPage:v,pagination:_}=(0,k.A)({initialData:void 0,url:"".concat(en,"/index"),params:i,dependencies:[i]}),S={headers:[{th:l.image,align:"center"},{th:l.animal_cateogry,sortable:!0},{th:l.name,sortable:!0},{th:l.description,sortable:!0},{th:l.added,sortable:!0},{th:l.updated,sortable:!0},{th:l.deleted,sortable:!0}],rows:null==m?void 0:m.map((e,t)=>{var r,i,a,l;return{id:e.id,idx:t,data:e,dim:!!e.deletedAt,columns:[{td:(0,n.jsx)(T.E,{id:"image-viewer-".concat(ei,"-").concat(e.id),src:(0,N.JU)(null==(r=e.speciesImage)?void 0:r[0].filePath),children:(0,n.jsx)(d.E,{src:(0,N.JU)(null==(i=e.speciesImage)?void 0:i[0].filePath),h:"24px",aspectRatio:1.1},(0,N.JU)(null==(a=e.speciesImage)?void 0:a[0].filePath))}),value:(0,N.JU)(null==(l=e.speciesImage)?void 0:l[0].filePath),align:"center"},{td:(0,n.jsx)(h.v,{children:"".concat(e.animalCategory.name[s])}),value:e.animalCategory.name[s]},{td:(0,n.jsx)(h.v,{children:"".concat(e.name[s])}),value:e.name[s]},{td:(0,n.jsx)(h.v,{children:"".concat(e.description[s])}),value:e.description[s]},{td:(0,Y.Yq)(e.createdAt,{variant:"numeric",withTime:!0}),value:e.createdAt,dataType:"date",dashEmpty:!0},{td:(0,Y.Yq)(e.updatedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.updatedAt,dataType:"date"},{td:(0,Y.Yq)(e.deletedAt,{variant:"numeric",withTime:!0,dashEmpty:!0}),value:e.deletedAt,dataType:"date"}]}}),rowOptions:[e=>({override:(0,n.jsx)(ed,{data:e.data,routeTitle:a})}),e=>({override:(0,n.jsx)(eo,{restoreIds:[e.data.id],disabled:!e.data.deletedAt,routeTitle:a})}),e=>({override:(0,n.jsx)(ec,{deleteIds:[e.data.id],disabled:!!e.data.deletedAt,routeTitle:a})})],batchOptions:[(e,t)=>{let{clearSelectedRows:r}=t;return{override:(0,n.jsx)(eo,{restoreIds:e,clearSelectedRows:r,disabled:(0,L.VP)(e)||(null==m?void 0:m.filter(t=>e.includes(t.id)).some(e=>!e.deletedAt)),routeTitle:a})}},(e,t)=>{let{clearSelectedRows:r}=t;return{override:(0,n.jsx)(ec,{deleteIds:e,clearSelectedRows:r,disabled:(0,L.VP)(e)||(null==m?void 0:m.filter(t=>e.includes(t.id)).some(e=>!!e.deletedAt)),routeTitle:a})}}]},P={loading:(0,n.jsx)(R.Q,{}),error:(0,n.jsx)(I.A,{onRetry:p}),empty:(0,n.jsx)(b.A,{}),loaded:"table"===o?(0,n.jsx)(y.b,{headers:S.headers,rows:S.rows,rowOptions:S.rowOptions,batchOptions:S.batchOptions,limit:g,setLimit:f,page:x,setPage:v,totalPage:null==_||null==(t=_.meta)?void 0:t.last_page}):(0,n.jsx)(j.z,{data:m,dataProps:S,limit:g,setLimit:f,page:x,setPage:v,totalPage:null==_||null==(r=_.meta)?void 0:r.last_page,renderItem:e=>{var t,r;let{item:i,row:l,details:d,selectedRows:o,toggleRowSelection:c}=e;return(0,n.jsx)(E.G,{item:{id:i.id,showImg:!0,img:(0,N.JU)(null==(r=i.speciesImage)||null==(t=r[0])?void 0:t.filePath),title:i.name[s],description:i.total,deletedAt:i.deletedAt},dataProps:S,row:l,selectedRows:o,toggleRowSelection:c,routeTitle:a,details:d},i.id)}})};return(0,n.jsxs)(n.Fragment,{children:[u&&P.loading,!u&&(0,n.jsxs)(n.Fragment,{children:[c&&P.error,!c&&(0,n.jsxs)(n.Fragment,{children:[m&&P.loaded,(!m||(0,L.VP)(m))&&P.empty]})]})]})};function em(){let{l:e}=(0,A.A)(),t=(0,et.usePathname)(),r=(0,N.xD)(t),i=(0,V.Ds)(e,(0,L.HV)(r).labelKey),[a,l]=(0,F.useState)({search:""});return(0,n.jsx)(_.L,{children:(0,n.jsxs)(_.T,{children:[(0,n.jsx)(es,{filter:a,setFilter:l,routeTitle:i}),(0,n.jsx)(eu,{filter:a,routeTitle:i})]})})}}},e=>{e.O(0,[7596,586,9964,9320,1668,9595,6524,358,5246,6351,9872,7368,5309,3783,4289,1372,2619,7267,8128,8832,819,5478,456,6776,7230,8441,4696,7358],()=>e(e.s=31348)),_N_E=e.O()}]);