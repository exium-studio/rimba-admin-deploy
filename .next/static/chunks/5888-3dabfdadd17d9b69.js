"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5888],{66335:(e,t,a)=>{a.d(t,{Aq:()=>I,MI:()=>d,Ng:()=>g});var n=a(91065),l=a(4966),u=a(95449),o=a(47033),r=a(87509),d=(0,n.y)("avatar").parts("root","image","fallback"),s=d.build(),i=e=>e.ids?.root??`avatar:${e.id}`,c=e=>e.ids?.image??`avatar:${e.id}:image`,p=e=>e.getById(c(e));function g(e,t){let{state:a,send:n,prop:l,scope:u}=e,o=a.matches("loaded");return{loaded:o,setSrc(e){let t=p(u);t?.setAttribute("src",e)},setLoaded(){n({type:"img.loaded",src:"api"})},setError(){n({type:"img.error",src:"api"})},getRootProps:()=>t.element({...s.root.attrs,dir:l("dir"),id:i(u)}),getImageProps:()=>t.img({...s.image.attrs,hidden:!o,dir:l("dir"),id:c(u),"data-state":o?"visible":"hidden",onLoad(){n({type:"img.loaded",src:"element"})},onError(){n({type:"img.error",src:"element"})}}),getFallbackProps:()=>t.element({...s.fallback.attrs,dir:l("dir"),id:u.ids?.fallback??`avatar:${u.id}:fallback`,hidden:o,"data-state":o?"hidden":"visible"})}}var I=(0,u.Op)({initialState:()=>"loading",effects:["trackImageRemoval","trackSrcChange"],on:{"src.change":{target:"loading"},"img.unmount":{target:"error"}},states:{loading:{entry:["checkImageStatus"],on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]},"img.error":{target:"error",actions:["invokeOnError"]}}},error:{on:{"img.loaded":{target:"loaded",actions:["invokeOnLoad"]}}},loaded:{on:{"img.error":{target:"error",actions:["invokeOnError"]}}}},implementations:{actions:{invokeOnLoad({prop:e}){e("onStatusChange")?.({status:"loaded"})},invokeOnError({prop:e}){e("onStatusChange")?.({status:"error"})},checkImageStatus({send:e,scope:t}){let a=p(t);if(a?.complete){var n;e({type:(n=a).complete&&0!==n.naturalWidth&&0!==n.naturalHeight?"img.loaded":"img.error",src:"ssr"})}}},effects:{trackImageRemoval({send:e,scope:t}){let a=t.getById(i(t));return(0,l.Ge)(a,{callback(t){Array.from(t[0].removedNodes).find(e=>e.nodeType===Node.ELEMENT_NODE&&e.matches("[data-scope=avatar][data-part=image]"))&&e({type:"img.unmount"})}})},trackSrcChange({send:e,scope:t}){let a=p(t);return(0,l.mx)(a,{attributes:["src","srcset"],callback(){e({type:"src.change"})}})}}}}),v=(0,o.x)()(["dir","id","ids","onStatusChange","getRootNode"]);(0,r.PM)(v)},91718:(e,t,a)=>{a.d(t,{Aq:()=>x,MI:()=>d,Ng:()=>f});var n=a(91065),l=a(4966),u=a(87509),o=a(95449),r=a(47033),d=(0,n.y)("pinInput").parts("root","label","input","control"),s=d.build(),i=e=>e.ids?.root??`pin-input:${e.id}`,c=e=>e.ids?.hiddenInput??`pin-input:${e.id}:hidden`,p=e=>{let t=CSS.escape(i(e)),a=`input[data-ownedby=${t}]`;return(0,l.YG)((e=>e.getById(i(e)))(e),a)},g=(e,t)=>p(e)[t],I=e=>e.getById(c(e)),v=(e,t)=>{e.value=t,e.setAttribute("value",t)},m={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};function f(e,t){let{send:a,context:n,computed:o,prop:r,scope:d}=e,g=o("isValueComplete"),I=!!r("disabled"),v=!!r("readOnly"),f=!!r("invalid"),h=!!r("required"),V=r("translations"),x=n.get("focusedIndex");function E(){p(d)[0]?.focus()}return{focus:E,count:n.get("count"),items:Array.from({length:n.get("count")}).map((e,t)=>t),value:n.get("value"),valueAsString:o("valueAsString"),complete:g,setValue(e){Array.isArray(e)||(0,u.V1)("[pin-input/setValue] value must be an array"),a({type:"VALUE.SET",value:e})},clearValue(){a({type:"VALUE.CLEAR"})},setValueAtIndex(e,t){a({type:"VALUE.SET",value:t,index:e})},getRootProps:()=>t.element({dir:r("dir"),...s.root.attrs,id:i(d),"data-invalid":(0,l.sE)(f),"data-disabled":(0,l.sE)(I),"data-complete":(0,l.sE)(g),"data-readonly":(0,l.sE)(v)}),getLabelProps:()=>t.label({...s.label.attrs,dir:r("dir"),htmlFor:c(d),id:d.ids?.label??`pin-input:${d.id}:label`,"data-invalid":(0,l.sE)(f),"data-disabled":(0,l.sE)(I),"data-complete":(0,l.sE)(g),"data-required":(0,l.sE)(h),"data-readonly":(0,l.sE)(v),onClick(e){e.preventDefault(),E()}}),getHiddenInputProps:()=>t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:c(d),readOnly:v,disabled:I,required:h,name:r("name"),form:r("form"),style:l.fe,maxLength:o("valueLength"),defaultValue:o("valueAsString")}),getControlProps:()=>t.element({...s.control.attrs,dir:r("dir"),id:d.ids?.control??`pin-input:${d.id}:control`}),getInputProps(e){let u,{index:c}=e,p="numeric"===r("type")?"tel":"text";return t.input({...s.input.attrs,dir:r("dir"),disabled:I,"data-disabled":(0,l.sE)(I),"data-complete":(0,l.sE)(g),id:(u=c.toString(),d.ids?.input?.(u)??`pin-input:${d.id}:${u}`),"data-index":c,"data-ownedby":i(d),"aria-label":V?.inputLabel?.(c,o("valueLength")),inputMode:r("otp")||"numeric"===r("type")?"numeric":"text","aria-invalid":(0,l.rq)(f),"data-invalid":(0,l.sE)(f),type:r("mask")?"password":p,defaultValue:n.get("value")[c]||"",readOnly:v,autoCapitalize:"none",autoComplete:r("otp")?"one-time-code":"off",placeholder:x===c?"":r("placeholder"),onBeforeInput(e){try{let t=(0,l.fd)(e);!function(e,t,a){if(!a)return!t||!!m[t]?.test(e);return RegExp(a,"g").test(e)}(t,r("type"),r("pattern"))&&(a({type:"VALUE.INVALID",value:t}),e.preventDefault()),t.length>2&&e.currentTarget.setSelectionRange(0,1,"forward")}catch{}},onChange(e){let t=(0,l.mK)(e),{value:n}=e.currentTarget;if("insertFromPaste"===t.inputType||n.length>2){a({type:"INPUT.PASTE",value:n}),e.currentTarget.value=n[0],e.preventDefault();return}if("deleteContentBackward"===t.inputType)return void a({type:"INPUT.BACKSPACE"});a({type:"INPUT.CHANGE",value:n,index:c})},onKeyDown(e){if(e.defaultPrevented||(0,l.q_)(e)||(0,l.VL)(e))return;let t={Backspace(){a({type:"INPUT.BACKSPACE"})},Delete(){a({type:"INPUT.DELETE"})},ArrowLeft(){a({type:"INPUT.ARROW_LEFT"})},ArrowRight(){a({type:"INPUT.ARROW_RIGHT"})},Enter(){a({type:"INPUT.ENTER"})}}[(0,l.K)(e,{dir:r("dir"),orientation:"horizontal"})];t&&(t(e),e.preventDefault())},onFocus(){a({type:"INPUT.FOCUS",index:c})},onBlur(e){let t=e.relatedTarget;(0,l.sb)(t)&&t.dataset.ownedby===i(d)||a({type:"INPUT.BLUR",index:c})}})}}}var{choose:h,createMachine:V}=(0,o.mj)(),x=V({props:({props:e})=>({placeholder:"â—‹",otp:!1,type:"numeric",defaultValue:e.count?y([],e.count):[],...e,translations:{inputLabel:(e,t)=>`pin code ${e+1} of ${t}`,...e.translations}}),initialState:()=>"idle",context:({prop:e,bindable:t})=>({value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:u.n4,onChange(t){e("onValueChange")?.({value:t,valueAsString:t.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}),computed:{_value:({context:e})=>y(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(e=>e?.trim()!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:h([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:a,computed:n}){t([()=>a.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>a.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>n("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>""!==e.get("value")[e.get("focusedIndex")],isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>void 0!==e.index},actions:{dispatchInputEvent({computed:e,scope:t}){let a=I(t);(0,l.CF)(a,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:a}){if(a("count"))return;let n=p(e);t.set("count",n.length)},focusInput({context:e,scope:t}){let a=e.get("focusedIndex");-1!==a&&g(t,a)?.focus({preventScroll:!0})},selectInputIfNeeded({context:e,prop:t,scope:a}){let n=e.get("focusedIndex");t("selectOnFocus")&&-1!==n&&(0,l.er)(()=>{g(a,n)?.select()})},invokeOnComplete({computed:e,prop:t}){e("isValueComplete")&&t("onValueComplete")?.({value:e("_value"),valueAsString:e("valueAsString")})},invokeOnInvalid({context:e,event:t,prop:a}){a("onValueInvalid")?.({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){let a=y(t.value,e.get("count"));e.set("value",a)},setFocusedValue({context:e,event:t,computed:a,flush:n}){let l=a("focusedValue"),o=e.get("focusedIndex"),r=E(l,t.value);n(()=>{e.set("value",(0,u.JT)(a("_value"),o,r))})},revertInputValue({context:e,computed:t,scope:a}){v(g(a,e.get("focusedIndex")),t("focusedValue"))},syncInputValue({context:e,event:t,scope:a}){let n=e.get("value");v(g(a,t.index),n[t.index])},syncInputElements({context:e,scope:t}){let a=p(t),n=e.get("value");a.forEach((e,t)=>{v(e,n[t])})},setPastedValue({context:e,event:t,computed:a,flush:n}){(0,l.er)(()=>{let l=a("valueAsString"),u=e.get("focusedIndex"),o=a("valueLength"),r=Math.min(u,a("filledValueLength")),d=r>0?l.substring(0,u):"",s=t.value.substring(0,o-r),i=y(`${d}${s}`.split(""),o);n(()=>{e.set("value",i)})})},setValueAtIndex({context:e,event:t,computed:a}){let n=E(a("focusedValue"),t.value);e.set("value",(0,u.JT)(a("_value"),t.index,n))},clearValue({context:e}){let t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){let a=e.get("focusedIndex");-1!==a&&e.set("value",(0,u.JT)(t("_value"),a,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){(0,l.er)(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:a}){t("blurOnComplete")&&(0,l.er)(()=>{g(a,e.get("focusedIndex"))?.blur()})},requestFormSubmit({computed:e,prop:t,scope:a}){if(!t("name")||!e("isValueComplete"))return;let n=I(a);n?.form?.requestSubmit()}}}});function E(e,t){let a=t;e[0]===t[0]?a=t[1]:e[0]===t[1]&&(a=t[0]);let n=a.split("");return(a=n[n.length-1])??""}function y(e,t){return Array.from({length:t}).fill("").map((t,a)=>e[a]||t)}var A=(0,r.x)()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);(0,u.PM)(A)}}]);